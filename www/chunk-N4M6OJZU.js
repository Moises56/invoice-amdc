import{a as Mn}from"./chunk-MMEPJXR4.js";import{a as On}from"./chunk-LQNM3KMO.js";import"./chunk-WJYYOXGJ.js";import{a as Cn}from"./chunk-ELO4S7WW.js";import{a as Pn}from"./chunk-5IKKLCCH.js";import{a as $,b as H,c as z,d as tt}from"./chunk-76SUSZ7P.js";import{$ as Ve,A as W,B as Q,Ba as He,C as be,D as ve,Da as Ge,E as we,F as ye,G as Ee,Ga as qe,I as Se,Ia as Je,J as ke,Ka as Ke,Ma as We,N as Ie,Na as Qe,Oa as Ze,P as De,Pa as Xe,Q as Fe,R as ze,Ra as tn,Sa as en,Ua as nn,W as Ae,Wa as an,X as Le,Y as Te,Z as Ne,Za as on,a as de,aa as $e,b as ge,c as me,d as pe,db as rn,e as _e,eb as cn,f as ue,fa as je,fb as ln,ga as Ye,gb as sn,h as fe,hb as dn,jb as gn,kb as mn,ma as Be,nb as pn,o as Ce,ob as _n,p as Pe,pb as un,qa as Re,qb as fn,v as Me,x as Oe,xa as Ue,y as xe,z as he}from"./chunk-PIGH2764.js";import{$ as re,L as Xt,N as te,P as ee,R as ne,V as ae,W as oe,Y as ie,b as Vt,c as $t,ca as ce,ea as le,h as jt,i as Yt,j as Bt,k as Rt,l as Ut,m as Ht,o as Gt,r as qt,s as Jt,t as Kt,v as Wt,w as Qt,x as Zt}from"./chunk-SOBSCE5F.js";import{b as se}from"./chunk-OKK4U6ED.js";import"./chunk-B4FAM7CU.js";import"./chunk-EDQZMFWJ.js";import"./chunk-AL5IVEPX.js";import{$ as ft,$a as At,A as M,B as O,Ba as N,Ca as U,Da as wt,Fa as V,I as E,J as c,Ja as yt,Ka as Et,La as St,M as ut,Pa as kt,Q as y,Qa as It,Qb as Lt,Ra as Dt,Sa as Ft,Sb as Tt,T as u,V as R,Y as e,Z as a,Za as zt,Zb as Nt,_ as m,aa as Ct,ca as S,da as x,ea as _,la as Pt,ma as o,na as b,oa as k,pa as Mt,ra as Ot,sa as xt,ta as ht,va as bt,wa as vt,x as T,za as I}from"./chunk-WYTV4Y2I.js";import"./chunk-OQQFKM4V.js";import"./chunk-QUJFQN2Y.js";import"./chunk-J7JITKZC.js";import"./chunk-BOXIHRYD.js";import"./chunk-OHGEMRV5.js";import"./chunk-XQESWZ4T.js";import"./chunk-7KGURMOZ.js";import"./chunk-KLXKYU2M.js";import"./chunk-SIK2P2H5.js";import"./chunk-4BNUL4C7.js";import"./chunk-M66VC23L.js";import"./chunk-JMWLUS2D.js";import"./chunk-EUVXMWSF.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-USUO6L27.js";import"./chunk-CKP3SGE2.js";import"./chunk-2LFY4CRM.js";import"./chunk-PJL56ILQ.js";import"./chunk-NVWEJ7GR.js";import"./chunk-UVAVEIEI.js";import"./chunk-E6CW6KXY.js";import"./chunk-Z3EESIK6.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-6WKZVARI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{h as w}from"./chunk-LNJ3S2LQ.js";var In=()=>[.25,.5,.75,1],Dn=l=>({color:l});function Fn(l,f){if(l&1){let r=S();e(0,"ion-button",8),x("click",function(){M(r);let n=_();return O(n.editarLocal())}),m(1,"ion-icon",17),a()}}function zn(l,f){l&1&&(e(0,"div",18),m(1,"ion-spinner",19),e(2,"p"),o(3,"Cargando informaci\xF3n del local..."),a()())}function An(l,f){if(l&1){let r=S();e(0,"div",20),m(1,"ion-icon",21),e(2,"h3"),o(3,"Error al cargar el local"),a(),e(4,"p"),o(5),a(),e(6,"ion-button",22),x("click",function(){M(r);let n=_();return O(n.cargarLocal())}),o(7,"Reintentar"),a()()}if(l&2){let r=_();c(5),b(r.error())}}function Ln(l,f){if(l&1){let r=S();e(0,"div",102)(1,"ion-button",103),x("click",function(){M(r);let n=_(2);return O(n.toggleEstadoLocal())}),m(2,"ion-icon",104),a()()}if(l&2){let r,t=_(2);c(2),u("name",((r=t.local())==null?null:r.estado_local)==="ACTIVO"?"pause-outline":"play-outline")}}function Tn(l,f){l&1&&m(0,"ion-spinner",105)}function Nn(l,f){if(l&1){let r=S();e(0,"div",106),m(1,"ion-icon",107),e(2,"p",108),o(3,"No hay estad\xEDsticas disponibles"),a(),e(4,"ion-button",109),x("click",function(){M(r);let n=_(2);return O(n.recargarEstadisticas())}),o(5," Recargar "),a()()}}function Vn(l,f){if(l&1&&(e(0,"div")(1,"h3",111),m(2,"ion-icon",135),o(3," Finanzas "),a(),e(4,"div",136)(5,"div",137)(6,"div",115),m(7,"ion-icon",138),e(8,"span",139),o(9),I(10,"currency"),a()(),e(11,"p",140),o(12,"Total Recaudado"),a()(),e(13,"div",141)(14,"div",115),m(15,"ion-icon",142),e(16,"span",143),o(17),I(18,"currency"),a()(),e(19,"p",144),o(20,"Monto Pendiente"),a()(),e(21,"div",145)(22,"div",115),m(23,"ion-icon",146),e(24,"span",147),o(25),I(26,"number"),a()(),e(27,"p",148),o(28,"% Recaudaci\xF3n"),a()(),e(29,"div",149)(30,"div",115),m(31,"ion-icon",150),e(32,"span",151),o(33),I(34,"currency"),a()(),e(35,"p",152),o(36,"Esperado Mensual"),a()(),e(37,"div",153)(38,"div",115),m(39,"ion-icon",154),e(40,"span",155),o(41),I(42,"currency"),a()(),e(43,"p",156),o(44,"Esperado Anual"),a()(),e(45,"div",157)(46,"div",115),m(47,"ion-icon",158),e(48,"span",159),o(49),I(50,"currency"),a()(),e(51,"p",160),o(52,"Total Facturado"),a()()()()),l&2){let r,t,n,i,s,d,p=_(3);c(9),k(" L. ",U(10,6,((r=p.estadisticas())==null||r.estadisticas_financieras==null?null:r.estadisticas_financieras.total_recaudado)||0,"","","1.2-2")," "),c(8),k(" L. ",U(18,11,((t=p.estadisticas())==null||t.estadisticas_financieras==null?null:t.estadisticas_financieras.monto_pendiente)||0,"","","1.2-2")," "),c(8),k(" ",N(26,16,((n=p.estadisticas())==null||n.estadisticas_financieras==null?null:n.estadisticas_financieras.porcentaje_recaudacion)||0,"1.1-1"),"% "),c(8),k(" L. ",U(34,19,((i=p.estadisticas())==null||i.estadisticas_financieras==null?null:i.estadisticas_financieras.recaudo_esperado_mensual)||0,"","","1.2-2")," "),c(8),k(" L. ",U(42,24,((s=p.estadisticas())==null||s.estadisticas_financieras==null?null:s.estadisticas_financieras.recaudo_esperado_anual)||0,"","","1.2-2")," "),c(8),k(" L. ",U(50,29,((d=p.estadisticas())==null||d.estadisticas_financieras==null?null:d.estadisticas_financieras.monto_total_facturas)||0,"","","1.2-2")," ")}}function $n(l,f){if(l&1){let r=S();e(0,"div")(1,"div",110)(2,"h3",111),m(3,"ion-icon",112),o(4," Facturas "),a(),e(5,"div",113)(6,"div",114),x("click",function(){M(r);let n=_(2);return O(n.filtrarPorEstadistica("total"))}),e(7,"div",115),m(8,"ion-icon",116),e(9,"span",117),o(10),a()(),e(11,"p",118),o(12,"Total Facturas"),a()(),e(13,"div",119),x("click",function(){M(r);let n=_(2);return O(n.filtrarPorEstadistica("pagadas"))}),e(14,"div",115),m(15,"ion-icon",120),e(16,"span",121),o(17),a()(),e(18,"p",122),o(19,"Pagadas"),a()(),e(20,"div",123),x("click",function(){M(r);let n=_(2);return O(n.filtrarPorEstadistica("pendientes"))}),e(21,"div",115),m(22,"ion-icon",124),e(23,"span",125),o(24),a()(),e(25,"p",126),o(26,"Pendientes"),a()(),e(27,"div",127),x("click",function(){M(r);let n=_(2);return O(n.filtrarPorEstadistica("vencidas"))}),e(28,"div",115),m(29,"ion-icon",128),e(30,"span",129),o(31),a()(),e(32,"p",130),o(33,"Vencidas"),a()(),e(34,"div",131),x("click",function(){M(r);let n=_(2);return O(n.filtrarPorEstadistica("anuladas"))}),e(35,"div",115),m(36,"ion-icon",132),e(37,"span",133),o(38),a()(),e(39,"p",134),o(40,"Anuladas"),a()()()(),y(41,Vn,53,34,"div",63),a()}if(l&2){let r,t=_(2);c(6),R("ring-2",t.filtroEstadisticaActivo()==="total")("ring-blue-400",t.filtroEstadisticaActivo()==="total"),c(4),b(t.estadisticasFacturas().total||0),c(3),R("ring-2",t.filtroEstadisticaActivo()==="pagadas")("ring-green-400",t.filtroEstadisticaActivo()==="pagadas"),c(4),b(t.estadisticasFacturas().pagadas||0),c(3),R("ring-2",t.filtroEstadisticaActivo()==="pendientes")("ring-orange-400",t.filtroEstadisticaActivo()==="pendientes"),c(4),b(t.estadisticasFacturas().pendientes||0),c(3),R("ring-2",t.filtroEstadisticaActivo()==="vencidas")("ring-red-400",t.filtroEstadisticaActivo()==="vencidas"),c(4),b(t.estadisticasFacturas().vencidas||0),c(3),R("ring-2",t.filtroEstadisticaActivo()==="anuladas")("ring-gray-400",t.filtroEstadisticaActivo()==="anuladas"),c(4),b(t.estadisticasFacturas().anuladas||0),c(3),u("ngIf",(r=t.estadisticas())==null?null:r.estadisticas_financieras)}}function jn(l,f){if(l&1){let r=S();e(0,"ion-button",161),x("click",function(){M(r);let n=_(2);return O(n.openInvoiceModal())}),m(1,"ion-icon",162),o(2," Nueva Factura "),a()}}function Yn(l,f){if(l&1&&(e(0,"ion-select-option",163),o(1),a()),l&2){let r=f.$implicit;u("value",r),c(),b(r)}}function Bn(l,f){l&1&&(e(0,"div",164),m(1,"ion-spinner",165),e(2,"p",108),o(3,"Cargando facturas..."),a()())}function Rn(l,f){if(l&1){let r=S();e(0,"ion-button",172),x("click",function(){M(r);let n=_(3);return O(n.openInvoiceModal())}),m(1,"ion-icon",162),o(2," Crear Primera Factura "),a()}}function Un(l,f){if(l&1&&(e(0,"div",166)(1,"div",167),m(2,"ion-icon",168),a(),e(3,"h3",169),o(4,"No hay facturas"),a(),e(5,"p",170),o(6,"Este local a\xFAn no tiene facturas registradas. Crea la primera factura para comenzar."),a(),y(7,Rn,3,0,"ion-button",171),a()),l&2){let r=_(2);c(7),u("ngIf",r.canCreateFactura())}}function Hn(l,f){if(l&1&&(e(0,"div",210),m(1,"ion-icon",211),e(2,"span"),o(3),I(4,"date"),a()()),l&2){let r=_(2).$implicit;c(3),k("Pagado: ",N(4,1,r.fecha_pago,"dd/MM/yyyy"),"")}}function Gn(l,f){if(l&1&&(e(0,"div",212),m(1,"ion-icon",213),e(2,"span"),o(3),I(4,"date"),a()()),l&2){let r=_(2).$implicit;c(3),k("Vence: ",N(4,1,r.fecha_vencimiento,"dd/MM"),"")}}function qn(l,f){if(l&1&&(e(0,"div",207),y(1,Hn,5,4,"div",208)(2,Gn,5,4,"div",209),a()),l&2){let r=_().$implicit;c(),u("ngIf",r.fecha_pago&&r.estado==="PAGADA"),c(),u("ngIf",!r.fecha_pago&&r.fecha_vencimiento)}}function Jn(l,f){if(l&1){let r=S();e(0,"ion-button",214),x("click",function(n){M(r);let i=_().$implicit,s=_(3);return n.stopPropagation(),O(s.marcarComoPagada(i))}),m(1,"ion-icon",215),a()}}function Kn(l,f){if(l&1){let r=S();e(0,"ion-button",216),x("click",function(n){M(r);let i=_().$implicit,s=_(3);return n.stopPropagation(),O(s.reimprimirFactura(i))}),m(1,"ion-icon",217),a()}}function Wn(l,f){if(l&1){let r=S();e(0,"ion-button",218),x("click",function(n){M(r);let i=_().$implicit,s=_(3);return n.stopPropagation(),O(s.editarFactura(i))}),m(1,"ion-icon",219),a()}}function Qn(l,f){if(l&1){let r=S();e(0,"ion-button",220),x("click",function(n){M(r);let i=_().$implicit,s=_(3);return n.stopPropagation(),O(s.anularFactura(i))}),m(1,"ion-icon",221),a()}}function Zn(l,f){if(l&1){let r=S();e(0,"ion-button",222),x("click",function(n){M(r);let i=_().$implicit,s=_(3);return n.stopPropagation(),O(s.eliminarFactura(i))}),m(1,"ion-icon",223),a()}}function Xn(l,f){if(l&1){let r=S();e(0,"div",176)(1,"div",177),x("click",function(){let n=M(r).$implicit,i=_(3);return O(i.verDetalleFactura(n))}),e(2,"div",178)(3,"div",179)(4,"div",180)(5,"h3"),o(6),a(),e(7,"p"),o(8),a()(),e(9,"ion-badge",181),o(10),a()()(),e(11,"div",182)(12,"div",183)(13,"div",184),o(14),I(15,"currency"),a(),e(16,"div",185),o(17,"Monto Total"),a()(),e(18,"div",186)(19,"div",187),m(20,"ion-icon",188),a(),e(21,"div",189)(22,"div",190),o(23),a(),e(24,"div",191),o(25),a()()(),e(26,"div",192)(27,"div",193),m(28,"ion-icon",194),e(29,"div")(30,"div",195),o(31),a(),e(32,"div",196),o(33,"Per\xEDodo"),a()()(),e(34,"div",193),m(35,"ion-icon",197),e(36,"div")(37,"div",195),o(38),I(39,"date"),a(),e(40,"div",196),o(41,"Creada"),a()()()(),y(42,qn,3,2,"div",198),e(43,"div",199)(44,"ion-button",200),x("click",function(n){let i=M(r).$implicit,s=_(3);return n.stopPropagation(),O(s.verDetalleFactura(i))}),m(45,"ion-icon",201),a(),y(46,Jn,2,0,"ion-button",202)(47,Kn,2,0,"ion-button",203)(48,Wn,2,0,"ion-button",204)(49,Qn,2,0,"ion-button",205)(50,Zn,2,0,"ion-button",206),a()()()()}if(l&2){let r=f.$implicit,t=_(3);c(6),b(r.correlativo),c(2),b(r.concepto),c(),u("color",t.getEstadoFacturaColor(r.estado)),c(),k(" ",r.estado," "),c(4),k(" L. ",U(15,15,r.monto,"","","1.2-2")," "),c(9),b(r.propietario_nombre||"Sin propietario"),c(2),k("Local #",r.local_numero||"N/A",""),c(6),b(t.formatMesFromEndpoint(r.mes)),c(7),b(N(39,20,r.createdAt,"dd/MM")),c(4),u("ngIf",r.fecha_vencimiento||r.fecha_pago),c(4),u("ngIf",r.estado==="PENDIENTE"&&t.canEditFactura()),c(),u("ngIf",r.estado!=="ANULADA"),c(),u("ngIf",r.estado!=="ANULADA"&&t.canEditFactura()),c(),u("ngIf",r.estado!=="ANULADA"&&t.canAnularFactura()),c(),u("ngIf",r.estado!=="ANULADA"&&t.canDeleteFactura())}}function ta(l,f){if(l&1&&(e(0,"div",173)(1,"div",174),y(2,Xn,51,23,"div",175),a()()),l&2){let r=_(2);c(2),u("ngForOf",r.filteredFacturas())("ngForTrackBy",r.trackByFacturaId)}}function ea(l,f){if(l&1){let r=S();e(0,"ion-infinite-scroll",224),x("ionInfinite",function(n){M(r);let i=_(2);return O(i.cargarMasFacturas(n))}),m(1,"ion-infinite-scroll-content",225),a()}}function na(l,f){if(l&1){let r=S();e(0,"div",23)(1,"ion-card",24)(2,"ion-card-header",25)(3,"div",26)(4,"div",27)(5,"div",28),m(6,"ion-icon",29),a(),e(7,"div")(8,"ion-card-title",30),o(9),a(),e(10,"ion-badge",31),o(11),a()()(),y(12,Ln,3,1,"div",32),a()(),e(13,"ion-card-content",33)(14,"div",34)(15,"div",35),m(16,"ion-icon",36),e(17,"div",37)(18,"p",38),o(19,"Propietario"),a(),e(20,"p",39),o(21),a()()(),e(22,"div",35),m(23,"ion-icon",40),e(24,"div",37)(25,"p",38),o(26,"Tel\xE9fono"),a(),e(27,"p",41),o(28),a()()(),e(29,"div",35),m(30,"ion-icon",42),e(31,"div",37)(32,"p",38),o(33,"Tipo"),a(),e(34,"p",41),o(35),a()()(),e(36,"div",43),m(37,"ion-icon",44),e(38,"div",37)(39,"p",38),o(40,"Direcci\xF3n"),a(),e(41,"p",41),o(42),a()()(),e(43,"div",45),m(44,"ion-icon",46),e(45,"div",37)(46,"p",47),o(47,"Tarifa Mensual"),a(),e(48,"p",48),o(49),I(50,"currency"),a()()(),e(51,"div",35),m(52,"ion-icon",49),e(53,"div",37)(54,"p",38),o(55,"Registro"),a(),e(56,"p",41),o(57),I(58,"date"),a()()()()()(),e(59,"ion-card",50)(60,"ion-card-header",51)(61,"div",52)(62,"div",53)(63,"div",54),m(64,"ion-icon",55),a(),e(65,"div")(66,"ion-card-title",56),o(67,"Estad\xEDsticas"),a(),e(68,"p",57),o(69,"Resumen de facturas y finanzas"),a()()(),e(70,"div",27)(71,"ion-button",58),x("click",function(){M(r);let n=_();return O(n.recargarEstadisticas())}),m(72,"ion-icon",59),a(),y(73,Tn,1,0,"ion-spinner",60),a()()(),e(74,"ion-card-content",61),y(75,Nn,6,0,"div",62)(76,$n,42,26,"div",63),a()(),e(77,"ion-card",64)(78,"ion-card-header",51)(79,"div",52)(80,"div",53)(81,"div",65),m(82,"ion-icon",66),a(),e(83,"div")(84,"ion-card-title",67),o(85,"Facturas"),a(),e(86,"p",57),o(87,"Gesti\xF3n de facturas del local"),a()()(),y(88,jn,3,0,"ion-button",68),a()(),e(89,"ion-card-content",69)(90,"div",70)(91,"div",71)(92,"ion-searchbar",72),x("ionInput",function(n){M(r);let i=_();return O(i.onSearchTermChange(n.detail.value))}),a()(),e(93,"div",73)(94,"ion-select",74),x("ionChange",function(n){M(r);let i=_();return O(i.onEstadoChange(n))}),e(95,"ion-select-option",75),o(96,"Todos los estados"),a(),e(97,"ion-select-option",76),o(98,"Pendiente"),a(),e(99,"ion-select-option",77),o(100,"Pagada"),a(),e(101,"ion-select-option",78),o(102,"Vencida"),a(),e(103,"ion-select-option",79),o(104,"Anulada"),a()(),e(105,"ion-select",80),x("ionChange",function(n){M(r);let i=_();return O(i.onMesChange(n))}),e(106,"ion-select-option",75),o(107,"Todos los meses"),a(),e(108,"ion-select-option",81),o(109,"Enero"),a(),e(110,"ion-select-option",82),o(111,"Febrero"),a(),e(112,"ion-select-option",83),o(113,"Marzo"),a(),e(114,"ion-select-option",84),o(115,"Abril"),a(),e(116,"ion-select-option",85),o(117,"Mayo"),a(),e(118,"ion-select-option",86),o(119,"Junio"),a(),e(120,"ion-select-option",87),o(121,"Julio"),a(),e(122,"ion-select-option",88),o(123,"Agosto"),a(),e(124,"ion-select-option",89),o(125,"Septiembre"),a(),e(126,"ion-select-option",90),o(127,"Octubre"),a(),e(128,"ion-select-option",91),o(129,"Noviembre"),a(),e(130,"ion-select-option",92),o(131,"Diciembre"),a()(),e(132,"ion-select",93),x("ionChange",function(n){M(r);let i=_();return O(i.onAnioChange(n))}),e(133,"ion-select-option",75),o(134,"Todos los a\xF1os"),a(),y(135,Yn,2,2,"ion-select-option",94),a(),e(136,"ion-button",95),x("click",function(){M(r);let n=_();return O(n.limpiarFiltros())}),m(137,"ion-icon",96),o(138," Limpiar "),a()()(),e(139,"div",97),y(140,Bn,4,0,"div",98)(141,Un,8,1,"div",99)(142,ta,3,2,"div",100),a(),y(143,ea,2,0,"ion-infinite-scroll",101),a()()()}if(l&2){let r,t,n,i,s,d,p,g,P,C=_();c(9),k(" Local ",(r=C.local())==null?null:r.numero_local," "),c(),u("color",C.getEstadoColor(((t=C.local())==null?null:t.estado_local)||"")),c(),k(" ",(n=C.local())==null?null:n.estado_local," "),c(),u("ngIf",C.canEditLocal()),c(9),b(((i=C.local())==null?null:i.propietario)||"No asignado"),c(7),b(((s=C.local())==null?null:s.telefono)||"No registrado"),c(7),b(((d=C.local())==null?null:d.tipo_local)||"No especificado"),c(7),b(((p=C.local())==null?null:p.direccion_local)||"No registrada"),c(7),k("L. ",U(50,23,(g=C.local())==null?null:g.monto_mensual,"","","1.2-2"),""),c(8),b(N(58,28,(P=C.local())==null?null:P.createdAt,"dd/MM/yyyy")),c(16),u("ngIf",C.isLoadingStats()),c(2),u("ngIf",!C.estadisticas()&&!C.isLoadingStats()),c(),u("ngIf",C.estadisticas()),c(12),u("ngIf",C.canCreateFactura()),c(4),u("value",C.searchTerm()),c(2),u("value",C.filtroEstado()),c(11),u("value",C.filtroMes()),c(27),u("value",C.filtroAnio()),c(3),u("ngForOf",C.getAvailableYears()),c(5),u("ngIf",C.isLoadingFacturas()),c(),u("ngIf",!C.isLoadingFacturas()&&C.filteredFacturas().length===0),c(),u("ngIf",!C.isLoadingFacturas()&&C.filteredFacturas().length>0),c(),u("ngIf",C.hasMoreFacturas()&&!C.hasActiveFilters())}}function aa(l,f){if(l&1){let r=S();e(0,"ion-fab",226)(1,"ion-fab-button",227),x("click",function(){M(r);let n=_();return O(n.openInvoiceModal())}),m(2,"ion-icon",228),a()()}}function oa(l,f){if(l&1&&(e(0,"div",249)(1,"div",250),m(2,"ion-icon",251),e(3,"span",252),o(4,"Resumen de Factura"),a()(),e(5,"div",253)(6,"div",254),o(7,"Mes:"),a(),e(8,"div",255),o(9),a(),e(10,"div",254),o(11,"Concepto:"),a(),e(12,"div",255),o(13),a(),e(14,"div",254),o(15,"Vence:"),a(),e(16,"div",255),o(17),a(),e(18,"div",256),o(19,"Observaciones:"),a(),e(20,"div",257),o(21,"Factura generada autom\xE1ticamente"),a()()()),l&2){let r=_(2);c(9),b(r.getMonthName(r.selectedMonth())),c(4),Mt("Cuota ",r.getMonthName(r.selectedMonth())," ",r.getCurrentYear(),""),c(4),b(r.getNextDueDate(r.selectedMonth()))}}function ia(l,f){l&1&&(ft(0),m(1,"ion-spinner",258),e(2,"span"),o(3,"Creando..."),a(),Ct())}function ra(l,f){l&1&&(m(0,"ion-icon",259),o(1," Crear "))}function ca(l,f){if(l&1){let r=S();e(0,"div",229)(1,"div",230)(2,"div",231),m(3,"img",232),e(4,"div",233)(5,"div",234),o(6),a(),e(7,"div",235),o(8,"Monto Mensual"),a(),e(9,"div",236),o(10),a()(),e(11,"button",237),x("click",function(){M(r);let n=_();return O(n.closeInvoiceModal())})("mouseenter",function(){M(r);let n=_();return O(n.isCloseHovered=!0)})("mouseleave",function(){M(r);let n=_();return O(n.isCloseHovered=!1)}),e(12,"span",238),o(13,"\xD7"),a()()(),e(14,"div",239)(15,"div")(16,"label",240),m(17,"ion-icon",241),o(18," Mes a Facturar "),a(),e(19,"ion-select",242),ht("ngModelChange",function(n){M(r);let i=_();return xt(i.selectedMonth,n)||(i.selectedMonth=n),O(n)}),e(20,"ion-select-option",81),o(21,"Enero"),a(),e(22,"ion-select-option",82),o(23,"Febrero"),a(),e(24,"ion-select-option",83),o(25,"Marzo"),a(),e(26,"ion-select-option",84),o(27,"Abril"),a(),e(28,"ion-select-option",85),o(29,"Mayo"),a(),e(30,"ion-select-option",86),o(31,"Junio"),a(),e(32,"ion-select-option",87),o(33,"Julio"),a(),e(34,"ion-select-option",88),o(35,"Agosto"),a(),e(36,"ion-select-option",89),o(37,"Septiembre"),a(),e(38,"ion-select-option",90),o(39,"Octubre"),a(),e(40,"ion-select-option",91),o(41,"Noviembre"),a(),e(42,"ion-select-option",92),o(43,"Diciembre"),a()()(),y(44,oa,22,4,"div",243),e(45,"div",244)(46,"button",245),x("click",function(){M(r);let n=_();return O(n.closeInvoiceModal())}),m(47,"ion-icon",246),o(48," Cancelar "),a(),e(49,"button",247),x("click",function(){M(r);let n=_();return O(n.createInvoice())}),y(50,ia,4,0,"ng-container",248)(51,ra,2,0,"ng-template",null,0,wt),a()()()()()}if(l&2){let r,t=Pt(52),n=_();c(6),b(n.mercadoNombre||"Mercado"),c(4),k("LPS. ",((r=n.local())==null?null:r.monto_mensual)||"---",""),c(2),u("ngStyle",vt(8,Dn,n.isCloseHovered?"#ef4444":"#fff")),c(7),Ot("ngModel",n.selectedMonth),c(25),u("ngIf",n.selectedMonth()>0),c(5),u("disabled",!n.selectedMonth()||n.selectedMonth()===0||n.isCreatingInvoice()),c(),u("ngIf",n.isCreatingInvoice())("ngIfElse",t)}}function la(l,f){if(l&1&&(e(0,"div",288)(1,"span",289),o(2,"DNI:"),a(),e(3,"span",290),o(4),a()()),l&2){let r,t=_(3);c(4),b((r=t.facturaSeleccionada())==null?null:r.propietario_dni)}}function sa(l,f){if(l&1&&(e(0,"div",310),o(1),a()),l&2){let r,t=_(3);c(),k(" A\xF1o: ",(r=t.facturaSeleccionada())==null?null:r.anio," ")}}function da(l,f){if(l&1&&(e(0,"div",298)(1,"span",196),m(2,"ion-icon",311),o(3," Fecha de Pago: "),a(),e(4,"span",312),o(5),I(6,"date"),a()()),l&2){let r,t=_(3);c(5),b(N(6,1,(r=t.facturaSeleccionada())==null?null:r.fecha_pago,"dd/MM/yyyy HH:mm"))}}function ga(l,f){l&1&&(e(0,"div",313)(1,"span",306),o(2,"Estado:"),a(),e(3,"span",314),o(4,"Pagada completamente"),a()())}function ma(l,f){l&1&&(e(0,"div",313)(1,"span",306),o(2,"Estado:"),a(),e(3,"span",315),o(4,"Pago pendiente"),a()())}function pa(l,f){l&1&&(e(0,"div",313)(1,"span",306),o(2,"Estado:"),a(),e(3,"span",316),o(4,"Factura vencida"),a()())}function _a(l,f){if(l&1&&(e(0,"div",317)(1,"div",283)(2,"div",318),m(3,"ion-icon",319),a(),e(4,"div",286)(5,"h4"),o(6,"Observaciones"),a(),e(7,"p"),o(8,"Notas adicionales"),a()()(),e(9,"div",287)(10,"div",320),o(11),a()()()),l&2){let r,t=_(3);c(11),b((r=t.facturaSeleccionada())==null?null:r.observaciones)}}function ua(l,f){if(l&1&&(e(0,"div",279)(1,"div",280)(2,"ion-badge",181),o(3),a()(),e(4,"div",281)(5,"div",282)(6,"div",283)(7,"div",284),m(8,"ion-icon",285),a(),e(9,"div",286)(10,"h4"),o(11,"Informaci\xF3n del Local"),a(),e(12,"p"),o(13,"Datos del establecimiento"),a()()(),e(14,"div",287)(15,"div",288)(16,"span",289),o(17,"Local:"),a(),e(18,"span",290),o(19),a()(),e(20,"div",288)(21,"span",289),o(22,"Propietario:"),a(),e(23,"span",290),o(24),a()(),y(25,la,5,1,"div",291),a()(),e(26,"div",292)(27,"div",283)(28,"div",293),m(29,"ion-icon",194),a(),e(30,"div",286)(31,"h4"),o(32,"Per\xEDodo de Facturaci\xF3n"),a(),e(33,"p"),o(34,"Mes y a\xF1o que se est\xE1 cobrando"),a()()(),e(35,"div",287)(36,"div",294),o(37),a(),y(38,sa,2,1,"div",295),a()(),e(39,"div",296)(40,"div",283)(41,"div",297),m(42,"ion-icon",197),a(),e(43,"div",286)(44,"h4"),o(45,"Fechas Importantes"),a(),e(46,"p"),o(47,"Registro y vencimientos"),a()()(),e(48,"div",287)(49,"div",298)(50,"span",196),m(51,"ion-icon",299),o(52," Fecha de Creaci\xF3n: "),a(),e(53,"span",195),o(54),I(55,"date"),a()(),e(56,"div",298)(57,"span",196),m(58,"ion-icon",300),o(59," Fecha de Vencimiento: "),a(),e(60,"span",195),o(61),I(62,"date"),a()(),y(63,da,7,4,"div",301),a()(),e(64,"div",302)(65,"div",283)(66,"div",303),m(67,"ion-icon",304),a(),e(68,"div",286)(69,"h4"),o(70,"Informaci\xF3n Financiera"),a(),e(71,"p"),o(72,"Detalles del monto"),a()()(),e(73,"div",287)(74,"div",305)(75,"span",306),o(76,"Monto Total:"),a(),e(77,"span",307),o(78),I(79,"number"),a()(),y(80,ga,5,0,"div",308)(81,ma,5,0,"div",308)(82,pa,5,0,"div",308),a()(),y(83,_a,12,1,"div",309),a()()),l&2){let r,t,n,i,s,d,p,g,P,C,D,j,Y,B,F,h=_(2);c(2),u("color",h.getEstadoFacturaColor(((r=h.facturaSeleccionada())==null?null:r.estado)||"medium")),c(),k(" ",(t=h.facturaSeleccionada())==null?null:t.estado," "),c(16),k("#",((n=h.facturaSeleccionada())==null?null:n.local_numero)||"N/A",""),c(5),b(((i=h.facturaSeleccionada())==null?null:i.propietario_nombre)||"Sin propietario"),c(),u("ngIf",(s=h.facturaSeleccionada())==null?null:s.propietario_dni),c(12),k(" ",h.formatMesFromEndpoint(((d=h.facturaSeleccionada())==null?null:d.mes)||"")," "),c(),u("ngIf",(p=h.facturaSeleccionada())==null?null:p.anio),c(16),b(N(55,15,(g=h.facturaSeleccionada())==null?null:g.createdAt,"dd/MM/yyyy HH:mm")),c(7),b(N(62,18,(P=h.facturaSeleccionada())==null?null:P.fecha_vencimiento,"dd/MM/yyyy")),c(2),u("ngIf",(C=h.facturaSeleccionada())==null?null:C.fecha_pago),c(15),k("L. ",N(79,21,((D=h.facturaSeleccionada())==null?null:D.monto)||0,"1.2-2"),""),c(2),u("ngIf",((j=h.facturaSeleccionada())==null?null:j.estado)==="PAGADA"),c(),u("ngIf",((Y=h.facturaSeleccionada())==null?null:Y.estado)==="PENDIENTE"),c(),u("ngIf",((B=h.facturaSeleccionada())==null?null:B.estado)==="VENCIDA"),c(),u("ngIf",(F=h.facturaSeleccionada())==null?null:F.observaciones)}}function fa(l,f){if(l&1){let r=S();e(0,"div",321)(1,"ion-button",322),x("click",function(){M(r);let n=_(2);return O(n.marcarComoPagada(n.facturaSeleccionada()))}),m(2,"ion-icon",323),o(3," Marcar como Pagada "),a()()}}function Ca(l,f){if(l&1){let r=S();e(0,"ion-button",324),x("click",function(){M(r);let n=_(2);return O(n.editarFactura(n.facturaSeleccionada()))}),m(1,"ion-icon",325),e(2,"span",276),o(3,"Editar"),a()()}}function Pa(l,f){if(l&1){let r=S();e(0,"ion-button",326),x("click",function(){M(r);let n=_(2);return O(n.anularFactura(n.facturaSeleccionada()))}),m(1,"ion-icon",327),e(2,"span",276),o(3,"Anular"),a()()}}function Ma(l,f){if(l&1){let r=S();e(0,"div",260)(1,"div",261)(2,"button",262),x("click",function(){M(r);let n=_();return O(n.cerrarFacturaDetailModal())})("mouseenter",function(){M(r);let n=_();return O(n.isCloseHovered=!0)})("mouseleave",function(){M(r);let n=_();return O(n.isCloseHovered=!1)}),m(3,"ion-icon",263),a(),e(4,"div",179)(5,"div",264),m(6,"ion-icon",265),a(),e(7,"div",266)(8,"h2",180),o(9),a(),e(10,"p",267),o(11),a()(),e(12,"div",268)(13,"div",269),o(14),I(15,"number"),a(),e(16,"div",185),o(17,"Monto Total"),a()()()(),y(18,ua,84,24,"div",270),e(19,"div",271),y(20,fa,4,0,"div",272),e(21,"div",273)(22,"ion-button",274),x("click",function(){M(r);let n=_();return O(n.reimprimirFactura(n.facturaSeleccionada()))}),m(23,"ion-icon",275),e(24,"span",276),o(25,"Reimprimir"),a()(),y(26,Ca,4,0,"ion-button",277)(27,Pa,4,0,"ion-button",278),a()()()}if(l&2){let r,t,n,i,s,d,p,g=_();c(2),R("close-hovered",g.isCloseHovered),c(7),b(((r=g.facturaSeleccionada())==null?null:r.correlativo)||((r=g.facturaSeleccionada())==null?null:r.numero_factura)),c(2),b((t=g.facturaSeleccionada())==null?null:t.concepto),c(3),k("L. ",N(15,11,((n=g.facturaSeleccionada())==null?null:n.monto)||0,"1.2-2"),""),c(4),u("ngIf",g.facturaSeleccionada()),c(2),u("ngIf",((i=g.facturaSeleccionada())==null?null:i.estado)==="PENDIENTE"&&g.canEditFactura()),c(),R("has-many-actions",((s=g.facturaSeleccionada())==null?null:s.estado)!=="ANULADA"&&g.canEditFactura()&&g.canAnularFactura()),c(5),u("ngIf",((d=g.facturaSeleccionada())==null?null:d.estado)!=="ANULADA"&&g.canEditFactura()),c(),u("ngIf",((p=g.facturaSeleccionada())==null?null:p.estado)!=="ANULADA"&&g.canAnularFactura())}}var Na=(()=>{let f=class f{getNextDueDate(t){if(!t||t<1||t>12)return"";let n=new Date,i=n.getFullYear(),s=n.getDate(),d=t+1,p=i;d>12&&(d=1,p=i+1);let g=new Date(p,d,0).getDate();return s>g&&(s=g),`${p}-${String(d).padStart(2,"0")}-${String(s).padStart(2,"0")}`}constructor(){this.mercadoNombre="",this.isCloseHovered=!1,this.showFacturaDetailModal=E(!1),this.facturaSeleccionada=E(null),this.localesService=T(Mn),this.facturasService=T(On),this.authService=T(se),this.route=T(zt),this.router=T(At),this.alertController=T(ae),this.toastController=T(ie),this.loadingController=T(oe),this.printingService=T(Cn),this.bluetoothService=T(Pn),this.local=E(null),this.facturas=E([]),this.estadisticas=E(null),this.isLoading=E(!0),this.isLoadingFacturas=E(!1),this.isLoadingStats=E(!1),this.localId=E(""),this.searchTerm=E(""),this.currentPage=E(1),this.totalPages=E(1),this.isInfiniteDisabled=E(!1),this.error=E(null),this.mercadoId=E(""),this.estadisticasFacturas=V(()=>{let t=this.estadisticas();return t?{total:t.estadisticas_facturas.total_facturas,pagadas:t.estadisticas_facturas.facturas_pagadas,pendientes:t.estadisticas_facturas.facturas_pendientes,vencidas:t.estadisticas_facturas.facturas_vencidas,anuladas:t.estadisticas_facturas.facturas_anuladas}:{total:0,pagadas:0,pendientes:0,vencidas:0,anuladas:0}}),this.showInvoiceModal=E(!1),this.selectedMonth=E(0),this.isCreatingInvoice=E(!1),this.filtroEstado=E(""),this.filtroMes=E(""),this.filtroEstadisticaActivo=E(null),this.filtroAnio=E(""),this.canEditLocal=V(()=>this.canEdit()),this.hasMoreFacturas=V(()=>this.currentPage()<this.totalPages()),this.filteredFacturas=V(()=>{let t=this.facturas(),n=this.searchTerm().toLowerCase().trim(),i=t;if(n&&(i=i.filter(s=>{var d,p,g,P,C,D;return((d=s.numero_factura)==null?void 0:d.toLowerCase().includes(n))||((p=s.correlativo)==null?void 0:p.toLowerCase().includes(n))||((g=s.concepto)==null?void 0:g.toLowerCase().includes(n))||((P=s.mes)==null?void 0:P.toLowerCase().includes(n))||((C=s.anio)==null?void 0:C.toString().includes(n))||((D=s.propietario_nombre)==null?void 0:D.toLowerCase().includes(n))})),this.filtroEstado()&&(i=i.filter(s=>s.estado===this.filtroEstado())),this.filtroMes()){let s=parseInt(this.filtroMes());i=i.filter(d=>{var g,P,C;if((g=d.mes)!=null&&g.includes("-"))return parseInt(d.mes.split("-")[1])===s;let p=(C=(P=d.mes)==null?void 0:P.match(/MES_(\d+)/))==null?void 0:C[1];return p?parseInt(p)===s:!1})}if(this.filtroAnio()){let s=parseInt(this.filtroAnio());i=i.filter(d=>d.anio===s)}if(this.filtroEstadisticaActivo()){let s=this.filtroEstadisticaActivo(),d=new Date;switch(s){case"pagadas":i=i.filter(p=>p.estado==="PAGADA");break;case"pendientes":i=i.filter(p=>p.estado==="PENDIENTE");break;case"vencidas":i=i.filter(p=>p.estado==="PAGADA"?!1:new Date(p.fecha_vencimiento)<d);break;case"anuladas":i=i.filter(p=>p.estado==="ANULADA");break;case"total":break}}return i}),this.canEdit=V(()=>{let t=this.authService.user();return t&&[$.ADMIN,$.MARKET].includes(t.role)}),this.canDeleteFactura=V(()=>{let t=this.authService.user();return t&&t.role===$.ADMIN}),this.canCreateFactura=V(()=>{let t=this.authService.user();return t&&[$.ADMIN,$.MARKET,$.USER].includes(t.role)}),this.canEditFactura=V(()=>{let t=this.authService.user();return t&&t.role===$.ADMIN}),this.canAnularFactura=V(()=>{let t=this.authService.user();return t&&[$.ADMIN,$.MARKET].includes(t.role)}),de({eyeOutline:je,createOutline:Le,refreshOutline:nn,alertCircleOutline:ue,storefrontOutline:ln,personOutline:Ke,callOutline:he,businessOutline:Me,locationOutline:Ue,cashOutline:Q,calendarOutline:xe,analyticsOutline:fe,documentTextOutline:Ve,checkmarkCircleOutline:ye,timeOutline:dn,closeCircleOutline:De,banOutline:Ce,trendingUpOutline:pn,walletOutline:fn,pieChartOutline:We,barChartOutline:Pe,receiptOutline:en,addOutline:pe,filterOutline:Ye,documentOutline:Ne,person:Je,checkmarkCircle:we,alertCircle:_e,printOutline:Xe,trashOutline:mn,add:ge,closeOutline:Fe,addCircleOutline:me,close:Ie,chatbubbleOutline:ve,storefront:cn,checkmarkOutline:Ee,receipt:tn,calendar:Oe,time:sn,chatbubble:be,print:Ze,create:Ae,trash:gn,chevronDownOutline:ke,chevronDownCircleOutline:Se,closeSharp:ze,cardOutline:W,mailOutline:He,helpCircleOutline:Be,searchOutline:on,statsChartOutline:rn,downloadOutline:$e,pauseOutline:qe,playOutline:Qe,documentAttachOutline:Te,informationCircleOutline:Re,cardIcon:W,cashIcon:Q,trophy:_n,trophyOutline:un,medal:Ge,ribbon:an})}ngOnInit(){console.log("LocalDetailPage: ngOnInit ejecutado");let t=this.route.snapshot.paramMap.get("id");console.log("Local ID obtenido:",t),t&&(this.localId.set(t),this.loadLocal(t),this.loadFacturas(!0),this.cargarEstadisticasFacturas())}loadLocal(t){return w(this,null,function*(){try{this.isLoading.set(!0);let n=yield this.localesService.getLocalById(t).toPromise();n?(this.local.set(n),this.cargarEstadisticasFacturas()):(this.local.set(null),this.showToast("Local no encontrado","danger"))}catch(n){console.error("Error loading local:",n),this.local.set(null),this.showToast("Error al cargar los datos del local","danger")}finally{this.isLoading.set(!1)}})}loadFacturas(t=!1){return w(this,null,function*(){t&&(this.isLoadingFacturas.set(!0),this.currentPage.set(1));try{let n=t?1:this.currentPage(),i=yield this.facturasService.getFacturasByLocal(this.localId(),n,10).toPromise();i&&(t?this.facturas.set(i.data):this.facturas.update(s=>[...s,...i.data]),this.totalPages.set(i.pagination.total_pages),this.isInfiniteDisabled.set(this.currentPage()>=i.pagination.total_pages))}catch(n){console.error("Error loading facturas:",n),this.showToast("Error al cargar las facturas","danger")}finally{this.isLoadingFacturas.set(!1)}})}onRefresh(t){return w(this,null,function*(){yield Promise.all([this.loadLocal(this.localId()),this.loadFacturas(!0)]),t.target.complete()})}onLoadMore(t){return w(this,null,function*(){this.currentPage()<this.totalPages()&&(this.currentPage.update(n=>n+1),yield this.loadFacturas()),t.target.complete()})}refrescarLocal(){this.loadLocal(this.localId()),this.loadFacturas(!0)}editarLocal(){this.router.navigate(["/mercados",this.mercadoId(),"locales",this.localId(),"edit"])}cargarLocal(){this.loadLocal(this.localId())}toggleEstadoLocal(){return w(this,null,function*(){let t=this.local();if(!t)return;let n=t.estado_local===z.ACTIVO?z.INACTIVO:z.ACTIVO;try{yield this.localesService.updateLocal(t.id,{estado_local:n}).toPromise(),this.showToast(`Local ${n.toLowerCase()}`,"success"),this.loadLocal(this.localId())}catch{this.showToast("Error al cambiar estado del local","danger")}})}openInvoiceModal(){this.selectedMonth.set(new Date().getMonth()+1),this.isCreatingInvoice.set(!1),this.showInvoiceModal.set(!0)}closeInvoiceModal(){try{this.showInvoiceModal.set(!1),this.selectedMonth.set(0),this.isCreatingInvoice.set(!1)}catch(t){console.warn("Error cerrando modal:",t)}}createInvoice(){return w(this,null,function*(){if(!(yield this.bluetoothService.isConnected())){yield(yield this.alertController.create({header:"Impresora no conectada",message:"Para crear una factura, primero debe conectar una impresora Bluetooth.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Configurar Impresora",handler:()=>{this.router.navigate(["/bluetooth-settings"])}}]})).present();return}if(!this.selectedMonth()||this.selectedMonth()===0){this.showToast("Debe seleccionar un mes","warning");return}this.isCreatingInvoice.set(!0);try{let n=this.local(),i=this.authService.user();if(!n||!i){this.showToast("Error: Informaci\xF3n insuficiente","danger"),this.isCreatingInvoice.set(!1);return}let s=new Date().getFullYear(),d=this.getMonthName(this.selectedMonth()),p=`${s}-${String(this.selectedMonth()).padStart(2,"0")}`,g=this.selectedMonth()+1,P=s;g>12&&(g=1,P=s+1);let C=new Date().getDate(),D=new Date(P,g,0).getDate();C>D&&(C=D);let j=new Date(P,g-1,C),Y=typeof n.monto_mensual=="string"?parseFloat(n.monto_mensual):n.monto_mensual||0,B={concepto:`Cuota mensual ${d} ${s}`,mes:p,anio:s,monto:Y,estado:H.PENDIENTE,fecha_vencimiento:j.toISOString(),observaciones:`Factura generada para ${d} ${s}`,localId:n.id,createdByUserId:i.id},F=yield this.facturasService.createFactura(B).toPromise(),h=null;F&&typeof F=="object"&&("data"in F&&F.data&&typeof F.data=="object"&&"id"in F.data?h=F.data:"id"in F&&(h=F)),h?(this.closeInvoiceModal(),this.loadFacturas(!0),this.cargarEstadisticasFacturas(),this.imprimirFactura(h)):(console.error("Respuesta inesperada al crear factura:",F),this.showToast("No se pudo crear la factura. Respuesta inesperada.","danger"))}catch(n){n.status===409?this.showToast("Ya existe una factura para este mes","danger"):this.showToast("Error al crear la factura","danger")}finally{this.isCreatingInvoice.set(!1)}})}formatFacturaTicket(t){var nt,at,ot,it,rt,ct,lt,st,dt,gt;if(!t)return console.error("Error: factura es null o undefined"),"ERROR: No hay datos de factura para imprimir";let n=40,i=v=>{try{return v?String(v).normalize("NFC"):""}catch(L){return console.warn("Error normalizando texto:",v,L),String(v||"")}},s=v=>{try{return v?[...String(v)].length:0}catch(L){return console.warn("Error calculando longitud:",v,L),String(v||"").length}},d=v=>{if(!v||v.trim()==="")return" ".repeat(n);let L=i(v.trim()),mt=s(L);if(mt>=n)return[...L].slice(0,n).join("");let pt=n-mt,_t=Math.floor(pt/2),kn=pt-_t;return" ".repeat(_t)+L+" ".repeat(kn)},p=()=>"-".repeat(n),g=()=>" ".repeat(n),P=[g(),d("ALCALDIA MUNICIPAL DEL DISTRITO CENTRAL"),d("Tegucigalpa, Honduras, C.A."),d("Gerencia de Recaudacion y Control Financiero"),g(),d("ORDEN DE PAGO"),p()],C=i(t.mercado_nombre||((at=(nt=t.local)==null?void 0:nt.mercado)==null?void 0:at.nombre_mercado)||((ot=t.local)==null?void 0:ot.mercado_nombre)||"N/A"),D=i(((rt=(it=t.local)==null?void 0:it.mercado)==null?void 0:rt.direccion)||((ct=t.local)==null?void 0:ct.direccion_local)||"N/A"),j=i(t.local_nombre||((lt=t.local)==null?void 0:lt.nombre_local)||"N/A"),Y=i(t.local_numero||((st=t.local)==null?void 0:st.numero_local)||"N/A"),B=i(t.propietario_nombre||((dt=t.local)==null?void 0:dt.propietario)||"N/A"),F=i(t.propietario_dni||((gt=t.local)==null?void 0:gt.dni_propietario)||"N/A"),h="N/A",A="N/A";try{h=t.createdAt?this.formatDate(t.createdAt):"N/A"}catch(v){console.warn("Error formateando fecha de emisi\xF3n:",v),h="N/A"}try{A=t.fecha_vencimiento?this.formatDate(t.fecha_vencimiento):"N/A"}catch(v){console.warn("Error formateando fecha de vencimiento:",v),A="N/A"}let G="N/A",q="N/A",J="N/A",et="Sin observaciones";try{G=i(t.concepto||"N/A"),q=i(t.mes?this.formatMesFromEndpoint(t.mes):"N/A"),J=i(t.anio||"N/A"),et=i(t.observaciones||"Sin observaciones")}catch(v){console.warn("Error procesando datos del pago:",v)}let K="L. 0.00";try{typeof t.monto=="number"?K=this.formatCurrency(t.monto):typeof t.monto=="string"&&!isNaN(Number(t.monto))&&(K=this.formatCurrency(Number(t.monto)))}catch(v){console.warn("Error formateando monto:",v),K="L. 0.00"}let xn=i(t.estado||"PENDIENTE"),hn=i(t.correlativo||t.numero_factura||t.id||"N/A"),Z="Sistema";if(t.createdBy&&(t.createdBy.nombre||t.createdBy.apellido)){let v=i(t.createdBy.nombre||""),L=i(t.createdBy.apellido||"");Z=`${v} ${L}`.trim()}else t.createdByUserId&&(Z=i(t.createdByUserId));let bn=[d("-- Datos Generales --"),g(),`Mercado: ${C}`,`Direccion: ${D}`,`Factura #: ${hn}`,`Fecha emision: ${h}`,`Fecha vencimiento: ${A}`,`Local: ${j} (No. ${Y})`,`Propietario: ${B}`,`DNI: ${F}`],vn=[p(),d("-- Detalle de Factura --"),g(),`Concepto: ${G}`,`Pago de Mes: ${q}`,`Obs: ${et}`,`Estado: ${xn}`],wn=[p(),d("-- MONTO A PAGAR --"),d(K),p()],yn=[`Factura generada por: ${Z}`],En=[p(),d("-- INSTRUCCIONES --"),d("Presente este recibo en caja"),d("para realizar su pago"),g(),d("-- CIUDAD DE BUEN CORAZON --"),p(),g()],Sn=[...P,...bn,...vn,...wn,...yn,...En],X;try{X=Sn.map(v=>{try{return i(v||"")}catch(L){return console.warn("Error normalizando l\xEDnea:",v,L),String(v||"")}})}catch(v){return console.error("Error procesando ticket completo:",v),"ERROR: No se pudo generar el ticket de impresi\xF3n"}return console.log("Ticket generado correctamente, l\xEDneas:",X.length),X.join(`
`)}imprimirFactura(t){return w(this,null,function*(){let n=yield this.loadingController.create({message:"Preparando impresi\xF3n...",spinner:"crescent"});yield n.present();try{let i=this.formatFacturaTicket(t);n.message="Enviando a la impresora...",yield this.bluetoothService.print(i),yield n.dismiss(),this.showToast("Factura enviada a la impresora correctamente.","success")}catch{yield n.dismiss(),yield(yield this.alertController.create({header:"Error de Impresi\xF3n",message:"No se pudo imprimir la factura. Verifique la conexi\xF3n de la impresora Bluetooth.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Reintentar",handler:()=>{this.imprimirFactura(t)}},{text:"Configurar Impresora",handler:()=>{this.router.navigate(["/bluetooth-settings"])}}]})).present()}})}crearFactura(){return w(this,null,function*(){let t=new Date,n=[],i=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,s=`${this.getMonthName(t.getMonth()+1)} ${t.getFullYear()} (Mes Actual)`;for(let g=3;g>=1;g--){let P=new Date(t.getFullYear(),t.getMonth()-g,1),C=`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}`,D=`${this.getMonthName(P.getMonth()+1)} ${P.getFullYear()}`;n.push({text:D,value:C,type:"past"})}for(let g=1;g<=11;g++){let P=new Date(t.getFullYear(),t.getMonth()+g,1),C=`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}`,D=`${this.getMonthName(P.getMonth()+1)} ${P.getFullYear()}`;n.push({text:D,value:C,type:"future"})}let d=[{name:"mes",type:"radio",label:s,value:i,checked:!0},...n.map(g=>({name:"mes",type:"radio",label:g.text+(g.type==="past"?" (Anterior)":""),value:g.value,checked:!1}))];yield(yield this.alertController.create({header:"Crear Nueva Factura",message:"Seleccione el mes para el cual desea generar la factura:",inputs:d,cssClass:"month-selector-alert",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Siguiente",handler:g=>w(this,null,function*(){return g?(yield this.mostrarFormularioObservaciones(g),!0):(this.showToast("Debe seleccionar un mes","warning"),!1)})}]})).present()})}mostrarFormularioObservaciones(t){return w(this,null,function*(){if(yield this.validarFacturaExistente(t)){let[i,s]=t.split("-"),d=this.getMonthName(parseInt(s));yield(yield this.alertController.create({header:"Factura Ya Existente",message:`
          <div class="text-center">
            <ion-icon name="information-circle-outline" color="primary" style="font-size: 48px; margin-bottom: 16px;"></ion-icon>
            <p>Ya existe una factura para <strong>${d} ${i}</strong>.</p>
            <p>\xBFDesea continuar de todos modos o elegir otro mes?</p>
          </div>
        `,cssClass:"error-alert",buttons:[{text:"Elegir Otro Mes",cssClass:"primary",handler:()=>{this.crearFactura()}},{text:"Ver Factura Existente",cssClass:"secondary",handler:()=>{this.buscarYMostrarFacturaExistente(d,i)}},{text:"Continuar Anyway",role:"destructive",cssClass:"danger",handler:()=>{this.continuarConFormularioObservaciones(t,!0)}}]})).present();return}this.continuarConFormularioObservaciones(t,!1)})}continuarConFormularioObservaciones(t,n=!1){return w(this,null,function*(){let[i,s]=t.split("-"),d=this.getMonthName(parseInt(s));yield(yield this.alertController.create({header:"Crear Factura",message:`Generar factura para <strong>${d} ${i}</strong>${n?" (Se intentar\xE1 crear aunque exista una similar)":""}`,inputs:[{name:"observaciones",type:"textarea",placeholder:"Observaciones adicionales (opcional)",attributes:{rows:3}}],buttons:[{text:"Atr\xE1s",handler:()=>{this.crearFactura()}},{text:"Crear Factura",handler:g=>(this.procesarCreacionFactura(t,g.observaciones||""),!0)}]})).present()})}procesarCreacionFactura(t,n=""){return w(this,null,function*(){var s;let i=yield this.loadingController.create({message:"Creando factura...",spinner:"crescent"});yield i.present();try{let d=this.local(),p=this.authService.user();if(!d||!p){yield i.dismiss(),this.showToast("Error: Informaci\xF3n insuficiente para crear la factura","danger");return}let[g,P]=t.split("-"),C=this.getMonthName(parseInt(P)),D=parseInt(P)===12?1:parseInt(P)+1,j=parseInt(P)===12?parseInt(g)+1:parseInt(g),Y=new Date(j,D-1,15),B=typeof d.monto_mensual=="string"?parseFloat(d.monto_mensual):d.monto_mensual||0,F={concepto:`Cuota mensual ${C} ${g}`,mes:t,anio:parseInt(g),monto:B,estado:H.PENDIENTE,fecha_vencimiento:Y.toISOString(),observaciones:n||"Factura generada autom\xE1ticamente",localId:d.id,createdByUserId:p.id},h=yield this.facturasService.createFactura(F).toPromise();if(yield i.dismiss(),h&&h.data){this.showToast("Factura creada exitosamente","success"),this.loadFacturas(!0),this.cargarEstadisticasFacturas();try{let A=h.data,G={id:A.numero_factura||A.id,date:A.createdAt?new Date(A.createdAt):new Date,customerName:A.propietario_nombre||d.propietario||"N/A",items:[{quantity:1,description:A.concepto,price:A.monto}],subtotal:A.monto,tax:0,total:A.monto},q=this.printingService.formatInvoiceForPrinting(G),J=yield this.loadingController.create({message:"Imprimiendo factura...",spinner:"dots"});yield J.present(),yield this.bluetoothService.print(q),yield J.dismiss(),this.showToast("Factura enviada a la impresora","success")}catch{this.showToast("Error al imprimir la factura","danger")}}}catch(d){if(yield i.dismiss(),d.status===409){let[p,g]=t.split("-"),P=this.getMonthName(parseInt(g));yield this.mostrarErrorFacturaDuplicada(P,p,d)}else if(d.status===400){let p=((s=d.error)==null?void 0:s.message)||"Datos inv\xE1lidos para crear la factura";this.showToast(p,"danger")}else d.status===403?this.showToast("No tiene permisos para crear facturas","danger"):d.status===500?this.showToast("Error interno del servidor. Intente nuevamente","danger"):d.status===0||!d.status?this.showToast("Error de conexi\xF3n. Verifique su red","danger"):this.showToast("Error al crear la factura. Intente nuevamente","danger")}})}mostrarErrorFacturaDuplicada(t,n,i){return w(this,null,function*(){var p;let s=((p=i.error)==null?void 0:p.message)||`Ya existe una factura para ${t} ${n}`;yield(yield this.alertController.create({header:"Factura Duplicada",message:`
        <div class="text-center">
          <ion-icon name="warning-outline" color="warning" style="font-size: 48px; margin-bottom: 16px;"></ion-icon>
          <p><strong>${s}</strong></p>
          <p>\xBFQu\xE9 desea hacer?</p>
        </div>
      `,cssClass:"error-alert",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Ver Factura Existente",cssClass:"primary",handler:()=>{this.buscarYMostrarFacturaExistente(t,n)}},{text:"Elegir Otro Mes",cssClass:"tertiary",handler:()=>{setTimeout(()=>this.crearFactura(),300)}}]})).present()})}buscarYMostrarFacturaExistente(t,n){return w(this,null,function*(){try{let s=this.facturas().find(d=>d.mes.includes(t)&&d.anio.toString()===n);s?this.verDetalleFactura(s):(yield this.loadFacturas(!0),this.showToast(`Busque la factura de ${t} ${n} en la lista`,"medium"))}catch(i){console.error("Error finding existing factura:",i),this.showToast("No se pudo encontrar la factura existente","warning")}})}validarFacturaExistente(t){return w(this,null,function*(){let[n,i]=t.split("-"),s=this.getMonthName(parseInt(i));return!!this.facturas().find(g=>g.mes.includes(s)&&g.anio.toString()===n)})}getMonthName(t){return["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t-1]||"Mes desconocido"}filtrarPorEstadistica(t){this.filtroEstadisticaActivo()===t?this.filtroEstadisticaActivo.set(null):(this.filtroEstadisticaActivo.set(t),this.filtroEstado.set(""),this.searchTerm.set(""))}cargarEstadisticasFacturas(){return w(this,null,function*(){var t;this.isLoadingStats.set(!0);try{let n=this.localId();if(console.log("Cargando estad\xEDsticas para local:",n),!n)return;let i=yield this.localesService.getLocalStats(n).toPromise();console.log("Estad\xEDsticas recibidas:",i),this.estadisticas.set(i||null),(t=i==null?void 0:i.mercado)!=null&&t.nombre&&(this.mercadoNombre=i.mercado.nombre)}catch(n){console.error("Error loading estadisticas:",n),this.estadisticas.set(null)}finally{this.isLoadingStats.set(!1)}})}recargarEstadisticas(){return w(this,null,function*(){console.log("Forzando recarga de estad\xEDsticas..."),yield this.cargarEstadisticasFacturas()})}verDetalleFactura(t){this.facturaSeleccionada.set(t),this.showFacturaDetailModal.set(!0)}cerrarFacturaDetailModal(){try{this.showFacturaDetailModal.set(!1),this.facturaSeleccionada.set(null)}catch(t){console.warn("Error cerrando modal de detalle:",t)}}marcarComoPagada(t){return w(this,null,function*(){yield(yield this.alertController.create({header:"Confirmar Pago",message:`\xBFConfirmar el pago de la factura ${t.correlativo}?`,inputs:[{name:"fechaPago",type:"date",value:new Date().toISOString().split("T")[0],placeholder:"Fecha de pago"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Confirmar Pago",handler:i=>w(this,null,function*(){let s=yield this.loadingController.create({message:"Procesando pago..."});yield s.present();try{yield this.facturasService.payFactura(t.id,i.fechaPago).toPromise(),yield s.dismiss(),this.showToast("Factura marcada como pagada exitosamente","success"),this.loadFacturas(!0),this.cargarEstadisticasFacturas(),this.cerrarFacturaDetailModal()}catch(d){yield s.dismiss(),console.error("Error al marcar como pagada:",d),this.showToast("Error al procesar el pago","danger")}})}]})).present()})}editarFactura(t){this.router.navigate(["/facturas/editar",t.id])}anularFactura(t){return w(this,null,function*(){yield(yield this.alertController.create({header:"Anular Factura",message:`\xBFEst\xE1 seguro de que desea anular la factura ${t.correlativo}?`,subHeader:"La factura cambiar\xE1 su estado a ANULADA pero se mantendr\xE1 en el sistema para auditor\xEDa",inputs:[{name:"razon_anulacion",type:"textarea",placeholder:"Motivo de la anulaci\xF3n (requerido)",attributes:{maxlength:255,rows:3,required:!0}}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Anular Factura",role:"destructive",handler:i=>w(this,null,function*(){var d;if(!i.razon_anulacion||i.razon_anulacion.trim()==="")return this.showToast("Debe ingresar el motivo de la anulaci\xF3n","warning"),!1;let s=yield this.loadingController.create({message:"Anulando factura..."});yield s.present();try{let p={razon_anulacion:i.razon_anulacion.trim()},g=yield this.facturasService.anularFacturaPatch(t.id,p).toPromise();if(yield s.dismiss(),g!=null&&g.data){let P=g.data;this.showToast(`Factura ${P.correlativo} anulada correctamente`,"success"),this.loadFacturas(!0),this.cargarEstadisticasFacturas(),this.cerrarFacturaDetailModal()}else this.showToast("Factura anulada, pero no se recibi\xF3 confirmaci\xF3n completa","warning");return!0}catch(p){yield s.dismiss(),console.error("Error al anular factura:",p);let g="Error al anular la factura";if(p&&typeof p=="object"&&"error"in p){let P=p;(d=P.error)!=null&&d.message?g=P.error.message:P.message&&(g=P.message)}return this.showToast(g,"danger"),!1}})}]})).present()})}eliminarFactura(t){return w(this,null,function*(){yield(yield this.alertController.create({header:"\u26A0\uFE0F Eliminar Factura Permanentemente",message:`\xBFEst\xE1 seguro de que desea ELIMINAR DEFINITIVAMENTE la factura ${t.correlativo}?`,subHeader:"\u{1F6A8} ADVERTENCIA: Esta acci\xF3n NO se puede deshacer. La factura ser\xE1 eliminada permanentemente del sistema.",inputs:[{name:"confirmacion",type:"text",placeholder:'Escriba "ELIMINAR" para confirmar',attributes:{maxlength:20}},{name:"observaciones",type:"textarea",placeholder:"Motivo de la eliminaci\xF3n (obligatorio)",attributes:{maxlength:500,rows:3}}],buttons:[{text:"Cancelar",role:"cancel"},{text:"\u{1F5D1}\uFE0F Eliminar Permanentemente",role:"destructive",handler:i=>w(this,null,function*(){var d,p;if(((d=i.confirmacion)==null?void 0:d.toUpperCase())!=="ELIMINAR")return this.showToast('Debe escribir "ELIMINAR" para confirmar',"warning"),!1;if(!((p=i.observaciones)!=null&&p.trim()))return this.showToast("Debe especificar el motivo de la eliminaci\xF3n","warning"),!1;let s=yield this.loadingController.create({message:"Eliminando factura permanentemente..."});yield s.present();try{return yield this.facturasService.deleteFactura(t.id).toPromise(),yield s.dismiss(),this.showToast("Factura eliminada permanentemente","success"),this.loadFacturas(!0),this.cargarEstadisticasFacturas(),this.cerrarFacturaDetailModal(),!0}catch(g){return yield s.dismiss(),console.error("Error al eliminar factura:",g),this.showToast("Error al eliminar la factura","danger"),!1}})}]})).present()})}aplicarFiltros(){}limpiarFiltros(){this.filtroEstado.set(""),this.filtroMes.set(""),this.filtroAnio.set(""),this.searchTerm.set("")}getAvailableYears(){let t=new Date().getFullYear(),n=2025,i=Math.max(t+1,n+1),s=[];for(let d=i;d>=n;d--)s.push(d);return s}hasActiveFilters(){return!!(this.filtroEstado()||this.filtroMes()||this.filtroAnio()||this.searchTerm().trim())}onEstadoChange(t){this.filtroEstado.set(t.detail.value||"")}onMesChange(t){this.filtroMes.set(t.detail.value||"")}onAnioChange(t){this.filtroAnio.set(t.detail.value||"")}onSearchTermChange(t){this.searchTerm.set(t)}cargarMasFacturas(t){this.onLoadMore(t)}getEstadoColor(t){switch(t==null?void 0:t.toUpperCase()){case"ACTIVO":return"success";case"INACTIVO":return"danger";case"SUSPENDIDO":return"warning";default:return"medium"}}getEstadoFacturaColor(t){switch(t==null?void 0:t.toUpperCase()){case"PAGADA":return"success";case"PENDIENTE":return"warning";case"VENCIDA":return"danger";case"ANULADA":return"medium";default:return"medium"}}getLocalStatusColor(t){switch(t){case z.OCUPADO:return"success";case z.LIBRE:return"warning";case z.ACTIVO:return"primary";case z.INACTIVO:return"danger";case z.SUSPENDIDO:return"danger";case z.PENDIENTE:return"medium";default:return"medium"}}getFacturaStatusColor(t){switch(t){case H.PAGADA:return"success";case H.PENDIENTE:return"warning";case H.VENCIDA:return"danger";case H.ANULADA:return"medium";default:return"medium"}}getLocalStatusText(t){switch(t){case z.OCUPADO:return"Ocupado";case z.LIBRE:return"Disponible";case z.ACTIVO:return"Activo";case z.INACTIVO:return"Inactivo";case z.SUSPENDIDO:return"Suspendido";case z.PENDIENTE:return"Pendiente";default:return"Sin estado"}}getTipoLocalText(t){switch(t){case tt.CARNICERIA:return"Carnicer\xEDa";case tt.OTROS:return"Otros";default:return"No especificado"}}formatDate(t){return new Date(t).toLocaleDateString("es-HN",{day:"2-digit",month:"2-digit",year:"numeric"})}formatCurrency(t){return`L ${t.toLocaleString("es-HN",{minimumFractionDigits:2})}`}trackByFacturaId(t,n){return n.id}showToast(t,n){return w(this,null,function*(){yield(yield this.toastController.create({message:t,duration:3e3,color:n,position:"top"})).present()})}verDetalleCompleto(){return w(this,null,function*(){yield(yield this.alertController.create({header:"Informaci\xF3n Completa del Local",message:this.buildLocalInfoMessage(),buttons:["Cerrar"],cssClass:"local-info-alert"})).present()})}buildLocalInfoMessage(){let t=this.local();return t?`
      <div class="local-info-content">
        <p><strong>ID:</strong> ${t.id}</p>
        <p><strong>Nombre:</strong> ${t.nombre_local||"No especificado"}</p>
        <p><strong>N\xFAmero:</strong> ${t.numero_local}</p>
        <p><strong>Permiso de Operaci\xF3n:</strong> ${t.permiso_operacion||"No especificado"}</p>
        <p><strong>Tipo:</strong> ${t.tipo_local}</p>
        <p><strong>Direcci\xF3n:</strong> ${t.direccion_local||"No especificada"}</p>
        <p><strong>Estado:</strong> ${t.estado_local}</p>
        <p><strong>Monto Mensual:</strong> L ${t.monto_mensual}</p>
        <p><strong>Propietario:</strong> ${t.propietario||"No especificado"}</p>
        <p><strong>DNI Propietario:</strong> ${t.dni_propietario||"No especificado"}</p>
        <p><strong>Tel\xE9fono:</strong> ${t.telefono||"No especificado"}</p>
        <p><strong>Email:</strong> ${t.email||"No especificado"}</p>
        <p><strong>Coordenadas:</strong> ${t.latitud}, ${t.longitud}</p>
        <p><strong>Fecha de Creaci\xF3n:</strong> ${this.formatDate(t.createdAt)}</p>
        <p><strong>\xDAltima Actualizaci\xF3n:</strong> ${this.formatDate(t.updatedAt)}</p>
      </div>
    `:"No hay informaci\xF3n disponible"}getCurrentFormattedDate(){let t=new Date,n=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear();return`${n}/${i}/${s}`}getCurrentYear(){return new Date().getFullYear()}getCurrentFormattedMonth(){return String(new Date().getMonth()+1).padStart(2,"0")}getFormattedSelectedMonth(){return String(this.selectedMonth()).padStart(2,"0")}formatMesFromEndpoint(t){if(!t)return"Mes no especificado";if(t.includes("-")){let[i,s]=t.split("-"),d=parseInt(s);return`${this.getMonthName(d)} ${i}`}let n=parseInt(t);return n>=1&&n<=12?`${this.getMonthName(n)} ${this.getCurrentYear()}`:t}extractMonthNumber(t){if(!t)return 0;if(t.includes("-")){let[,n]=t.split("-");return parseInt(n)||0}return parseInt(t)||0}extractYearFromMes(t){if(!t)return this.getCurrentYear();if(t.includes("-")){let[n]=t.split("-");return parseInt(n)||this.getCurrentYear()}return this.getCurrentYear()}reimprimirFactura(t){return w(this,null,function*(){if(!(yield this.bluetoothService.isConnected())){yield(yield this.alertController.create({header:"Impresora no conectada",message:"Para reimprimir la factura, primero debe conectar una impresora Bluetooth.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Configurar Impresora",handler:()=>{this.router.navigate(["/bluetooth-settings"])}}]})).present();return}yield(yield this.alertController.create({header:"Reimprimir Factura",message:`\xBFDesea reimprimir la factura ${t.correlativo||t.numero_factura}?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Reimprimir",handler:()=>w(this,null,function*(){yield this.imprimirFactura(t)})}]})).present()})}getFacturaActions(t){let n=[];return n.push({icon:"eye-outline",label:"Ver",color:"primary",action:()=>this.verDetalleFactura(t)}),t.estado==="PENDIENTE"&&this.canEditFactura()&&n.push({icon:"checkmark-circle-outline",label:"Pagar",color:"success",action:()=>this.marcarComoPagada(t)}),t.estado!=="ANULADA"&&n.push({icon:"print-outline",label:"Imprimir",color:"secondary",action:()=>this.reimprimirFactura(t)}),t.estado!=="ANULADA"&&this.canEditFactura()&&n.push({icon:"create-outline",label:"Editar",color:"warning",action:()=>this.editarFactura(t)}),t.estado!=="ANULADA"&&this.canAnularFactura()&&n.push({icon:"trash-outline",label:"Anular",color:"danger",action:()=>this.anularFactura(t)}),n}ngOnDestroy(){try{this.showInvoiceModal()&&this.closeInvoiceModal(),this.showFacturaDetailModal()&&this.cerrarFacturaDetailModal()}catch(t){console.warn("Error en ngOnDestroy:",t)}}};f.\u0275fac=function(n){return new(n||f)},f.\u0275cmp=ut({type:f,selectors:[["app-local-detail"]],decls:19,vars:12,consts:[["crearText",""],[2,"background","#5ccedf"],["color","primary",2,"background","#5ccedf","min-height","env(safe-area-inset-top, 24px) + 56px","padding-top","env(safe-area-inset-top, 24px)"],["slot","start"],[3,"defaultHref"],[2,"color","#fff","font-weight","bold"],["slot","end"],[3,"click",4,"ngIf"],[3,"click"],["name","refresh-outline"],[1,"local-detail-content"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","content-container",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"invoice-modal",3,"didDismiss","isOpen"],[1,"factura-detail-modal-responsive",3,"didDismiss","isOpen","breakpoints","initialBreakpoint"],["name","create-outline"],[1,"loading-container"],["name","circular","color","primary"],[1,"error-container"],["name","alert-circle-outline","color","danger"],["fill","outline",3,"click"],[1,"content-container"],[1,"local-info-card","m-2","shadow-md","border-0","bg-white"],[1,"pb-2"],[1,"iten-local","flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],[1,"w-8","h-8","bg-gradient-to-br","from-blue-500","to-blue-600","rounded-lg","flex","items-center","justify-center"],["name","storefront-outline",1,"text-white","text-sm"],[1,"text-lg","font-bold","text-gray-800","leading-tight"],[1,"text-xs","px-2","py-1","mt-1",3,"color"],["class","local-actions",4,"ngIf"],[1,"pt-0","px-4","pb-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3","text-sm"],[1,"flex","items-center","gap-2","p-2","bg-gray-50","rounded-lg"],["name","person-outline",1,"text-emerald-500","text-base","flex-shrink-0"],[1,"min-w-0","flex-1"],[1,"text-xs","text-gray-500","font-medium","mb-0"],[1,"text-gray-800","font-medium","text-xs","truncate","leading-tight"],["name","call-outline",1,"text-blue-500","text-base","flex-shrink-0"],[1,"text-gray-800","font-medium","text-xs","leading-tight"],["name","business-outline",1,"text-purple-500","text-base","flex-shrink-0"],[1,"flex","items-center","gap-2","p-2","bg-gray-50","rounded-lg","col-span-2","md:col-span-1"],["name","location-outline",1,"text-orange-500","text-base","flex-shrink-0"],[1,"flex","items-center","gap-2","p-2","bg-green-50","rounded-lg","border","border-green-100"],["name","cash-outline",1,"text-green-600","text-base","flex-shrink-0"],[1,"text-xs","text-green-600","font-medium","mb-0"],[1,"text-green-700","font-bold","text-sm","leading-tight"],["name","calendar-outline",1,"text-indigo-500","text-base","flex-shrink-0"],[1,"stats-card","mt-4","mx-2","shadow-lg","border-0","bg-white"],[1,"pb-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","bg-gradient-to-br","from-indigo-500","to-purple-600","rounded-xl","flex","items-center","justify-center","shadow-md"],["name","analytics-outline",1,"text-white","text-lg"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-sm","text-gray-500","mt-1"],["fill","clear","size","small",1,"text-xs",3,"click"],["name","refresh-outline","slot","icon-only"],["name","lines-small","color","primary",4,"ngIf"],[1,"pt-0","px-4","pb-6"],["class","text-center py-8",4,"ngIf"],[4,"ngIf"],[1,"facturas-card","mt-4","mx-2","shadow-lg","border-0","bg-white"],[1,"w-10","h-10","bg-gradient-to-br","from-cyan-500","to-blue-600","rounded-xl","flex","items-center","justify-center","shadow-md"],["name","receipt-outline",1,"text-white","text-lg"],[1,"text-xl","font-bold","text-gray-800","leading-tight"],["fill","solid","size","default","class","px-4 py-2 font-semibold","color","primary",3,"click",4,"ngIf"],[1,"px-4","pb-6"],[1,"filters-section","mb-6"],[1,"mb-4"],["placeholder","Buscar facturas...","debounce","300","show-clear-button","focus",1,"custom-searchbar",3,"ionInput","value"],[1,"filters-row","grid","grid-cols-2","md:grid-cols-4","gap-3","mb-4"],["placeholder","Estado","interface","popover",1,"filter-select","bg-gray-50","rounded-lg",3,"ionChange","value"],["value",""],["value","PENDIENTE"],["value","PAGADA"],["value","VENCIDA"],["value","ANULADA"],["placeholder","Mes","interface","popover",1,"filter-select","bg-gray-50","rounded-lg",3,"ionChange","value"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["placeholder","A\xF1o","interface","popover",1,"filter-select","bg-gray-50","rounded-lg",3,"ionChange","value"],[3,"value",4,"ngFor","ngForOf"],["fill","outline",1,"h-full","rounded-lg","border-gray-300",3,"click"],["name","filter-outline","slot","start"],[1,"facturas-list"],["class","facturas-loading flex flex-col items-center justify-center py-12",4,"ngIf"],["class","no-facturas flex flex-col items-center justify-center py-16 text-center",4,"ngIf"],["class","facturas-grid-container",4,"ngIf"],["threshold","100px",3,"ionInfinite",4,"ngIf"],[1,"local-actions"],["fill","clear","size","small",1,"w-8","h-8",3,"click"],[1,"text-gray-600","text-sm",3,"name"],["name","lines-small","color","primary"],[1,"text-center","py-8"],["name","analytics-outline",1,"text-gray-400","text-4xl","mb-2"],[1,"text-gray-500","text-sm"],["fill","outline","size","small",1,"mt-2",3,"click"],[1,"mb-6"],[1,"text-lg","font-semibold","text-gray-700","mb-4","flex","items-center","gap-2"],["name","document-text-outline",1,"text-blue-500"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-5","gap-4"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","p-4","rounded-xl","border","border-blue-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],[1,"flex","items-center","justify-between","mb-2"],["name","document-text-outline",1,"text-blue-600","text-xl"],[1,"text-2xl","font-bold","text-blue-700"],[1,"text-sm","font-medium","text-blue-600"],[1,"bg-gradient-to-br","from-green-50","to-green-100","p-4","rounded-xl","border","border-green-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],["name","checkmark-circle-outline",1,"text-green-600","text-xl"],[1,"text-2xl","font-bold","text-green-700"],[1,"text-sm","font-medium","text-green-600"],[1,"bg-gradient-to-br","from-orange-50","to-orange-100","p-4","rounded-xl","border","border-orange-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],["name","time-outline",1,"text-orange-600","text-xl"],[1,"text-2xl","font-bold","text-orange-700"],[1,"text-sm","font-medium","text-orange-600"],[1,"bg-gradient-to-br","from-red-50","to-red-100","p-4","rounded-xl","border","border-red-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],["name","close-circle-outline",1,"text-red-600","text-xl"],[1,"text-2xl","font-bold","text-red-700"],[1,"text-sm","font-medium","text-red-600"],[1,"bg-gradient-to-br","from-gray-50","to-gray-100","p-4","rounded-xl","border","border-gray-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],["name","ban-outline",1,"text-gray-600","text-xl"],[1,"text-2xl","font-bold","text-gray-700"],[1,"text-sm","font-medium","text-gray-600"],["name","trending-up-outline",1,"text-green-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"bg-gradient-to-br","from-emerald-50","to-emerald-100","p-4","rounded-xl","border","border-emerald-200"],["name","cash-outline",1,"text-emerald-600","text-xl"],[1,"text-xl","font-bold","text-emerald-700"],[1,"text-sm","font-medium","text-emerald-600"],[1,"bg-gradient-to-br","from-amber-50","to-amber-100","p-4","rounded-xl","border","border-amber-200"],["name","wallet-outline",1,"text-amber-600","text-xl"],[1,"text-xl","font-bold","text-amber-700"],[1,"text-sm","font-medium","text-amber-600"],[1,"bg-gradient-to-br","from-indigo-50","to-indigo-100","p-4","rounded-xl","border","border-indigo-200"],["name","pie-chart-outline",1,"text-indigo-600","text-xl"],[1,"text-xl","font-bold","text-indigo-700"],[1,"text-sm","font-medium","text-indigo-600"],[1,"bg-gradient-to-br","from-cyan-50","to-cyan-100","p-4","rounded-xl","border","border-cyan-200"],["name","calendar-outline",1,"text-cyan-600","text-xl"],[1,"text-xl","font-bold","text-cyan-700"],[1,"text-sm","font-medium","text-cyan-600"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","p-4","rounded-xl","border","border-purple-200"],["name","bar-chart-outline",1,"text-purple-600","text-xl"],[1,"text-xl","font-bold","text-purple-700"],[1,"text-sm","font-medium","text-purple-600"],[1,"bg-gradient-to-br","from-slate-50","to-slate-100","p-4","rounded-xl","border","border-slate-200"],["name","receipt-outline",1,"text-slate-600","text-xl"],[1,"text-xl","font-bold","text-slate-700"],[1,"text-sm","font-medium","text-slate-600"],["fill","solid","size","default","color","primary",1,"px-4","py-2","font-semibold",3,"click"],["name","add-outline","slot","start"],[3,"value"],[1,"facturas-loading","flex","flex-col","items-center","justify-center","py-12"],["name","lines-small","color","primary",1,"mb-3"],[1,"no-facturas","flex","flex-col","items-center","justify-center","py-16","text-center"],[1,"w-16","h-16","bg-gray-100","rounded-full","flex","items-center","justify-center","mb-4"],["name","document-outline",1,"text-gray-400","text-2xl"],[1,"text-lg","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","mb-6","max-w-sm"],["fill","solid","color","primary","class","px-6",3,"click",4,"ngIf"],["fill","solid","color","primary",1,"px-6",3,"click"],[1,"facturas-grid-container"],[1,"facturas-grid"],["class","factura-item-modern",4,"ngFor","ngForOf","ngForTrackBy"],[1,"factura-item-modern"],[1,"modern-invoice-card",3,"click"],[1,"invoice-header"],[1,"header-content"],[1,"invoice-number"],[1,"status-badge",3,"color"],[1,"invoice-body"],[1,"amount-section"],[1,"amount"],[1,"amount-label"],[1,"owner-info"],[1,"owner-icon"],["name","person"],[1,"owner-details"],[1,"owner-name"],[1,"local-number"],[1,"date-info"],[1,"date-item"],["name","calendar-outline"],[1,"date-value"],[1,"date-label"],["name","time-outline"],["class","payment-status",4,"ngIf"],[1,"action-buttons-compact"],["fill","clear","size","small","color","primary","title","Ver detalles de la factura",1,"action-btn",3,"click"],["name","eye-outline","slot","icon-only"],["fill","clear","size","small","color","success","class","action-btn","title","Marcar como pagada",3,"click",4,"ngIf"],["fill","clear","size","small","color","secondary","class","action-btn","title","Reimprimir factura",3,"click",4,"ngIf"],["fill","clear","size","small","color","warning","class","action-btn","title","Editar factura",3,"click",4,"ngIf"],["fill","clear","size","small","color","danger","class","action-btn","title","Anular factura",3,"click",4,"ngIf"],["fill","clear","size","small","color","danger","class","action-btn delete-btn","title","Eliminar factura permanentemente",3,"click",4,"ngIf"],[1,"payment-status"],["class","paid-status",4,"ngIf"],["class","due-status",4,"ngIf"],[1,"paid-status"],["name","checkmark-circle"],[1,"due-status"],["name","alert-circle"],["fill","clear","size","small","color","success","title","Marcar como pagada",1,"action-btn",3,"click"],["name","checkmark-circle-outline","slot","icon-only"],["fill","clear","size","small","color","secondary","title","Reimprimir factura",1,"action-btn",3,"click"],["name","print-outline","slot","icon-only"],["fill","clear","size","small","color","warning","title","Editar factura",1,"action-btn",3,"click"],["name","create-outline","slot","icon-only"],["fill","clear","size","small","color","danger","title","Anular factura",1,"action-btn",3,"click"],["name","close-circle-outline","slot","icon-only"],["fill","clear","size","small","color","danger","title","Eliminar factura permanentemente",1,"action-btn","delete-btn",3,"click"],["name","trash-outline","slot","icon-only"],["threshold","100px",3,"ionInfinite"],["loading-spinner","bubbles","loading-text","Cargando m\xE1s facturas..."],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary",3,"click"],["name","add"],[1,"fixed","inset-0","bg-black","bg-opacity-40","flex","items-center","justify-center","p-3","z-50"],[1,"bg-white","rounded-2xl","shadow-lg","w-full","max-w-md","mx-auto","overflow-hidden"],[1,"relative","bg-gradient-to-r","from-cyan-500","to-blue-400","p-6","pb-4","flex","flex-col","items-center"],["src","assets/logos/logo4.png","alt","Logo",1,"w-16","h-16","rounded-full","bg-white","shadow","mb-2",2,"object-fit","contain"],[1,"text-center","text-white"],[1,"text-lg","font-bold","mb-1"],[1,"text-xs","font-semibold","tracking-wide"],[1,"text-2xl","font-bold","tracking-tight"],[1,"absolute","top-3","right-3","w-8","h-8","flex","items-center","justify-center","transition-all","duration-200","z-10",2,"background","transparent","border","none","box-shadow","none",3,"click","mouseenter","mouseleave"],[1,"text-2xl","font-bold","leading-none","transition-colors","duration-200",3,"ngStyle"],[1,"p-5","pt-3","space-y-4"],[1,"block","text-cyan-700","font-semibold","mb-1","text-sm","flex","items-center"],["name","calendar-outline",1,"mr-1","text-cyan-500"],["placeholder","Seleccionar mes","interface","popover",1,"w-full","rounded-lg","border","border-cyan-200","bg-gray-50",3,"ngModelChange","ngModel"],["class","bg-gray-50 rounded-xl p-4 border border-gray-200",4,"ngIf"],[1,"flex","gap-3","pt-2"],["type","button",1,"flex-1","py-3","bg-gray-500","hover:bg-gray-600","text-white","font-bold","text-base","flex","items-center","justify-center","gap-2","shadow",2,"border-radius","1rem","padding","5px",3,"click"],["name","close-outline",1,"text-lg"],["type","button",1,"flex-1","text-white","font-bold","text-base","flex","items-center","justify-center","gap-2","shadow","disabled:opacity-60","border-0",2,"background","#5ccedf","border-radius","1rem","padding","5px",3,"click","disabled"],[4,"ngIf","ngIfElse"],[1,"bg-gray-50","rounded-xl","p-4","border","border-gray-200"],[1,"flex","items-center","mb-2"],["name","document-outline",1,"mr-2","text-cyan-600","text-lg"],[1,"text-lg","font-bold","text-cyan-800"],[1,"grid","grid-cols-2","gap-x-2","gap-y-1","text-sm"],[1,"font-medium","text-gray-600"],[1,"text-gray-900"],[1,"font-medium","text-gray-600","col-span-2"],[1,"col-span-2","text-gray-900"],["name","circular",1,"w-5","h-5","text-white"],["name","add-circle-outline",1,"text-lg"],[1,"modal-container"],[1,"modal-header"],["aria-label","Cerrar modal",1,"close-button",3,"click","mouseenter","mouseleave"],["name","close",1,"close-icon"],[1,"invoice-icon"],["name","receipt-outline",1,"icon"],[1,"invoice-info"],[1,"invoice-concept"],[1,"amount-display"],[1,"amount-value"],["class","modal-content",4,"ngIf"],[1,"actions-section"],["class","primary-action",4,"ngIf"],[1,"secondary-actions"],["fill","outline","color","primary","size","default","title","Reimprimir factura",1,"action-button",3,"click"],["name","print-outline","slot","start"],[1,"button-text"],["fill","outline","color","warning","size","default","class","action-button","title","Editar informaci\xF3n de la factura",3,"click",4,"ngIf"],["fill","outline","color","danger","size","default","class","action-button danger-button","title","Anular factura (cambiar estado a ANULADA)",3,"click",4,"ngIf"],[1,"modal-content"],[1,"status-section"],[1,"details-grid"],[1,"detail-card","local-info-card"],[1,"card-header"],[1,"card-icon","local-icon"],["name","storefront-outline"],[1,"card-title"],[1,"card-content"],[1,"info-row"],[1,"info-label"],[1,"info-value"],["class","info-row",4,"ngIf"],[1,"detail-card","period-card"],[1,"card-icon","period-icon"],[1,"period-display"],["class","period-year",4,"ngIf"],[1,"detail-card","dates-card"],[1,"card-icon","dates-icon"],[1,"date-row"],["name","document-outline"],["name","alert-circle-outline"],["class","date-row",4,"ngIf"],[1,"detail-card","financial-card"],[1,"card-icon","financial-icon"],["name","cash-outline"],[1,"financial-row","main-amount"],[1,"financial-label"],[1,"financial-value","primary"],["class","financial-row",4,"ngIf"],["class","detail-card observations-card",4,"ngIf"],[1,"period-year"],["name","checkmark-circle-outline"],[1,"date-value","paid"],[1,"financial-row"],[1,"financial-value","success"],[1,"financial-value","warning"],[1,"financial-value","danger"],[1,"detail-card","observations-card"],[1,"card-icon","observations-icon"],["name","chatbubble-outline"],[1,"observations-text"],[1,"primary-action"],["expand","block","color","success","size","large","title","Cambiar estado de la factura a PAGADA",1,"primary-button",3,"click"],["name","checkmark-circle-outline","slot","start"],["fill","outline","color","warning","size","default","title","Editar informaci\xF3n de la factura",1,"action-button",3,"click"],["name","create-outline","slot","start"],["fill","outline","color","danger","size","default","title","Anular factura (cambiar estado a ANULADA)",1,"action-button","danger-button",3,"click"],["name","trash-outline","slot","start"]],template:function(n,i){if(n&1&&(e(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),m(3,"ion-back-button",4),a(),e(4,"ion-title",5),o(5),a(),e(6,"ion-buttons",6),y(7,Fn,2,0,"ion-button",7),e(8,"ion-button",8),x("click",function(){return i.refrescarLocal()}),m(9,"ion-icon",9),a()()()(),e(10,"ion-content",10),y(11,zn,4,0,"div",11)(12,An,8,1,"div",12)(13,na,144,31,"div",13)(14,aa,3,0,"ion-fab",14),e(15,"ion-modal",15),x("didDismiss",function(){return i.closeInvoiceModal()}),y(16,ca,53,10,"ng-template"),a(),e(17,"ion-modal",16),x("didDismiss",function(){return i.cerrarFacturaDetailModal()}),y(18,Ma,28,14,"ng-template"),a()()),n&2){let s;c(3),u("defaultHref","/mercados/"+i.mercadoId()),c(2),b((s=i.local())!=null&&s.numero_local?`Local ${(s=i.local())==null?null:s.numero_local}`:"Detalle Local"),c(2),u("ngIf",i.canEditLocal()),c(4),u("ngIf",i.isLoading()),c(),u("ngIf",i.error()),c(),u("ngIf",!i.isLoading()&&!i.error()&&i.local()),c(),u("ngIf",i.canCreateFactura()),c(),u("isOpen",i.showInvoiceModal()),c(2),u("isOpen",i.showFacturaDetailModal())("breakpoints",bt(11,In))("initialBreakpoint",.75)}},dependencies:[Ft,yt,Et,St,It,Dt,kt,Nt,Lt,Tt,qt,Wt,ee,ne,Vt,Bt,Rt,Ht,Gt,Ut,jt,Yt,te,re,Jt,Kt,ce,Qt,Zt,le,Xt,$t],styles:[`.local-detail-content[_ngcontent-%COMP%]{--background: #f8f9fa}.local-detail-content[_ngcontent-%COMP%]   .text-readable[_ngcontent-%COMP%]{color:#2d3748!important;font-weight:500}.local-detail-content[_ngcontent-%COMP%]   .text-secondary-readable[_ngcontent-%COMP%]{color:#4a5568!important;font-weight:400}.local-detail-content[_ngcontent-%COMP%]   .text-muted-readable[_ngcontent-%COMP%]{color:#718096!important;font-weight:400}.local-detail-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:50vh;color:var(--ion-color-medium)}.local-detail-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.local-detail-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.local-detail-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:50vh;padding:24px;text-align:center}.local-detail-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.local-detail-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;color:var(--ion-color-danger)}.local-detail-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 24px;color:var(--ion-color-medium)}.local-detail-content[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{padding:16px;max-width:1200px;margin:0 auto}.local-info-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:12px;box-shadow:0 2px 12px #00000014}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]   .local-title[_ngcontent-%COMP%]{flex:1}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]   .local-title[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px;font-size:24px;font-weight:600;color:var(--ion-color-primary)}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]   .local-title[_ngcontent-%COMP%]   .estado-badge[_ngcontent-%COMP%]{border-radius:20px;padding:4px 12px;font-size:12px;font-weight:500;text-transform:uppercase}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]   .local-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.local-info-card[_ngcontent-%COMP%]   .local-details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-top:16px}.local-info-card[_ngcontent-%COMP%]   .local-details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:600;color:var(--ion-color-medium);text-transform:uppercase;letter-spacing:.5px}.local-info-card[_ngcontent-%COMP%]   .local-details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:var(--ion-text-color)}.local-info-card[_ngcontent-%COMP%]   .local-details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--ion-color-success)}.mercado-info-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:12px;box-shadow:0 2px 12px #00000014}.mercado-info-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:20px;font-weight:600;color:var(--ion-color-primary)}.mercado-info-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-top:16px}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:600;color:var(--ion-color-medium);text-transform:uppercase;letter-spacing:.5px}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:var(--ion-text-color)}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item.location-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item.location-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 20px;--padding-start: 16px;--padding-end: 16px;height:36px;font-weight:500}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item.location-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:4px}.stats-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:16px;box-shadow:0 4px 16px #0000001a;overflow:hidden}.stats-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid #e2e8f0}.stats-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#1e293b;margin:0}.stats-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:14px}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{background:#fff}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#334155;margin:0 0 16px;padding-bottom:8px;border-bottom:2px solid #e2e8f0}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:20px}@media (min-width: 768px){.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 768px){.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{gap:16px}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .flex.items-center[_ngcontent-%COMP%]{align-items:center}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .flex.items-center.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:20px;line-height:1.2}@media (min-width: 768px){.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:22px}}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;line-height:1.3}.stats-card[_ngcontent-%COMP%]   .loading-stats[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:40px;color:var(--ion-color-medium)}.stats-card[_ngcontent-%COMP%]   .loading-stats[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-right:12px}.facturas-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:16px;box-shadow:0 4px 16px #0000001a;overflow:hidden}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid #e2e8f0}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#1e293b;margin:0}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:14px}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 10px;--padding-start: 16px;--padding-end: 16px;--padding-top: 8px;--padding-bottom: 8px;font-weight:600;text-transform:none}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{background:#fff}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{margin-bottom:24px}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .custom-searchbar[_ngcontent-%COMP%]{--background: #f8fafc;--border-radius: 12px;--box-shadow: none;--border: 1px solid #e2e8f0}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .custom-searchbar.searchbar-has-focus[_ngcontent-%COMP%]{--border: 1px solid var(--ion-color-primary)}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{--background: #f8fafc;--border-radius: 8px;--padding-start: 12px;--padding-end: 12px;border:1px solid #e2e8f0}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus-within{border-color:var(--ion-color-primary)}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 8px;--border-width: 1px;--border-style: solid;--border-color: #d1d5db;--color: #374151}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--background: #f3f4f6}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .facturas-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 24px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .facturas-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: var(--ion-color-primary);margin-bottom:12px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .facturas-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#64748b}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]{padding:64px 24px;text-align:center}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   .w-16[_ngcontent-%COMP%]{width:64px;height:64px;background:#f1f5f9;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 16px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   .w-16[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:#9ca3af}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:600;color:#374151}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:#6b7280;max-width:320px;margin:0 auto 24px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 12px;--padding-start: 24px;--padding-end: 24px;--padding-top: 12px;--padding-bottom: 12px;font-weight:600;text-transform:none}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .space-y-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:12px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;transition:all .2s ease}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: 12px;--padding-start: 16px;--padding-end: 16px;--padding-top: 16px;--padding-bottom: 16px;--inner-padding-end: 0;--min-height: auto}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--background: #f8fafc}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]{width:100%}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:12px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]{flex:1}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:#1f2937;line-height:1.3}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:13px;color:#6b7280}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;color:#9ca3af}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-amounts[_ngcontent-%COMP%]{text-align:right;flex-shrink:0}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-amounts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:700;color:#059669;line-height:1.2}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-amounts[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;--padding-top: 4px;--padding-bottom: 4px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;border-radius:6px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:12px;border-top:1px solid #f3f4f6}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .vencimiento[_ngcontent-%COMP%], .facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .pago[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .vencimiento[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .pago[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .vencimiento[_ngcontent-%COMP%]{color:#6b7280}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .vencimiento[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#9ca3af}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .pago[_ngcontent-%COMP%]{color:#059669}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .pago[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#10b981}.facturas-grid-container[_ngcontent-%COMP%]{padding:0;margin:0}.facturas-grid[_ngcontent-%COMP%]{display:grid;gap:.75rem;padding:0;margin:0;grid-template-columns:repeat(2,1fr)}@media (min-width: 768px){.facturas-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1rem}}@media (min-width: 1024px){.facturas-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:1rem}}@media (min-width: 1440px){.facturas-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:1.25rem}}@media (min-width: 1024px){.facturas-grid.desktop-five-columns[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:.875rem}}@media (min-width: 1440px){.facturas-grid.desktop-five-columns[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:1rem}}.factura-item-modern[_ngcontent-%COMP%]{margin:0;background:transparent}.factura-item-modern[_ngcontent-%COMP%]   .modern-invoice-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;box-shadow:0 2px 8px #00000014;border:1px solid #f1f5f9;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;overflow:hidden;height:100%;display:flex;flex-direction:column}.factura-item-modern[_ngcontent-%COMP%]   .modern-invoice-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026;border-color:#3b82f6}.factura-item-modern[_ngcontent-%COMP%]   .modern-invoice-card[_ngcontent-%COMP%]:active{transform:translateY(-2px)}.invoice-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5ccedf,#4fb3c7);color:#fff;padding:.5rem;position:relative}.invoice-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.375rem}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{flex:1;min-width:0}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.75rem;font-weight:700;line-height:1.1;color:#fff}@media (min-width: 768px){.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.875rem}}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.125rem 0 0;font-size:.625rem;opacity:.9;line-height:1.1;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-clamp:2;overflow:hidden}@media (min-width: 768px){.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}}.invoice-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .2);--color: white;--border-radius: .375rem;--padding-start: .375rem;--padding-end: .375rem;--padding-top: .125rem;--padding-bottom: .125rem;font-size:.55rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}@media (min-width: 768px){.invoice-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.6rem}}.invoice-body[_ngcontent-%COMP%]{padding:.5rem;flex:1;display:flex;flex-direction:column;gap:.5rem}@media (min-width: 768px){.invoice-body[_ngcontent-%COMP%]{padding:.75rem;gap:.75rem}}.amount-section[_ngcontent-%COMP%]{text-align:center;padding:.5rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:.5rem;border:1px solid #e2e8f0}.amount-section[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;color:#1e293b;line-height:1;margin-bottom:.125rem}@media (min-width: 768px){.amount-section[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.125rem}}.amount-section[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.55rem;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.05em}@media (min-width: 768px){.amount-section[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.65rem}}.owner-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.375rem;background:#eff6ff;border-radius:.375rem;border:1px solid #dbeafe}.owner-info[_ngcontent-%COMP%]   .owner-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;background:#3b82f6;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.owner-info[_ngcontent-%COMP%]   .owner-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:.75rem}.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]{flex:1;min-width:0}.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]   .owner-name[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#1e293b;line-height:1.1;margin-bottom:.125rem;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;line-clamp:1;overflow:hidden}@media (min-width: 768px){.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]   .owner-name[_ngcontent-%COMP%]{font-size:.75rem}}.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]   .local-number[_ngcontent-%COMP%]{font-size:.65rem;color:#64748b;font-weight:500}@media (min-width: 768px){.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]   .local-number[_ngcontent-%COMP%]{font-size:.7rem}}.date-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.375rem;background:#fafafa;border-radius:.375rem;border:1px solid #e5e7eb}.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;flex-shrink:0}.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:.65rem;font-weight:600;color:#374151;line-height:1;margin-bottom:.125rem}@media (min-width: 768px){.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:.7rem}}.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.6rem;color:#9ca3af;font-weight:500}@media (min-width: 768px){.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.65rem}}.payment-status[_ngcontent-%COMP%]{padding:.5rem;border-radius:.5rem}.payment-status[_ngcontent-%COMP%]   .paid-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;color:#059669;background:#ecfdf5;padding:.375rem;border-radius:.375rem;border:1px solid #a7f3d0}.payment-status[_ngcontent-%COMP%]   .paid-status[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem;flex-shrink:0}.payment-status[_ngcontent-%COMP%]   .paid-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.65rem;font-weight:600}@media (min-width: 768px){.payment-status[_ngcontent-%COMP%]   .paid-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.payment-status[_ngcontent-%COMP%]   .due-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;color:#d97706;background:#fffbeb;padding:.375rem;border-radius:.375rem;border:1px solid #fed7aa}.payment-status[_ngcontent-%COMP%]   .due-status[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem;flex-shrink:0}.payment-status[_ngcontent-%COMP%]   .due-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.65rem;font-weight:600}@media (min-width: 768px){.payment-status[_ngcontent-%COMP%]   .due-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.action-buttons-compact[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.25rem;padding-top:.5rem;border-top:1px solid #f1f5f9;margin-top:auto}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--border-radius: .5rem;--padding-start: .5rem;--padding-end: .5rem;--padding-top: .5rem;--padding-bottom: .5rem;width:2rem;height:2rem;min-height:2rem;margin:0}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{--color: #dc2626}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{--background: #fef2f2}@media (max-width: 480px){.facturas-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.invoice-header[_ngcontent-%COMP%]{padding:.5rem}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8rem}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.65rem}.invoice-body[_ngcontent-%COMP%]{padding:.5rem;gap:.5rem}.amount-section[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.125rem}}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end;margin-top:1rem;padding-top:.75rem;border-top:1px solid #f3f4f6}.action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;--padding-start: .75rem;--padding-end: .75rem;--padding-top: .5rem;--padding-bottom: .5rem;height:auto;min-height:2rem;font-size:.75rem;font-weight:600;letter-spacing:.025em;text-transform:none}.action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]{--backdrop-opacity: .4;--background: transparent;--border-radius: 1.5rem 1.5rem 0 0;--box-shadow: 0 -4px 16px rgba(0, 0, 0, .1);--height: auto;--max-height: 90vh;--min-height: 400px;--width: 100%;--max-width: 100%}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{background:#ffffff26;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:20px;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000004d,inset 0 1px #fff6;overflow:hidden;height:100%;max-height:85vh;display:flex;flex-direction:column;position:relative}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#ffffff1a,#ffffff0d,#0000000d);pointer-events:none;z-index:-1}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5ccedf,#4fb3c7,#3b9bb0);color:#fff;padding:.5rem 1.5rem;position:relative;min-height:50px;display:flex;flex-direction:column;justify-content:center;flex-shrink:0}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem 2rem;min-height:60px}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem 2rem;min-height:65px}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:.75rem;width:2rem;height:2rem;background:#fff3;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);z-index:10;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button.close-hovered[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:1rem;color:#fff;font-weight:700}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;top:1rem;right:1rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:1.25rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:3rem;height:3rem;top:1.5rem;right:1.5rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;text-align:left;gap:.75rem;padding-top:0;justify-content:space-between;width:100%}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:1.25rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .icon-info-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;min-width:0}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .icon-info-container[_ngcontent-%COMP%]{gap:.75rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .icon-info-container[_ngcontent-%COMP%]{gap:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);flex-shrink:0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.75rem;color:#fff}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:2.25rem;height:2.25rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]{flex:1;min-width:0;text-align:left}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;margin:0 0 .0625rem;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.1);line-height:1.1}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 .125rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{font-size:.6rem;margin:0;opacity:.9;color:#fff;font-weight:400;line-height:1.1}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{font-size:.65rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{font-size:.75rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{background:#ffffff26;border-radius:.375rem;padding:.25rem .5rem;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);min-width:80px;flex-shrink:0}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{padding:.375rem .75rem;border-radius:.5rem;min-width:100px}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.75rem;min-width:120px}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:800;color:#fff;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1);letter-spacing:-.025em;line-height:1}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.4rem;opacity:.9;color:#fff;margin-top:.0625rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px;line-height:1}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.5rem;margin-top:.125rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.625rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem 1.5rem 0;background:transparent;min-height:0}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:1.5rem 2rem 0}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:2rem 2rem 0}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:3px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;padding:.5rem 1rem;border-radius:2rem;text-transform:uppercase;letter-spacing:.5px}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1.25rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:1rem;padding:.75rem 1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{gap:1.25rem;margin-bottom:2rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{gap:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:.75rem;padding:1rem;border:1px solid #e2e8f0;transition:all .2s ease}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]:hover{border-color:#5ccedf;box-shadow:0 4px 12px #5ccedf1a}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{padding:1.25rem;border-radius:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{padding:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:.5rem;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.period-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.dates-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.observations-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:.75rem;font-size:1.25rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;font-size:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.875rem;font-weight:600;color:#1f2937}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.625rem;color:#6b7280}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-display[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#1f2937}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-display[_ngcontent-%COMP%]{font-size:1.25rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-display[_ngcontent-%COMP%]{font-size:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.375rem 0;border-bottom:1px solid #e5e7eb}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]{padding:.5rem 0}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#1f2937;text-align:right}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value.paid[_ngcontent-%COMP%]{color:#059669}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .observations-text[_ngcontent-%COMP%]{font-size:.75rem;color:#374151;line-height:1.5;font-weight:500}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .observations-text[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .observations-text[_ngcontent-%COMP%]{font-size:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{flex-shrink:0;background:#fffffff2;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-top:1px solid rgba(92,206,223,.3);padding:.75rem 1rem;margin:0;z-index:10;position:relative;width:100%;box-sizing:border-box}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:1.5rem 2rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:1.5rem 2rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]{margin-bottom:.75rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]{margin-bottom:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{font-weight:700;height:2.5rem;--border-radius: .75rem;font-size:.875rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{height:3rem;font-size:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{height:3.5rem;font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;flex-wrap:nowrap!important;gap:.5rem;justify-content:center;align-items:center;width:100%;overflow-x:auto}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{gap:1rem;overflow-x:visible}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{gap:1.25rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex:0 0 auto!important;min-width:36px;max-width:36px;width:36px;height:36px;--border-radius: 50%;font-weight:600;font-size:.9rem;padding:0;display:flex;align-items:center;justify-content:center;margin:0}@media (min-width: 480px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:40px;max-width:40px;width:40px;height:40px;font-size:1rem}}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:44px;max-width:44px;width:44px;height:44px;font-size:1.1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:48px;max-width:48px;width:48px;height:48px;font-size:1.2rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0!important;font-size:inherit}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{flex:0 0 auto!important;min-width:36px;max-width:36px;width:36px}@media (min-width: 480px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{min-width:40px;max-width:40px;width:40px}}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{min-width:44px;max-width:44px;width:44px}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{min-width:48px;max-width:48px;width:48px}}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--border-radius: 1rem;--max-width: 500px;--width: 90%;--max-height: 85vh}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{border-radius:1rem;max-height:85vh}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--max-width: 600px;--width: 80%;--max-height: 80vh}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:80vh}}@media (min-width: 1280px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--max-width: 650px;--width: 70%}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_tooltip-fade-in{0%{opacity:0;transform:translate(-50%) translateY(4px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s cubic-bezier(.4,0,.2,1)}ion-badge[_ngcontent-%COMP%]{border-radius:1rem;padding:.5rem 1rem;font-weight:700;letter-spacing:.05em;text-transform:uppercase}ion-badge[color=success][_ngcontent-%COMP%]{--background: #10b981;--background-hover: #059669;--background-activated: #047857}ion-badge[color=primary][_ngcontent-%COMP%]{--background: #5ccedf;--background-hover: #4fb3c7;--background-activated: #3b9bb0}ion-button[_ngcontent-%COMP%]{--border-radius: .75rem;font-weight:600;letter-spacing:.025em}ion-button[title][_ngcontent-%COMP%]{position:relative}ion-button[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#000c;color:#fff;padding:.375rem .75rem;border-radius:.375rem;font-size:.75rem;white-space:nowrap;z-index:1000;pointer-events:none;opacity:0;animation:_ngcontent-%COMP%_tooltip-fade-in .2s ease-in-out .5s forwards}ion-button[title][_ngcontent-%COMP%]:hover:before{content:"";position:absolute;bottom:calc(100% - 6px);left:50%;transform:translate(-50%);border:6px solid transparent;border-top-color:#000c;z-index:1000;pointer-events:none;opacity:0;animation:_ngcontent-%COMP%_tooltip-fade-in .2s ease-in-out .5s forwards}.hover-scale[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.hover-scale[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.gradient-cyan[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5ccedf,#4fb3c7,#3b9bb0)}.gradient-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669,#047857)}.gradient-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706,#b45309)}.glass-effect[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.facturas-list[_ngcontent-%COMP%]   .space-y-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1rem}@media (max-width: 768px){.modern-invoice-card[_ngcontent-%COMP%]{margin:0 .5rem}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]{margin:.5rem;max-height:calc(100vh - 1rem);overflow-y:auto}}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#5ccedf #f1f5f9}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#5ccedf;border-radius:3px}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4fb3c7}.content-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}ion-badge[color=success][_ngcontent-%COMP%]{--background: #28a745;--color: white}ion-badge[color=warning][_ngcontent-%COMP%]{--background: #ffc107;--color: #212529}ion-badge[color=danger][_ngcontent-%COMP%]{--background: #dc3545;--color: white}ion-badge[color=medium][_ngcontent-%COMP%]{--background: #6c757d;--color: white}ion-badge[color=primary][_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: white}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{max-width:400px;width:90%}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px;color:var(--ion-color-medium)}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-radio-group[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-radio-label[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin:4px 0;transition:all .2s ease}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-radio-label[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-light)}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-radio-label.alert-radio-checked[_ngcontent-%COMP%]{background-color:var(--ion-color-primary-tint);color:var(--ion-color-primary);font-weight:500}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{border-radius:16px}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{text-align:center}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:block;margin:0 auto 16px}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-button.secondary[_ngcontent-%COMP%]{color:var(--ion-color-medium)}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-button[role=destructive][_ngcontent-%COMP%]{color:var(--ion-color-danger)}.invoice-modal[_ngcontent-%COMP%]{--backdrop-opacity: .5}.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--placeholder-color: #6b7280;--color: #111827}.invoice-modal[_ngcontent-%COMP%]{--backdrop-opacity: .75}.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--placeholder-color: #6b7280;--color: #1f2937;--background: transparent;font-weight:500;font-size:13px}.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]:focus-within{--color: #5ccedf}.invoice-modal[_ngcontent-%COMP%]   ion-item.month-selector-modern[_ngcontent-%COMP%]{--background: transparent;--border-color: transparent;--inner-padding-start: 0;--inner-padding-end: 0;--padding-start: 0;--padding-end: 0;--min-height: 32px}.invoice-modal[_ngcontent-%COMP%]   ion-item.month-selector-modern[_ngcontent-%COMP%]:hover{--background: rgba(92, 206, 223, .05)}.invoice-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.invoice-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.invoice-modal[_ngcontent-%COMP%]:focus-within{--backdrop-opacity: .8}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-15px) scale(.96)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .25s cubic-bezier(.25,.46,.45,.94)}@media (max-width: 640px){.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{font-size:12px}.invoice-modal[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]{animation-duration:.2s}.invoice-modal[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]{max-width:300px!important}}@supports (backdrop-filter: blur(4px)){.invoice-modal[_ngcontent-%COMP%]   .fixed.inset-0[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}}@media (prefers-contrast: high){.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--border-width: 2px;--color: #000}}@media (prefers-reduced-motion: reduce){.modal-slide-in[_ngcontent-%COMP%]{animation:none}.invoice-modal[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:none!important}}.btn-crear[_ngcontent-%COMP%]{border-radius:1rem;padding:.5rem 1rem;background-color:var(--ion-color-primary);color:#fff;font-weight:600;font-size:.875rem;box-shadow:0 4px 6px #0000001a;transition:background-color .2s ease,box-shadow .2s ease;cursor:pointer;margin:.5rem;border:none;outline:none}.btn-crear[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-primary-shade);box-shadow:0 6px 8px #00000026}.btn-cancelar[_ngcontent-%COMP%]{border-radius:1rem;padding:.5rem 1rem;background-color:var(--ion-color-medium);color:#fff;font-weight:600;font-size:.875rem;box-shadow:0 4px 6px #0000001a;transition:background-color .2s ease,box-shadow .2s ease;cursor:pointer;margin:.5rem;border:none;outline:none}.btn-cancelar[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-medium-shade);box-shadow:0 6px 8px #00000026}.iten-local[_ngcontent-%COMP%]{margin-left:20px;margin-top:10px}.modern-invoice-card[_ngcontent-%COMP%]   .font-medium[_ngcontent-%COMP%], .modern-invoice-card[_ngcontent-%COMP%]   .font-semibold[_ngcontent-%COMP%]{color:#1f2937!important;font-weight:600!important}.modern-invoice-card[_ngcontent-%COMP%]   .text-gray-800[_ngcontent-%COMP%]{color:#1f2937!important}.modern-invoice-card[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%]{color:#4b5563!important}.modern-invoice-card[_ngcontent-%COMP%]   .text-gray-500[_ngcontent-%COMP%]{color:#6b7280!important}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end;margin-top:1rem;padding-top:.75rem;border-top:1px solid #f3f4f6}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;--padding-start: .75rem;--padding-end: .75rem;--padding-top: .5rem;--padding-bottom: .5rem;height:auto;min-height:2rem;font-size:.75rem;font-weight:600;letter-spacing:.025em;text-transform:none}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=primary][_ngcontent-%COMP%]{--color: #3b82f6;--border-color: #3b82f6}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=primary][_ngcontent-%COMP%]:hover{--background: #eff6ff}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=success][_ngcontent-%COMP%]{--background: #10b981;--color: white;--border-color: #10b981}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=success][_ngcontent-%COMP%]:hover{--background: #059669}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=secondary][_ngcontent-%COMP%]{--color: #6b7280;--border-color: #6b7280}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=secondary][_ngcontent-%COMP%]:hover{--background: #f9fafb}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=warning][_ngcontent-%COMP%]{--color: #f59e0b;--border-color: #f59e0b}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=warning][_ngcontent-%COMP%]:hover{--background: #fffbeb}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]{--color: #ef4444;--border-color: #ef4444}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]:hover{--background: #fef2f2}.mt-4[_ngcontent-%COMP%]{margin-top:1rem!important}.mx-2[_ngcontent-%COMP%]{margin-left:.5rem!important;margin-right:.5rem!important}.mb-6[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-3[_ngcontent-%COMP%]{margin-bottom:.75rem!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.px-4[_ngcontent-%COMP%]{padding-left:1rem!important;padding-right:1rem!important}.pb-6[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-3[_ngcontent-%COMP%]{padding-bottom:.75rem!important}.py-12[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.py-16[_ngcontent-%COMP%]{padding-top:4rem!important;padding-bottom:4rem!important}.py-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.px-6[_ngcontent-%COMP%]{padding-left:1.5rem!important;padding-right:1.5rem!important}.flex[_ngcontent-%COMP%]{display:flex!important}.flex-col[_ngcontent-%COMP%]{flex-direction:column!important}.items-center[_ngcontent-%COMP%]{align-items:center!important}.justify-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-center[_ngcontent-%COMP%]{justify-content:center!important}.gap-3[_ngcontent-%COMP%]{gap:.75rem!important}.gap-4[_ngcontent-%COMP%]{gap:1rem!important}.w-10[_ngcontent-%COMP%]{width:2.5rem!important}.h-10[_ngcontent-%COMP%]{height:2.5rem!important}.w-16[_ngcontent-%COMP%]{width:4rem!important}.h-16[_ngcontent-%COMP%]{height:4rem!important}.w-full[_ngcontent-%COMP%]{width:100%!important}.h-full[_ngcontent-%COMP%]{height:100%!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.bg-gray-50[_ngcontent-%COMP%]{background-color:#f9fafb!important}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem!important}.rounded-xl[_ngcontent-%COMP%]{border-radius:.75rem!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d!important}.shadow-md[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000000d!important}.border-0[_ngcontent-%COMP%]{border:none!important}.border[_ngcontent-%COMP%]{border:1px solid #e5e7eb!important}.border-gray-200[_ngcontent-%COMP%]{border-color:#e5e7eb!important}.border-gray-300[_ngcontent-%COMP%]{border-color:#d1d5db!important}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem!important}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem!important}.text-sm[_ngcontent-%COMP%]{font-size:.875rem!important}.text-xs[_ngcontent-%COMP%]{font-size:.75rem!important}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem!important}.font-bold[_ngcontent-%COMP%]{font-weight:700!important}.font-semibold[_ngcontent-%COMP%]{font-weight:600!important}.text-gray-800[_ngcontent-%COMP%]{color:#1f2937!important}.text-gray-700[_ngcontent-%COMP%]{color:#374151!important}.text-gray-600[_ngcontent-%COMP%]{color:#4b5563!important}.text-gray-500[_ngcontent-%COMP%]{color:#6b7280!important}.text-gray-400[_ngcontent-%COMP%]{color:#9ca3af!important}.text-white[_ngcontent-%COMP%]{color:#fff!important}.text-green-600[_ngcontent-%COMP%]{color:#dc2626!important}.leading-tight[_ngcontent-%COMP%]{line-height:1.25!important}.text-center[_ngcontent-%COMP%]{text-align:center!important}.text-right[_ngcontent-%COMP%]{text-align:right!important}.max-w-sm[_ngcontent-%COMP%]{max-width:24rem!important}.space-y-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.75rem!important}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden!important}.transition-colors[_ngcontent-%COMP%]{transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out!important}.hover\\:bg-gray-50[_ngcontent-%COMP%]:hover{background-color:#f9fafb!important}.grid[_ngcontent-%COMP%]{display:grid!important}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))!important}@media (min-width: 768px){.md\\:grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))!important}.md\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))!important}}@media (min-width: 1024px){.lg\\:grid-cols-5[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))!important}}.flex-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]{--background: rgba(0, 0, 0, .6);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{background:#fffffff2;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:24px;border:1px solid rgba(255,255,255,.2);box-shadow:0 20px 40px #00000026,0 10px 20px #0000001a,inset 0 1px #fff6;overflow:hidden;position:relative;max-height:85vh;margin:20px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5ccedf,#4fb3c7);padding:24px;position:relative}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='7' cy='7' r='7'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:36px;height:36px;border-radius:18px;background:#fff3;border:1px solid rgba(255,255,255,.3);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;z-index:10}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button.close-hovered[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1);box-shadow:0 4px 12px #00000026}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;transition:color .3s ease}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;position:relative;z-index:5}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:#fff3;border-radius:16px;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff;font-size:28px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]{flex:1}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{color:#ffffffe6;font-size:14px;margin:4px 0 0;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{text-align:right;background:#ffffff26;padding:12px 16px;border-radius:12px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{color:#fffc;font-size:12px;margin:2px 0 0;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-height:calc(85vh - 240px);overflow-y:auto;padding:24px 24px 0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000000d;border-radius:3px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:3px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0000004d}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{margin-bottom:24px;text-align:center}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:14px;font-weight:600;padding:8px 16px;border-radius:20px;text-transform:uppercase;letter-spacing:.5px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{display:grid;gap:20px;margin-bottom:32px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{background:#ffffffb3;border-radius:16px;padding:20px;border:1px solid rgba(0,0,0,.05);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);transition:all .3s ease}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]:hover{background:#ffffffe6;transform:translateY(-2px);box-shadow:0 8px 24px #0000001a}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.local-icon[_ngcontent-%COMP%], .factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.period-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.dates-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.financial-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.observations-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{flex:1}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#2d3748}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;font-size:12px;color:#718096}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(0,0,0,.05)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:14px;color:#718096;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:14px;color:#2d3748;font-weight:600}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-display[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#4a5568;text-align:center;padding:12px;background:#667eea1a;border-radius:8px;margin-bottom:8px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-year[_ngcontent-%COMP%]{font-size:14px;color:#718096;text-align:center;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(0,0,0,.05)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:14px;color:#718096;font-weight:500;display:flex;align-items:center;gap:6px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:14px;color:#2d3748;font-weight:600}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value.paid[_ngcontent-%COMP%]{color:#38a169}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid rgba(0,0,0,.05)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row.main-amount[_ngcontent-%COMP%]{background:#43e97b1a;padding:12px;border-radius:8px;margin-bottom:8px;border-bottom:none}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-label[_ngcontent-%COMP%]{font-size:14px;color:#718096;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value.primary[_ngcontent-%COMP%]{color:#2d3748;font-size:16px;font-weight:700}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value.success[_ngcontent-%COMP%]{color:#38a169}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value.warning[_ngcontent-%COMP%]{color:#d69e2e}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value.danger[_ngcontent-%COMP%]{color:#e53e3e}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .observations-text[_ngcontent-%COMP%]{font-size:14px;color:#4a5568;line-height:1.6;background:#4facfe1a;padding:12px;border-radius:8px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:20px 24px 24px;border-top:1px solid rgba(0,0,0,.1);background:#fffffff2;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);position:sticky;bottom:0;margin-top:auto;box-shadow:0 -4px 12px #0000001a}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]{margin-bottom:16px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);--color: white;font-weight:600;font-size:16px;height:48px;border-radius:12px;--box-shadow: 0 4px 12px rgba(72, 187, 120, .3)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]:hover{--box-shadow: 0 6px 16px rgba(72, 187, 120, .4)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions.has-many-actions[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(110px,1fr))}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{height:44px;border-radius:10px;font-weight:500;font-size:14px;--border-width: 1.5px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:inline}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{--color: #e53e3e;--border-color: #e53e3e}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]:hover{--background: #e53e3e;--color: white}@media (max-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{margin:10px;max-height:90vh;display:flex;flex-direction:column}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px;flex-shrink:0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:12px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:48px;height:48px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:20px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{padding:8px 12px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:18px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:20px 20px 0;max-height:calc(90vh - 220px);flex:1;overflow-y:auto}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:16px 20px 20px;flex-shrink:0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--max-width: 800px;--width: 90%;--max-height: 85vh}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-width:800px;width:90%;margin:0 auto;max-height:85vh;border-radius:24px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:120px;padding:1.5rem 2rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:1.5rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{font-size:.9rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.75rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.8rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:1.5rem 2rem 0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:#fffffffa}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{height:3rem;font-size:1rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex:1;min-width:56px;max-width:60px;width:56px;height:56px;--border-radius: 50%;font-size:1.4rem;padding:0;display:flex;align-items:center;justify-content:center}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0!important;font-size:inherit}}@media (min-width: 1440px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--max-width: 900px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-width:900px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:2rem}}@media (max-width: 767px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:block!important;white-space:nowrap!important;text-align:center!important;width:100%!important;padding:0!important;margin:0!important;overflow-x:auto!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%], .factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{display:inline-block!important;width:36px!important;height:36px!important;min-width:36px!important;max-width:36px!important;margin:0 8px!important;vertical-align:middle!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:inline-block!important;width:36px!important;height:36px!important;min-width:36px!important;max-width:36px!important;margin:0 8px!important;vertical-align:middle!important;float:none!important}}`]});let l=f;return l})();export{Na as LocalDetailPage};
