import{a as Ne}from"./chunk-AFSMAPRL.js";import{a as De}from"./chunk-VGMLGGR7.js";import{b as he}from"./chunk-2DHM2XJF.js";import"./chunk-E5CGDO2G.js";import{a as S}from"./chunk-76SUSZ7P.js";import{$ as Oe,Ba as Fe,Ca as Le,E as Ce,Ea as ze,G as we,O as ve,Q as ke,Ua as Ve,X as Pe,Za as Ae,a as fe,aa as ye,ca as Se,d as xe,fa as Ee,ga as Ie,kb as Be,v as be,xa as Te,z as Me}from"./chunk-PIGH2764.js";import"./chunk-HENECHRK.js";import{$ as _,Ac as ge,Ba as k,Dc as _e,Ea as F,Eb as N,Fa as L,Fc as ue,G as u,H as s,Jb as R,K as I,Kb as W,Lb as $,Mb as q,N as x,Na as z,Nb as j,P as l,Pb as G,Qb as H,Rb as U,Sb as Y,Tb as J,U as o,Ub as K,V as a,Va as V,Vb as Q,W as g,Wb as X,Xb as Z,Yb as ee,_ as w,aa as d,ab as A,bc as te,cb as B,fc as ie,gc as ne,ia as m,ic as oe,ja as E,jb as D,ka as v,kc as re,lc as ae,na as P,oa as O,oc as se,pa as y,pc as ce,qc as le,ra as T,tc as de,uc as pe,w as C,xc as me,y as h,z as f}from"./chunk-5JVX3F6S.js";import"./chunk-3BKI4OCD.js";import"./chunk-QUJFQN2Y.js";import"./chunk-Q54UXUQI.js";import"./chunk-3X2ZBCS4.js";import"./chunk-MIXIO5PR.js";import"./chunk-XQESWZ4T.js";import"./chunk-7KGURMOZ.js";import"./chunk-TLFJBS62.js";import"./chunk-X2MTSPWE.js";import"./chunk-ZXCKTIDB.js";import"./chunk-M66VC23L.js";import"./chunk-L2DIMNML.js";import"./chunk-JEDV2W6G.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-6OKYY42W.js";import"./chunk-CKP3SGE2.js";import"./chunk-Z7MVEU4J.js";import"./chunk-PJL56ILQ.js";import"./chunk-NVWEJ7GR.js";import"./chunk-UVAVEIEI.js";import"./chunk-E6CW6KXY.js";import"./chunk-Z3EESIK6.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-6WKZVARI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{h as M}from"./chunk-LNJ3S2LQ.js";var Re=()=>[1,2,3,4,5,6];function We(r,p){if(r&1&&(o(0,"ion-select-option",26),m(1),a()),r&2){let n=p.$implicit;l("value",n),s(),v(" ",n," ")}}function $e(r,p){if(r&1&&(o(0,"ion-chip",40),m(1),a()),r&2){let n=d(3);s(),v(" Estado: ",n.selectedEstado()?"Activo":"Inactivo"," ")}}function qe(r,p){if(r&1&&(o(0,"ion-chip",40),m(1),a()),r&2){let n=d(3);s(),v(" Municipio: ",n.selectedMunicipio()," ")}}function je(r,p){if(r&1&&(o(0,"div",37)(1,"span",38),m(2,"Filtros activos:"),a(),x(3,$e,2,1,"ion-chip",39)(4,qe,2,1,"ion-chip",39),a()),r&2){let n=d(2);s(3),l("ngIf",n.selectedEstado()!==void 0),s(),l("ngIf",n.selectedMunicipio())}}function Ge(r,p){if(r&1){let n=w();o(0,"ion-toolbar",21)(1,"div",22)(2,"ion-grid",23)(3,"ion-row")(4,"ion-col",24)(5,"ion-select",25),y("ngModelChange",function(t){h(n);let i=d();return O(i.selectedEstado,t)||(i.selectedEstado=t),f(t)}),_("ionChange",function(t){h(n);let i=d();return f(i.selectedEstado.set(t.detail.value))}),o(6,"ion-select-option",26),m(7,"Todos"),a(),o(8,"ion-select-option",26),m(9,"Activo"),a(),o(10,"ion-select-option",26),m(11,"Inactivo"),a()()(),o(12,"ion-col",24)(13,"ion-select",27),y("ngModelChange",function(t){h(n);let i=d();return O(i.selectedMunicipio,t)||(i.selectedMunicipio=t),f(t)}),_("ionChange",function(t){h(n);let i=d();return f(i.selectedMunicipio.set(t.detail.value))}),o(14,"ion-select-option",28),m(15,"Todos"),a(),x(16,We,2,2,"ion-select-option",29),a()(),o(17,"ion-col",30)(18,"div",31)(19,"ion-button",32),_("click",function(){h(n);let t=d();return f(t.applyFilters())}),g(20,"ion-icon",33),m(21," Aplicar "),a(),o(22,"ion-button",34),_("click",function(){h(n);let t=d();return f(t.clearFilters())}),g(23,"ion-icon",35),m(24," Limpiar "),a()()()()(),x(25,je,5,2,"div",36),a()()}if(r&2){let n=d();s(5),P("ngModel",n.selectedEstado),s(),l("value",void 0),s(2),l("value",!0),s(2),l("value",!1),s(3),P("ngModel",n.selectedMunicipio),s(3),l("ngForOf",n.availableMunicipios()),s(9),l("ngIf",n.hasActiveFilters())}}function He(r,p){r&1&&(o(0,"ion-col",43)(1,"ion-card",44)(2,"ion-card-header"),g(3,"ion-skeleton-text",45),a(),o(4,"ion-card-content")(5,"div",46),g(6,"ion-skeleton-text",47)(7,"ion-skeleton-text",48),o(8,"div",49),g(9,"ion-skeleton-text",50)(10,"ion-skeleton-text",51),a()()()()())}function Ue(r,p){r&1&&(o(0,"div",41)(1,"ion-grid")(2,"ion-row"),x(3,He,11,0,"ion-col",42),a()()()),r&2&&(s(3),l("ngForOf",T(1,Re)))}function Ye(r,p){if(r&1){let n=w();o(0,"ion-button",61),_("click",function(){h(n);let t=d(3);return f(t.createMercado())}),g(1,"ion-icon",62),m(2," Crear Mercado "),a()}}function Je(r,p){if(r&1&&(o(0,"div",56),g(1,"ion-icon",57),o(2,"h3",58),m(3,"No hay mercados disponibles"),a(),o(4,"p",59),m(5),a(),x(6,Ye,3,0,"ion-button",60),a()),r&2){let n=d(2);s(5),v(" ",n.searchText()?"No se encontraron mercados que coincidan con tu b\xFAsqueda":"Comienza creando tu primer mercado"," "),s(),l("ngIf",n.canCreate()&&!n.searchText())}}function Ke(r,p){if(r&1&&(o(0,"div",74),g(1,"ion-icon",86),o(2,"span",76),m(3),a()()),r&2){let n=d().$implicit;s(3),E(n.descripcion)}}function Qe(r,p){if(r&1){let n=w();o(0,"div",87),_("click",function(t){h(n);let i=d().$implicit;return d(2).showOnMap(i),f(t.stopPropagation())}),g(1,"ion-icon",88),o(2,"span",89),m(3,"Ver mapa"),a()()}}function Xe(r,p){if(r&1){let n=w();o(0,"ion-button",90),_("click",function(t){h(n);let i=d().$implicit;return d(2).editMercado(i),f(t.stopPropagation())}),g(1,"ion-icon",91),m(2," Editar "),a()}}function Ze(r,p){if(r&1){let n=w();o(0,"ion-col",43)(1,"ion-card",63)(2,"ion-card-header",64)(3,"div",65)(4,"div",66)(5,"ion-card-title",67),m(6),a()(),o(7,"div",68)(8,"ion-chip",69),g(9,"ion-icon",70),m(10),a(),o(11,"ion-button",71),_("click",function(t){let i=h(n).$implicit;return d(2).showMercadoOptions(i),f(t.stopPropagation())}),g(12,"ion-icon",72),a()()()(),o(13,"ion-card-content",73),_("click",function(){let t=h(n).$implicit,i=d(2);return f(i.viewMercado(t))}),o(14,"div",74),g(15,"ion-icon",75),o(16,"span",76),m(17),a()(),x(18,Ke,4,1,"div",77),o(19,"div",78)(20,"div",74),g(21,"ion-icon",79),o(22,"span",80),m(23),a()(),x(24,Qe,4,0,"div",81),a(),o(25,"div",82)(26,"ion-button",83),_("click",function(t){let i=h(n).$implicit;return d(2).viewMercado(i),f(t.stopPropagation())}),g(27,"ion-icon",84),m(28," Ver "),a(),x(29,Xe,3,0,"ion-button",85),a()()()()}if(r&2){let n=p.$implicit,e=d(2);s(6),v(" ",n.nombre_mercado," "),s(2),l("color",e.getStatusColor(n.isActive)),s(),l("name",e.getStatusIcon(n.isActive)),s(),v(" ",n.isActive?"Activo":"Inactivo"," "),s(7),E(n.direccion),s(),l("ngIf",n.descripcion),s(5),v(" ",(n._count==null?null:n._count.locales)||0," locales "),s(),l("ngIf",n.latitud&&n.longitud),s(5),l("ngIf",e.canEdit())}}function et(r,p){if(r&1&&(o(0,"div",52),x(1,Je,7,2,"div",53),o(2,"ion-grid",54)(3,"ion-row"),x(4,Ze,30,9,"ion-col",55),a()()()),r&2){let n=d();s(),l("ngIf",n.filteredMercados().length===0),s(3),l("ngForOf",n.filteredMercados())("ngForTrackBy",n.trackByFn)}}function tt(r,p){if(r&1){let n=w();o(0,"ion-infinite-scroll",92),_("ionInfinite",function(t){h(n);let i=d();return f(i.onLoadMore(t))}),g(1,"ion-infinite-scroll-content",93),a()}}function it(r,p){if(r&1){let n=w();o(0,"ion-fab",94)(1,"ion-fab-button",95),_("click",function(){h(n);let t=d();return f(t.createMercado())}),g(2,"ion-icon",96),a()()}}var xt=(()=>{let p=class p{constructor(){this.mercadosService=C(De),this.router=C(V),this.actionSheetController=C(de),this.alertController=C(pe),this.toastController=C(me),this.authService=C(he),this.eventService=C(Ne),this.eventSubscription=null,this.mercados=u([]),this.loading=u(!1),this.isInfiniteDisabled=u(!1),this.selectedMercado=u(null),this.searchText=u(""),this.currentPage=u(1),this.totalPages=u(1),this.selectedEstado=u(void 0),this.selectedMunicipio=u(""),this.availableMunicipios=u([]),this.showFilters=u(!1),this.isActionSheetOpen=u(!1),this.toastMessage=u(""),this.toastColor=u(""),this.isToastOpen=u(!1),this.filteredMercados=k(()=>{let e=this.mercados(),t=this.searchText().toLowerCase().trim();return this.selectedEstado()!==void 0&&(e=e.filter(i=>i.isActive===this.selectedEstado())),this.selectedMunicipio()&&(e=e.filter(i=>i.direccion.toLowerCase().includes(this.selectedMunicipio().toLowerCase()))),t?e.filter(i=>{var c;return i.nombre_mercado.toLowerCase().includes(t)||i.direccion.toLowerCase().includes(t)||((c=i.descripcion)==null?void 0:c.toLowerCase().includes(t))}):e}),this.hasActiveFilters=k(()=>this.selectedEstado()!==void 0||this.selectedMunicipio()),this.canCreate=k(()=>{let e=this.authService.user();return e&&[S.ADMIN].includes(e.role)}),this.canEdit=k(()=>{let e=this.authService.user();return e&&[S.ADMIN].includes(e.role)}),this.canDelete=k(()=>{let e=this.authService.user();return e&&[S.ADMIN].includes(e.role)}),fe({filterOutline:Ie,downloadOutline:ye,checkmarkOutline:we,closeOutline:ke,businessOutline:be,addOutline:xe,ellipsisVertical:Se,locationOutline:Te,documentTextOutline:Oe,mapOutline:Le,eyeOutline:Ee,createOutline:Pe,searchOutline:Ae,trashOutline:Be,refreshOutline:Ve,checkmarkCircle:Ce,closeCircle:ve,menuOutline:ze,callOutline:Me,mailOutline:Fe})}ngOnInit(){this.loadMercados(),this.loadFilterOptions(),this.eventSubscription=this.eventService.events$.subscribe(e=>{if(e.type==="mercado:created")e.payload&&(this.mercados.update(t=>[e.payload,...t]),this.showToast("Nuevo mercado agregado","success"));else if(e.type==="mercado:updated"&&e.payload){let t=e.payload;this.mercados.update(i=>i.map(c=>c.id===t.id?t:c)),this.showToast("Mercado actualizado","success")}})}ngOnDestroy(){this.eventSubscription&&(this.eventSubscription.unsubscribe(),this.eventSubscription=null)}loadMercados(e=!1){return M(this,null,function*(){this.loading.set(!0);try{let i={page:e?1:this.currentPage(),search:this.searchText()||void 0,estado:this.selectedEstado(),municipio:this.selectedMunicipio()||void 0},c=yield this.mercadosService.getMarkets(i).toPromise();c&&(e?(this.mercados.set(c.data),this.currentPage.set(1)):this.mercados.update(b=>[...b,...c.data]),this.totalPages.set(c.pagination.total_pages),this.isInfiniteDisabled.set(this.currentPage()>=c.pagination.total_pages))}catch(t){console.error("Error loading mercados:",t),yield this.showToast("Error al cargar mercados","danger")}finally{this.loading.set(!1)}})}loadFilterOptions(){return M(this,null,function*(){try{let e=yield this.mercadosService.getUniqueMunicipios().toPromise();e&&this.availableMunicipios.set(e)}catch(e){console.error("Error loading filter options:",e)}})}onRefresh(e){return M(this,null,function*(){yield this.loadMercados(!0),e.target.complete()})}onLoadMore(e){return M(this,null,function*(){this.currentPage()<this.totalPages()&&(this.currentPage.update(t=>t+1),yield this.loadMercados()),e.target.complete()})}onSearchChange(e){this.searchText.set(e.detail.value)}applyFilters(){this.loadMercados(!0),this.showFilters.set(!1),this.showToast("Filtros aplicados","success")}clearFilters(){this.selectedEstado.set(void 0),this.selectedMunicipio.set(""),this.searchText.set(""),this.loadMercados(!0),this.showFilters.set(!1),this.showToast("Filtros limpiados","success")}createMercado(){this.router.navigate(["/mercados/nuevo"])}viewMercado(e){this.router.navigate(["/mercados",e.id])}editMercado(e){this.router.navigate(["/mercados/editar",e.id])}toggleMercadoState(e){return M(this,null,function*(){try{let t=yield this.mercadosService.toggleMarketStatus(e.id).toPromise();t!=null&&t.data&&(this.mercados.update(i=>i.map(c=>c.id===e.id?t.data:c)),yield this.showToast(`Mercado ${t.data.isActive?"activado":"desactivado"} exitosamente`,"success"))}catch(t){console.error("Error toggling market state:",t),yield this.showToast("Error al cambiar estado del mercado","danger")}})}showMercadoOptions(e){this.selectedMercado.set(e),this.isActionSheetOpen.set(!0)}onActionSelected(e){return M(this,null,function*(){let t=this.selectedMercado();if(t)switch(e){case"view":this.viewMercado(t);break;case"edit":this.editMercado(t);break;case"toggle":this.toggleMercadoState(t);break;case"delete":yield(yield this.alertController.create({header:"Confirmar eliminaci\xF3n",message:`\xBFEst\xE1 seguro que desea eliminar el mercado "${t.nombre_mercado}"?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:()=>M(this,null,function*(){try{yield this.mercadosService.deleteMarket(t.id).toPromise(),this.mercados.update(c=>c.filter(b=>b.id!==t.id)),yield this.showToast("Mercado eliminado correctamente","success")}catch(c){console.error("Error deleting market:",c),yield this.showToast("Error al eliminar mercado","danger")}})}]})).present();break;case"map":this.showLocationOnMap(t);break}})}showLocationOnMap(e){e.latitud&&e.longitud?window.open(`https://www.google.com/maps?q=${e.latitud},${e.longitud}`,"_blank"):this.showToast("El mercado no tiene coordenadas disponibles","warning")}showOnMap(e){this.showLocationOnMap(e)}exportMercados(){return M(this,null,function*(){try{console.log("Exportando mercados..."),this.showToast("Mercados exportados correctamente","success")}catch(e){console.error("Error exporting markets:",e),this.showToast("Error al exportar mercados","danger")}})}showToast(e,t){return M(this,null,function*(){this.toastMessage.set(e),this.toastColor.set(t),this.isToastOpen.set(!0)})}getStatusColor(e){return e?"success":"danger"}getStatusIcon(e){return e?"checkmark-circle":"close-circle"}getActionSheetButtons(){var e,t;return[{text:"Ver Detalles",icon:"eye-outline",handler:()=>this.onActionSelected("view")},{text:"Editar",icon:"create-outline",handler:()=>this.onActionSelected("edit"),cssClass:this.canEdit()?"":"hidden"},{text:(e=this.selectedMercado())!=null&&e.isActive?"Desactivar":"Activar",icon:(t=this.selectedMercado())!=null&&t.isActive?"close-circle-outline":"checkmark-circle-outline",handler:()=>this.onActionSelected("toggle"),cssClass:this.canEdit()?"":"hidden"},{text:"Ver en Mapa",icon:"map-outline",handler:()=>this.onActionSelected("map")},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:()=>this.onActionSelected("delete"),cssClass:this.canDelete()?"":"hidden"},{text:"Cancelar",role:"cancel"}]}trackByFn(e,t){return t.id}};p.\u0275fac=function(t){return new(t||p)},p.\u0275cmp=I({type:p,selectors:[["app-mercados-list"]],decls:23,vars:14,consts:[[3,"translucent"],[1,"header-toolbar"],["slot","start"],[1,"text-white","menu-button"],[1,"text-white","font-semibold","header-title"],["slot","end"],["fill","clear",1,"action-button",3,"click"],["name","filter-outline","slot","icon-only",1,"text-white"],["name","download-outline","slot","icon-only",1,"text-white"],["class","filters-toolbar",4,"ngIf"],[1,"ion-background-color",3,"fullscreen"],[1,"sticky","top-0","z-10","bg-white","shadow-sm"],["placeholder","Buscar mercados por nombre, direcci\xF3n...","debounce","500","showClearButton","focus",1,"px-4","py-3","custom-searchbar",3,"ngModelChange","ionInput","ngModel"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Desliza para actualizar","refreshingSpinner","circles","refreshingText","Actualizando..."],["class","skeleton-container",4,"ngIf"],["class","p-4",4,"ngIf"],[3,"ionInfinite",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed","class","custom-fab",4,"ngIf"],["header","Opciones del Mercado",3,"didDismiss","isOpen","buttons"],["position","bottom",3,"didDismiss","isOpen","message","duration","color"],[1,"filters-toolbar"],[1,"filters-container"],[1,"filter-grid"],["size","12","size-md","4"],["placeholder","Estado","interface","popover",1,"filter-select",3,"ngModelChange","ionChange","ngModel"],[3,"value"],["placeholder","Municipio","interface","popover",1,"filter-select",3,"ngModelChange","ionChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["size","12","size-md","4",1,"filter-buttons-col"],[1,"filter-buttons"],["expand","block",1,"filter-apply-btn",3,"click"],["name","checkmark-outline","slot","start"],["expand","block","fill","outline",1,"filter-clear-btn",3,"click"],["name","close-outline","slot","start"],["class","active-filters",4,"ngIf"],[1,"active-filters"],[1,"text-sm","text-gray-600"],["color","primary","outline","",4,"ngIf"],["color","primary","outline",""],[1,"skeleton-container"],["size","12","size-md","6","size-lg","4",4,"ngFor","ngForOf"],["size","12","size-md","6","size-lg","4"],[1,"skeleton-card"],["animated","",2,"width","70%","height","24px"],[1,"skeleton-content"],["animated","",2,"width","90%","height","16px","margin-bottom","12px"],["animated","",2,"width","60%","height","16px","margin-bottom","12px"],[1,"skeleton-footer"],["animated","",2,"width","30%","height","14px"],["animated","",2,"width","20%","height","14px"],[1,"p-4"],["class","text-center py-12",4,"ngIf"],[1,"market-grid"],["size","12","size-md","6","size-lg","4",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-center","py-12"],["name","business-outline",1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-600","mb-2"],[1,"text-gray-500","mb-6"],["color","primary",3,"click",4,"ngIf"],["color","primary",3,"click"],["name","add-outline","slot","start"],[1,"market-card"],[1,"market-card-header"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"market-title"],[1,"flex","items-center","space-x-2","ml-2"],[1,"status-chip",3,"color"],[1,"mr-1",3,"name"],["fill","clear","size","small",1,"market-options-button",3,"click"],["name","ellipsis-vertical","slot","icon-only",1,"text-gray-500"],[1,"market-card-content",3,"click"],[1,"market-info-row"],["name","location-outline",1,"market-icon","location-icon"],[1,"market-description"],["class","market-info-row",4,"ngIf"],[1,"stats-section"],["name","business-outline",1,"market-icon","business-icon"],[1,"market-stat-text"],["class","map-link",3,"click",4,"ngIf"],[1,"market-actions"],["size","small","fill","outline",1,"market-action-button","view-button",3,"click"],["name","eye-outline","slot","start"],["size","small","fill","outline","class","market-action-button edit-button",3,"click",4,"ngIf"],["name","document-text-outline",1,"market-icon","description-icon"],[1,"map-link",3,"click"],["name","map-outline",1,"map-icon"],[1,"map-text"],["size","small","fill","outline",1,"market-action-button","edit-button",3,"click"],["name","create-outline","slot","start"],[3,"ionInfinite"],["loadingSpinner","crescent","loadingText","Cargando m\xE1s mercados..."],["vertical","bottom","horizontal","end","slot","fixed",1,"custom-fab"],[1,"fab-button",3,"click"],["name","add-outline"]],template:function(t,i){t&1&&(o(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),g(3,"ion-menu-button",3),a(),o(4,"ion-title",4),m(5,"Gesti\xF3n de Mercados"),a(),o(6,"ion-buttons",5)(7,"ion-button",6),_("click",function(){return i.showFilters.set(!i.showFilters())}),g(8,"ion-icon",7),a(),o(9,"ion-button",6),_("click",function(){return i.exportMercados()}),g(10,"ion-icon",8),a()()(),x(11,Ge,26,7,"ion-toolbar",9),a(),o(12,"ion-content",10)(13,"div",11)(14,"ion-searchbar",12),y("ngModelChange",function(b){return O(i.searchText,b)||(i.searchText=b),b}),_("ionInput",function(b){return i.onSearchChange(b)}),a()(),o(15,"ion-refresher",13),_("ionRefresh",function(b){return i.onRefresh(b)}),g(16,"ion-refresher-content",14),a(),x(17,Ue,4,2,"div",15)(18,et,5,3,"div",16)(19,tt,2,0,"ion-infinite-scroll",17)(20,it,3,0,"ion-fab",18),o(21,"ion-action-sheet",19),_("didDismiss",function(){return i.isActionSheetOpen.set(!1)}),a(),o(22,"ion-toast",20),_("didDismiss",function(){return i.isToastOpen.set(!1)}),a()()),t&2&&(l("translucent",!0),s(11),l("ngIf",i.showFilters()),s(),l("fullscreen",!0),s(2),P("ngModel",i.searchText),s(3),l("ngIf",i.loading()&&i.mercados().length===0),s(),l("ngIf",!i.loading()||i.mercados().length>0),s(),l("ngIf",!i.isInfiniteDisabled()),s(),l("ngIf",i.canCreate()),s(),l("isOpen",i.isActionSheetOpen())("buttons",i.getActionSheetButtons()),s(),l("isOpen",i.isToastOpen())("message",i.toastMessage())("duration",3e3)("color",i.toastColor()))},dependencies:[z,F,L,D,A,B,Y,X,se,le,W,R,ge,_e,H,ue,re,ie,ne,te,ae,ce,$,q,j,G,Q,oe,U,J,K,Z,ee,N],styles:[".ion-background-color[_ngcontent-%COMP%]{--background: #F4F4F5}.header-toolbar[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #4F46E5 0%, #6366F1 100%);--border-style: none;--min-height: 60px}.header-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;letter-spacing:.025em}.menu-button[_ngcontent-%COMP%], .action-button[_ngcontent-%COMP%]{--color: white;font-size:1.25rem;opacity:1}.menu-button[_ngcontent-%COMP%]::part(native), .action-button[_ngcontent-%COMP%]::part(native){padding:10px}.custom-searchbar[_ngcontent-%COMP%]{--border-radius: 12px;--box-shadow: 0 2px 6px rgba(0, 0, 0, .05);--placeholder-font-weight: 400;--placeholder-opacity: .7;padding:0 10px;margin:10px}.market-card[_ngcontent-%COMP%]{transition:all .3s ease;border-radius:16px;overflow:hidden;margin:12px;height:calc(100% - 24px);box-shadow:0 4px 12px #0000000f;background:#fff;border:none}.market-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 30px #0000001f}.market-card-header[_ngcontent-%COMP%]{padding:16px 16px 8px}.market-title[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;line-height:1.4;font-weight:600;font-size:1.1rem;color:#1f2937}.market-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}.market-info-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:12px;gap:10px}.market-icon[_ngcontent-%COMP%]{flex-shrink:0;font-size:18px;margin-top:2px}.location-icon[_ngcontent-%COMP%]{color:#3b82f6}.description-icon[_ngcontent-%COMP%]{color:#10b981}.business-icon[_ngcontent-%COMP%]{color:#8b5cf6}.market-description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;color:#4b5563;font-size:.875rem}.status-chip[_ngcontent-%COMP%]{font-weight:500;font-size:.75rem;height:24px;--padding-start: 8px;--padding-end: 8px}.stats-section[_ngcontent-%COMP%]{border-top:1px solid #F3F4F6;padding-top:12px;margin-top:12px;display:flex;justify-content:space-between;align-items:center}.market-stat-text[_ngcontent-%COMP%]{font-size:.875rem;color:#4b5563;font-weight:500}.map-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;cursor:pointer;transition:color .2s ease;color:#3b82f6}.map-link[_ngcontent-%COMP%]:hover{color:#2563eb}.map-link[_ngcontent-%COMP%]   .map-icon[_ngcontent-%COMP%]{font-size:16px}.map-link[_ngcontent-%COMP%]   .map-text[_ngcontent-%COMP%]{font-size:.75rem}.market-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding-top:12px}.market-action-button[_ngcontent-%COMP%]{--border-radius: 8px;font-weight:500;font-size:.8125rem}.view-button[_ngcontent-%COMP%]{--border-color: #3B82F6;--color: #3B82F6}.edit-button[_ngcontent-%COMP%]{--border-color: #6B7280;--color: #6B7280}.market-options-button[_ngcontent-%COMP%]{margin-left:4px}@media (max-width: 768px){.market-grid[_ngcontent-%COMP%]{--ion-grid-padding: 8px}.market-card[_ngcontent-%COMP%]{margin:8px;height:calc(100% - 16px)}.market-title[_ngcontent-%COMP%]{font-size:1rem}.market-card-header[_ngcontent-%COMP%]{padding:12px 12px 6px}.market-card-content[_ngcontent-%COMP%]{padding:8px 12px 12px}.header-toolbar[_ngcontent-%COMP%]{--min-height: 56px}.header-title[_ngcontent-%COMP%]{font-size:1.125rem}.status-chip[_ngcontent-%COMP%]{font-size:.6875rem;height:22px;--padding-start: 6px;--padding-end: 6px}.market-actions[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (min-width: 769px){.market-grid[_ngcontent-%COMP%]{--ion-grid-padding: 16px}ion-col[_ngcontent-%COMP%]{padding:10px}.market-card[_ngcontent-%COMP%]{margin:0;height:100%}}@media (max-width: 768px){.market-grid[_ngcontent-%COMP%]{padding:.5rem}.market-card[_ngcontent-%COMP%]{margin-bottom:1rem}}.filters-section[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e5e7eb;padding:1rem}.filter-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.filters-toolbar[_ngcontent-%COMP%]{--background: white;--border-color: #E5E7EB;--border-width: 0 0 1px 0;--border-style: solid;--padding-start: 0;--padding-end: 0;--min-height: auto}.filters-container[_ngcontent-%COMP%]{padding:16px;width:100%}.filter-grid[_ngcontent-%COMP%]{--ion-grid-padding: 0}.filter-select[_ngcontent-%COMP%]{--placeholder-color: #6B7280;--placeholder-opacity: .8;border-radius:8px;border:1px solid #D1D5DB;padding:0 8px;--padding-start: 16px;--padding-end: 16px;font-size:.9375rem;margin-bottom:10px}.active-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:16px}.filter-chip[_ngcontent-%COMP%]{--background: transparent;--color: #4F46E5;--border-color: #4F46E5;--border-width: 1px;--border-style: solid;--border-radius: 16px;height:28px;font-size:.8125rem}.filter-buttons-col[_ngcontent-%COMP%]{display:flex}@media (max-width: 768px){.filter-buttons-col[_ngcontent-%COMP%]{margin-top:8px}}.filter-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;width:100%}.filter-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;flex:1;font-size:.9rem;--border-radius: 8px}.filter-apply-btn[_ngcontent-%COMP%]{--background: #4F46E5;--color: white;--box-shadow: 0 2px 4px rgba(79, 70, 229, .2);--ripple-color: rgba(255, 255, 255, .2)}.filter-apply-btn[_ngcontent-%COMP%]::part(native){font-weight:500}.filter-clear-btn[_ngcontent-%COMP%]{--border-color: #6B7280;--color: #6B7280;--background: transparent;--ripple-color: rgba(107, 114, 128, .1)}.filter-clear-btn[_ngcontent-%COMP%]::part(native){font-weight:500}.skeleton-container[_ngcontent-%COMP%]{padding:16px}.skeleton-card[_ngcontent-%COMP%]{border-radius:16px;margin:0;height:100%;min-height:180px}.skeleton-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.skeleton-footer[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:space-between;padding-top:12px;border-top:1px solid #F3F4F6}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:4rem;color:#9ca3af;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4b5563;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin-bottom:1.5rem}ion-fab-button[_ngcontent-%COMP%]{--box-shadow: 0 4px 20px rgba(0, 0, 0, .15)}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.75rem}.action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 8px}ion-searchbar[_ngcontent-%COMP%]{--background: white;--border-radius: 12px;--box-shadow: 0 2px 8px rgba(0, 0, 0, .1)}ion-searchbar[_ngcontent-%COMP%]   .searchbar-input-container[_ngcontent-%COMP%]{border-radius:12px}.custom-fab[_ngcontent-%COMP%]{margin-bottom:20px;margin-right:20px}.fab-button[_ngcontent-%COMP%]{--background: #4F46E5;--background-activated: #4338CA;--background-hover: #4338CA;--border-radius: 16px;--box-shadow: 0 4px 14px rgba(79, 70, 229, .25)}.fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}"]});let r=p;return r})();export{xt as MercadosListPage};
