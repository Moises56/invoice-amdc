import{a as Qe}from"./chunk-GG2V76CY.js";import{a as Xe}from"./chunk-GD44D34R.js";import{a as We}from"./chunk-2N6VJTZ6.js";import{a as Ke}from"./chunk-BVFCM23S.js";import"./chunk-WJYYOXGJ.js";import"./chunk-JKPOXX6X.js";import{b as Bt}from"./chunk-2DHM2XJF.js";import"./chunk-E5CGDO2G.js";import{a as N,b as R,c as D,d as q}from"./chunk-76SUSZ7P.js";import{$ as Ce,A as U,B as H,Ba as ve,C as ne,D as ae,Da as we,E as oe,F as ie,G as re,Ga as ye,I as ce,Ia as Ee,J as le,Ka as Se,Ma as ke,N as de,Na as Ie,Oa as De,P as se,Pa as Fe,Q as ge,R as me,Ra as ze,Sa as Le,Ua as Ae,W as pe,Wa as Te,X as _e,Y as ue,Z as fe,Za as Ne,a as Rt,aa as Pe,b as Ut,c as Ht,d as qt,db as Ve,e as Gt,eb as $e,f as Jt,fa as Me,fb as je,ga as Oe,gb as Ye,h as Kt,hb as Be,jb as Re,kb as Ue,ma as xe,nb as He,o as Wt,ob as qe,p as Qt,pb as Ge,qa as he,qb as Je,v as Xt,x as Zt,xa as be,y as te,z as ee}from"./chunk-PIGH2764.js";import"./chunk-HENECHRK.js";import{$ as x,Ac as $t,Ba as T,Cb as Ct,Db as Pt,Dc as jt,Ea as it,Fa as rt,Fc as Yt,G as y,Ga as ct,H as c,Ib as Mt,Jb as Ot,K as J,Ka as lt,Kb as xt,La as dt,Lb as ht,Ma as st,Mb as bt,N as v,Na as gt,Nb as vt,P as u,Pb as wt,R as Y,Sb as yt,Ta as mt,Tb as Et,U as e,Ub as St,V as n,Va as pt,W as m,Wb as kt,X as K,Xb as It,Y as W,Yb as Dt,_ as E,aa as _,ab as _t,cb as ut,ha as Q,ia as o,ja as h,jb as ft,ka as S,kc as Ft,la as X,mc as zt,na as Z,oa as tt,oc as Lt,pa as et,qc as At,ra as nt,sa as at,uc as Tt,va as I,vc as Nt,w as z,xa as L,xc as Vt,y as M,ya as B,z as O,za as ot}from"./chunk-5JVX3F6S.js";import"./chunk-3BKI4OCD.js";import"./chunk-QUJFQN2Y.js";import"./chunk-Q54UXUQI.js";import"./chunk-3X2ZBCS4.js";import"./chunk-MIXIO5PR.js";import"./chunk-XQESWZ4T.js";import"./chunk-7KGURMOZ.js";import"./chunk-TLFJBS62.js";import"./chunk-X2MTSPWE.js";import"./chunk-ZXCKTIDB.js";import"./chunk-M66VC23L.js";import"./chunk-L2DIMNML.js";import"./chunk-JEDV2W6G.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-6OKYY42W.js";import"./chunk-CKP3SGE2.js";import"./chunk-Z7MVEU4J.js";import"./chunk-PJL56ILQ.js";import"./chunk-NVWEJ7GR.js";import"./chunk-UVAVEIEI.js";import"./chunk-E6CW6KXY.js";import"./chunk-Z3EESIK6.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-6WKZVARI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{h as b}from"./chunk-LNJ3S2LQ.js";var en=()=>[.25,.5,.75,1],nn=l=>({color:l});function an(l,f){if(l&1){let i=E();e(0,"ion-button",5),x("click",function(){M(i);let a=_();return O(a.editarLocal())}),m(1,"ion-icon",16),n()}}function on(l,f){l&1&&(e(0,"div",17),m(1,"ion-spinner",18),e(2,"p"),o(3,"Cargando informaci\xF3n del local..."),n()())}function rn(l,f){if(l&1){let i=E();e(0,"div",19),m(1,"ion-icon",20),e(2,"h3"),o(3,"Error al cargar el local"),n(),e(4,"p"),o(5),n(),e(6,"ion-button",21),x("click",function(){M(i);let a=_();return O(a.cargarLocal())}),o(7,"Reintentar"),n()()}if(l&2){let i=_();c(5),h(i.error())}}function cn(l,f){if(l&1){let i=E();e(0,"div",101)(1,"ion-button",102),x("click",function(){M(i);let a=_(2);return O(a.toggleEstadoLocal())}),m(2,"ion-icon",103),n()()}if(l&2){let i,t=_(2);c(2),u("name",((i=t.local())==null?null:i.estado_local)==="ACTIVO"?"pause-outline":"play-outline")}}function ln(l,f){l&1&&m(0,"ion-spinner",104)}function dn(l,f){if(l&1){let i=E();e(0,"div",105),m(1,"ion-icon",106),e(2,"p",107),o(3,"No hay estad\xEDsticas disponibles"),n(),e(4,"ion-button",108),x("click",function(){M(i);let a=_(2);return O(a.recargarEstadisticas())}),o(5," Recargar "),n()()}}function sn(l,f){if(l&1&&(e(0,"div")(1,"h3",110),m(2,"ion-icon",134),o(3," Finanzas "),n(),e(4,"div",135)(5,"div",136)(6,"div",114),m(7,"ion-icon",137),e(8,"span",138),o(9),I(10,"currency"),n()(),e(11,"p",139),o(12,"Total Recaudado"),n()(),e(13,"div",140)(14,"div",114),m(15,"ion-icon",141),e(16,"span",142),o(17),I(18,"currency"),n()(),e(19,"p",143),o(20,"Monto Pendiente"),n()(),e(21,"div",144)(22,"div",114),m(23,"ion-icon",145),e(24,"span",146),o(25),I(26,"number"),n()(),e(27,"p",147),o(28,"% Recaudaci\xF3n"),n()(),e(29,"div",148)(30,"div",114),m(31,"ion-icon",149),e(32,"span",150),o(33),I(34,"currency"),n()(),e(35,"p",151),o(36,"Esperado Mensual"),n()(),e(37,"div",152)(38,"div",114),m(39,"ion-icon",153),e(40,"span",154),o(41),I(42,"currency"),n()(),e(43,"p",155),o(44,"Esperado Anual"),n()(),e(45,"div",156)(46,"div",114),m(47,"ion-icon",157),e(48,"span",158),o(49),I(50,"currency"),n()(),e(51,"p",159),o(52,"Total Facturado"),n()()()()),l&2){let i,t,a,r,d,g,p=_(3);c(9),S(" L. ",B(10,6,((i=p.estadisticas())==null||i.estadisticas_financieras==null?null:i.estadisticas_financieras.total_recaudado)||0,"","","1.2-2")," "),c(8),S(" L. ",B(18,11,((t=p.estadisticas())==null||t.estadisticas_financieras==null?null:t.estadisticas_financieras.monto_pendiente)||0,"","","1.2-2")," "),c(8),S(" ",L(26,16,((a=p.estadisticas())==null||a.estadisticas_financieras==null?null:a.estadisticas_financieras.porcentaje_recaudacion)||0,"1.1-1"),"% "),c(8),S(" L. ",B(34,19,((r=p.estadisticas())==null||r.estadisticas_financieras==null?null:r.estadisticas_financieras.recaudo_esperado_mensual)||0,"","","1.2-2")," "),c(8),S(" L. ",B(42,24,((d=p.estadisticas())==null||d.estadisticas_financieras==null?null:d.estadisticas_financieras.recaudo_esperado_anual)||0,"","","1.2-2")," "),c(8),S(" L. ",B(50,29,((g=p.estadisticas())==null||g.estadisticas_financieras==null?null:g.estadisticas_financieras.monto_total_facturas)||0,"","","1.2-2")," ")}}function gn(l,f){if(l&1){let i=E();e(0,"div")(1,"div",109)(2,"h3",110),m(3,"ion-icon",111),o(4," Facturas "),n(),e(5,"div",112)(6,"div",113),x("click",function(){M(i);let a=_(2);return O(a.filtrarPorEstadistica("total"))}),e(7,"div",114),m(8,"ion-icon",115),e(9,"span",116),o(10),n()(),e(11,"p",117),o(12,"Total Facturas"),n()(),e(13,"div",118),x("click",function(){M(i);let a=_(2);return O(a.filtrarPorEstadistica("pagadas"))}),e(14,"div",114),m(15,"ion-icon",119),e(16,"span",120),o(17),n()(),e(18,"p",121),o(19,"Pagadas"),n()(),e(20,"div",122),x("click",function(){M(i);let a=_(2);return O(a.filtrarPorEstadistica("pendientes"))}),e(21,"div",114),m(22,"ion-icon",123),e(23,"span",124),o(24),n()(),e(25,"p",125),o(26,"Pendientes"),n()(),e(27,"div",126),x("click",function(){M(i);let a=_(2);return O(a.filtrarPorEstadistica("vencidas"))}),e(28,"div",114),m(29,"ion-icon",127),e(30,"span",128),o(31),n()(),e(32,"p",129),o(33,"Vencidas"),n()(),e(34,"div",130),x("click",function(){M(i);let a=_(2);return O(a.filtrarPorEstadistica("anuladas"))}),e(35,"div",114),m(36,"ion-icon",131),e(37,"span",132),o(38),n()(),e(39,"p",133),o(40,"Anuladas"),n()()()(),v(41,sn,53,34,"div",62),n()}if(l&2){let i,t=_(2);c(6),Y("ring-2",t.filtroEstadisticaActivo()==="total")("ring-blue-400",t.filtroEstadisticaActivo()==="total"),c(4),h(t.estadisticasFacturas().total||0),c(3),Y("ring-2",t.filtroEstadisticaActivo()==="pagadas")("ring-green-400",t.filtroEstadisticaActivo()==="pagadas"),c(4),h(t.estadisticasFacturas().pagadas||0),c(3),Y("ring-2",t.filtroEstadisticaActivo()==="pendientes")("ring-orange-400",t.filtroEstadisticaActivo()==="pendientes"),c(4),h(t.estadisticasFacturas().pendientes||0),c(3),Y("ring-2",t.filtroEstadisticaActivo()==="vencidas")("ring-red-400",t.filtroEstadisticaActivo()==="vencidas"),c(4),h(t.estadisticasFacturas().vencidas||0),c(3),Y("ring-2",t.filtroEstadisticaActivo()==="anuladas")("ring-gray-400",t.filtroEstadisticaActivo()==="anuladas"),c(4),h(t.estadisticasFacturas().anuladas||0),c(3),u("ngIf",(i=t.estadisticas())==null?null:i.estadisticas_financieras)}}function mn(l,f){if(l&1){let i=E();e(0,"ion-button",160),x("click",function(){M(i);let a=_(2);return O(a.openInvoiceModal())}),m(1,"ion-icon",161),o(2," Nueva Factura "),n()}}function pn(l,f){if(l&1&&(e(0,"ion-select-option",162),o(1),n()),l&2){let i=f.$implicit;u("value",i),c(),h(i)}}function _n(l,f){l&1&&(e(0,"div",163),m(1,"ion-spinner",164),e(2,"p",107),o(3,"Cargando facturas..."),n()())}function un(l,f){if(l&1){let i=E();e(0,"ion-button",171),x("click",function(){M(i);let a=_(3);return O(a.openInvoiceModal())}),m(1,"ion-icon",161),o(2," Crear Primera Factura "),n()}}function fn(l,f){if(l&1&&(e(0,"div",165)(1,"div",166),m(2,"ion-icon",167),n(),e(3,"h3",168),o(4,"No hay facturas"),n(),e(5,"p",169),o(6,"Este local a\xFAn no tiene facturas registradas. Crea la primera factura para comenzar."),n(),v(7,un,3,0,"ion-button",170),n()),l&2){let i=_(2);c(7),u("ngIf",i.canCreateFactura())}}function Cn(l,f){if(l&1&&(e(0,"div",209),m(1,"ion-icon",210),e(2,"span"),o(3),I(4,"date"),n()()),l&2){let i=_(2).$implicit;c(3),S("Pagado: ",L(4,1,i.fecha_pago,"dd/MM/yyyy"),"")}}function Pn(l,f){if(l&1&&(e(0,"div",211),m(1,"ion-icon",212),e(2,"span"),o(3),I(4,"date"),n()()),l&2){let i=_(2).$implicit;c(3),S("Vence: ",L(4,1,i.fecha_vencimiento,"dd/MM"),"")}}function Mn(l,f){if(l&1&&(e(0,"div",206),v(1,Cn,5,4,"div",207)(2,Pn,5,4,"div",208),n()),l&2){let i=_().$implicit;c(),u("ngIf",i.fecha_pago&&i.estado==="PAGADA"),c(),u("ngIf",!i.fecha_pago&&i.fecha_vencimiento)}}function On(l,f){if(l&1){let i=E();e(0,"ion-button",213),x("click",function(a){M(i);let r=_().$implicit,d=_(3);return a.stopPropagation(),O(d.marcarComoPagada(r))}),m(1,"ion-icon",214),n()}}function xn(l,f){if(l&1){let i=E();e(0,"ion-button",215),x("click",function(a){M(i);let r=_().$implicit,d=_(3);return a.stopPropagation(),O(d.reimprimirFactura(r))}),m(1,"ion-icon",216),n()}}function hn(l,f){if(l&1){let i=E();e(0,"ion-button",217),x("click",function(a){M(i);let r=_().$implicit,d=_(3);return a.stopPropagation(),O(d.editarFactura(r))}),m(1,"ion-icon",218),n()}}function bn(l,f){if(l&1){let i=E();e(0,"ion-button",219),x("click",function(a){M(i);let r=_().$implicit,d=_(3);return a.stopPropagation(),O(d.anularFactura(r))}),m(1,"ion-icon",220),n()}}function vn(l,f){if(l&1){let i=E();e(0,"ion-button",221),x("click",function(a){M(i);let r=_().$implicit,d=_(3);return a.stopPropagation(),O(d.eliminarFactura(r))}),m(1,"ion-icon",222),n()}}function wn(l,f){if(l&1){let i=E();e(0,"div",175)(1,"div",176),x("click",function(){let a=M(i).$implicit,r=_(3);return O(r.verDetalleFactura(a))}),e(2,"div",177)(3,"div",178)(4,"div",179)(5,"h3"),o(6),n(),e(7,"p"),o(8),n()(),e(9,"ion-badge",180),o(10),n()()(),e(11,"div",181)(12,"div",182)(13,"div",183),o(14),I(15,"currency"),n(),e(16,"div",184),o(17,"Monto Total"),n()(),e(18,"div",185)(19,"div",186),m(20,"ion-icon",187),n(),e(21,"div",188)(22,"div",189),o(23),n(),e(24,"div",190),o(25),n()()(),e(26,"div",191)(27,"div",192),m(28,"ion-icon",193),e(29,"div")(30,"div",194),o(31),n(),e(32,"div",195),o(33,"Per\xEDodo"),n()()(),e(34,"div",192),m(35,"ion-icon",196),e(36,"div")(37,"div",194),o(38),I(39,"date"),n(),e(40,"div",195),o(41,"Creada"),n()()()(),v(42,Mn,3,2,"div",197),e(43,"div",198)(44,"ion-button",199),x("click",function(a){let r=M(i).$implicit,d=_(3);return a.stopPropagation(),O(d.verDetalleFactura(r))}),m(45,"ion-icon",200),n(),v(46,On,2,0,"ion-button",201)(47,xn,2,0,"ion-button",202)(48,hn,2,0,"ion-button",203)(49,bn,2,0,"ion-button",204)(50,vn,2,0,"ion-button",205),n()()()()}if(l&2){let i=f.$implicit,t=_(3);c(6),h(i.correlativo),c(2),h(i.concepto),c(),u("color",t.getEstadoFacturaColor(i.estado)),c(),S(" ",i.estado," "),c(4),S(" L. ",B(15,15,i.monto,"","","1.2-2")," "),c(9),h(i.propietario_nombre||"Sin propietario"),c(2),S("Local #",i.local_numero||"N/A",""),c(6),h(t.formatMesFromEndpoint(i.mes)),c(7),h(L(39,20,i.createdAt,"dd/MM")),c(4),u("ngIf",i.fecha_vencimiento||i.fecha_pago),c(4),u("ngIf",i.estado==="PENDIENTE"&&t.canEditFactura()),c(),u("ngIf",i.estado!=="ANULADA"),c(),u("ngIf",i.estado!=="ANULADA"&&t.canEditFactura()),c(),u("ngIf",i.estado!=="ANULADA"&&t.canAnularFactura()),c(),u("ngIf",i.estado!=="ANULADA"&&t.canDeleteFactura())}}function yn(l,f){if(l&1&&(e(0,"div",172)(1,"div",173),v(2,wn,51,23,"div",174),n()()),l&2){let i=_(2);c(2),u("ngForOf",i.filteredFacturas())("ngForTrackBy",i.trackByFacturaId)}}function En(l,f){if(l&1){let i=E();e(0,"ion-infinite-scroll",223),x("ionInfinite",function(a){M(i);let r=_(2);return O(r.cargarMasFacturas(a))}),m(1,"ion-infinite-scroll-content",224),n()}}function Sn(l,f){if(l&1){let i=E();e(0,"div",22)(1,"ion-card",23)(2,"ion-card-header",24)(3,"div",25)(4,"div",26)(5,"div",27),m(6,"ion-icon",28),n(),e(7,"div")(8,"ion-card-title",29),o(9),n(),e(10,"ion-badge",30),o(11),n()()(),v(12,cn,3,1,"div",31),n()(),e(13,"ion-card-content",32)(14,"div",33)(15,"div",34),m(16,"ion-icon",35),e(17,"div",36)(18,"p",37),o(19,"Propietario"),n(),e(20,"p",38),o(21),n()()(),e(22,"div",34),m(23,"ion-icon",39),e(24,"div",36)(25,"p",37),o(26,"Tel\xE9fono"),n(),e(27,"p",40),o(28),n()()(),e(29,"div",34),m(30,"ion-icon",41),e(31,"div",36)(32,"p",37),o(33,"Tipo"),n(),e(34,"p",40),o(35),n()()(),e(36,"div",42),m(37,"ion-icon",43),e(38,"div",36)(39,"p",37),o(40,"Direcci\xF3n"),n(),e(41,"p",40),o(42),n()()(),e(43,"div",44),m(44,"ion-icon",45),e(45,"div",36)(46,"p",46),o(47,"Tarifa Mensual"),n(),e(48,"p",47),o(49),I(50,"currency"),n()()(),e(51,"div",34),m(52,"ion-icon",48),e(53,"div",36)(54,"p",37),o(55,"Registro"),n(),e(56,"p",40),o(57),I(58,"date"),n()()()()()(),e(59,"ion-card",49)(60,"ion-card-header",50)(61,"div",51)(62,"div",52)(63,"div",53),m(64,"ion-icon",54),n(),e(65,"div")(66,"ion-card-title",55),o(67,"Estad\xEDsticas"),n(),e(68,"p",56),o(69,"Resumen de facturas y finanzas"),n()()(),e(70,"div",26)(71,"ion-button",57),x("click",function(){M(i);let a=_();return O(a.recargarEstadisticas())}),m(72,"ion-icon",58),n(),v(73,ln,1,0,"ion-spinner",59),n()()(),e(74,"ion-card-content",60),v(75,dn,6,0,"div",61)(76,gn,42,26,"div",62),n()(),e(77,"ion-card",63)(78,"ion-card-header",50)(79,"div",51)(80,"div",52)(81,"div",64),m(82,"ion-icon",65),n(),e(83,"div")(84,"ion-card-title",66),o(85,"Facturas"),n(),e(86,"p",56),o(87,"Gesti\xF3n de facturas del local"),n()()(),v(88,mn,3,0,"ion-button",67),n()(),e(89,"ion-card-content",68)(90,"div",69)(91,"div",70)(92,"ion-searchbar",71),x("ionInput",function(a){M(i);let r=_();return O(r.onSearchTermChange(a.detail.value))}),n()(),e(93,"div",72)(94,"ion-select",73),x("ionChange",function(a){M(i);let r=_();return O(r.onEstadoChange(a))}),e(95,"ion-select-option",74),o(96,"Todos los estados"),n(),e(97,"ion-select-option",75),o(98,"Pendiente"),n(),e(99,"ion-select-option",76),o(100,"Pagada"),n(),e(101,"ion-select-option",77),o(102,"Vencida"),n(),e(103,"ion-select-option",78),o(104,"Anulada"),n()(),e(105,"ion-select",79),x("ionChange",function(a){M(i);let r=_();return O(r.onMesChange(a))}),e(106,"ion-select-option",74),o(107,"Todos los meses"),n(),e(108,"ion-select-option",80),o(109,"Enero"),n(),e(110,"ion-select-option",81),o(111,"Febrero"),n(),e(112,"ion-select-option",82),o(113,"Marzo"),n(),e(114,"ion-select-option",83),o(115,"Abril"),n(),e(116,"ion-select-option",84),o(117,"Mayo"),n(),e(118,"ion-select-option",85),o(119,"Junio"),n(),e(120,"ion-select-option",86),o(121,"Julio"),n(),e(122,"ion-select-option",87),o(123,"Agosto"),n(),e(124,"ion-select-option",88),o(125,"Septiembre"),n(),e(126,"ion-select-option",89),o(127,"Octubre"),n(),e(128,"ion-select-option",90),o(129,"Noviembre"),n(),e(130,"ion-select-option",91),o(131,"Diciembre"),n()(),e(132,"ion-select",92),x("ionChange",function(a){M(i);let r=_();return O(r.onAnioChange(a))}),e(133,"ion-select-option",74),o(134,"Todos los a\xF1os"),n(),v(135,pn,2,2,"ion-select-option",93),n(),e(136,"ion-button",94),x("click",function(){M(i);let a=_();return O(a.limpiarFiltros())}),m(137,"ion-icon",95),o(138," Limpiar "),n()()(),e(139,"div",96),v(140,_n,4,0,"div",97)(141,fn,8,1,"div",98)(142,yn,3,2,"div",99),n(),v(143,En,2,0,"ion-infinite-scroll",100),n()()()}if(l&2){let i,t,a,r,d,g,p,s,P,C=_();c(9),S(" Local ",(i=C.local())==null?null:i.numero_local," "),c(),u("color",C.getEstadoColor(((t=C.local())==null?null:t.estado_local)||"")),c(),S(" ",(a=C.local())==null?null:a.estado_local," "),c(),u("ngIf",C.canEditLocal()),c(9),h(((r=C.local())==null?null:r.propietario)||"No asignado"),c(7),h(((d=C.local())==null?null:d.telefono)||"No registrado"),c(7),h(((g=C.local())==null?null:g.tipo_local)||"No especificado"),c(7),h(((p=C.local())==null?null:p.direccion_local)||"No registrada"),c(7),S("L. ",B(50,23,(s=C.local())==null?null:s.monto_mensual,"","","1.2-2"),""),c(8),h(L(58,28,(P=C.local())==null?null:P.createdAt,"dd/MM/yyyy")),c(16),u("ngIf",C.isLoadingStats()),c(2),u("ngIf",!C.estadisticas()&&!C.isLoadingStats()),c(),u("ngIf",C.estadisticas()),c(12),u("ngIf",C.canCreateFactura()),c(4),u("value",C.searchTerm()),c(2),u("value",C.filtroEstado()),c(11),u("value",C.filtroMes()),c(27),u("value",C.filtroAnio()),c(3),u("ngForOf",C.getAvailableYears()),c(5),u("ngIf",C.isLoadingFacturas()),c(),u("ngIf",!C.isLoadingFacturas()&&C.filteredFacturas().length===0),c(),u("ngIf",!C.isLoadingFacturas()&&C.filteredFacturas().length>0),c(),u("ngIf",C.hasMoreFacturas()&&!C.hasActiveFilters())}}function kn(l,f){if(l&1){let i=E();e(0,"ion-fab",225)(1,"ion-fab-button",226),x("click",function(){M(i);let a=_();return O(a.openInvoiceModal())}),m(2,"ion-icon",227),n()()}}function In(l,f){if(l&1&&(e(0,"div",248)(1,"div",249),m(2,"ion-icon",250),e(3,"span",251),o(4,"Resumen de Factura"),n()(),e(5,"div",252)(6,"div",253),o(7,"Mes:"),n(),e(8,"div",254),o(9),n(),e(10,"div",253),o(11,"Concepto:"),n(),e(12,"div",254),o(13),n(),e(14,"div",253),o(15,"Vence:"),n(),e(16,"div",254),o(17),n(),e(18,"div",255),o(19,"Observaciones:"),n(),e(20,"div",256),o(21,"Factura generada autom\xE1ticamente"),n()()()),l&2){let i=_(2);c(9),h(i.getMonthName(i.selectedMonth())),c(4),X("Cuota ",i.getMonthName(i.selectedMonth())," ",i.getCurrentYear(),""),c(4),h(i.getNextDueDate(i.selectedMonth()))}}function Dn(l,f){l&1&&(K(0),m(1,"ion-spinner",257),e(2,"span"),o(3,"Creando..."),n(),W())}function Fn(l,f){l&1&&(m(0,"ion-icon",258),o(1," Crear "))}function zn(l,f){if(l&1){let i=E();e(0,"div",228)(1,"div",229)(2,"div",230),m(3,"img",231),e(4,"div",232)(5,"div",233),o(6),n(),e(7,"div",234),o(8,"Monto Mensual"),n(),e(9,"div",235),o(10),n()(),e(11,"button",236),x("click",function(){M(i);let a=_();return O(a.closeInvoiceModal())})("mouseenter",function(){M(i);let a=_();return O(a.isCloseHovered=!0)})("mouseleave",function(){M(i);let a=_();return O(a.isCloseHovered=!1)}),e(12,"span",237),o(13,"\xD7"),n()()(),e(14,"div",238)(15,"div")(16,"label",239),m(17,"ion-icon",240),o(18," Mes a Facturar "),n(),e(19,"ion-select",241),et("ngModelChange",function(a){M(i);let r=_();return tt(r.selectedMonth,a)||(r.selectedMonth=a),O(a)}),e(20,"ion-select-option",80),o(21,"Enero"),n(),e(22,"ion-select-option",81),o(23,"Febrero"),n(),e(24,"ion-select-option",82),o(25,"Marzo"),n(),e(26,"ion-select-option",83),o(27,"Abril"),n(),e(28,"ion-select-option",84),o(29,"Mayo"),n(),e(30,"ion-select-option",85),o(31,"Junio"),n(),e(32,"ion-select-option",86),o(33,"Julio"),n(),e(34,"ion-select-option",87),o(35,"Agosto"),n(),e(36,"ion-select-option",88),o(37,"Septiembre"),n(),e(38,"ion-select-option",89),o(39,"Octubre"),n(),e(40,"ion-select-option",90),o(41,"Noviembre"),n(),e(42,"ion-select-option",91),o(43,"Diciembre"),n()()(),v(44,In,22,4,"div",242),e(45,"div",243)(46,"button",244),x("click",function(){M(i);let a=_();return O(a.closeInvoiceModal())}),m(47,"ion-icon",245),o(48," Cancelar "),n(),e(49,"button",246),x("click",function(){M(i);let a=_();return O(a.createInvoice())}),v(50,Dn,4,0,"ng-container",247)(51,Fn,2,0,"ng-template",null,0,ot),n()()()()()}if(l&2){let i,t=Q(52),a=_();c(6),h(a.mercadoNombre||"Mercado"),c(4),S("LPS. ",((i=a.local())==null?null:i.monto_mensual)||"---",""),c(2),u("ngStyle",at(8,nn,a.isCloseHovered?"#ef4444":"#fff")),c(7),Z("ngModel",a.selectedMonth),c(25),u("ngIf",a.selectedMonth()>0),c(5),u("disabled",!a.selectedMonth()||a.selectedMonth()===0||a.isCreatingInvoice()),c(),u("ngIf",a.isCreatingInvoice())("ngIfElse",t)}}function Ln(l,f){if(l&1&&(e(0,"div",287)(1,"span",288),o(2,"DNI:"),n(),e(3,"span",289),o(4),n()()),l&2){let i,t=_(3);c(4),h((i=t.facturaSeleccionada())==null?null:i.propietario_dni)}}function An(l,f){if(l&1&&(e(0,"div",309),o(1),n()),l&2){let i,t=_(3);c(),S(" A\xF1o: ",(i=t.facturaSeleccionada())==null?null:i.anio," ")}}function Tn(l,f){if(l&1&&(e(0,"div",297)(1,"span",195),m(2,"ion-icon",310),o(3," Fecha de Pago: "),n(),e(4,"span",311),o(5),I(6,"date"),n()()),l&2){let i,t=_(3);c(5),h(L(6,1,(i=t.facturaSeleccionada())==null?null:i.fecha_pago,"dd/MM/yyyy HH:mm"))}}function Nn(l,f){l&1&&(e(0,"div",312)(1,"span",305),o(2,"Estado:"),n(),e(3,"span",313),o(4,"Pagada completamente"),n()())}function Vn(l,f){l&1&&(e(0,"div",312)(1,"span",305),o(2,"Estado:"),n(),e(3,"span",314),o(4,"Pago pendiente"),n()())}function $n(l,f){l&1&&(e(0,"div",312)(1,"span",305),o(2,"Estado:"),n(),e(3,"span",315),o(4,"Factura vencida"),n()())}function jn(l,f){if(l&1&&(e(0,"div",316)(1,"div",282)(2,"div",317),m(3,"ion-icon",318),n(),e(4,"div",285)(5,"h4"),o(6,"Observaciones"),n(),e(7,"p"),o(8,"Notas adicionales"),n()()(),e(9,"div",286)(10,"div",319),o(11),n()()()),l&2){let i,t=_(3);c(11),h((i=t.facturaSeleccionada())==null?null:i.observaciones)}}function Yn(l,f){if(l&1&&(e(0,"div",278)(1,"div",279)(2,"ion-badge",180),o(3),n()(),e(4,"div",280)(5,"div",281)(6,"div",282)(7,"div",283),m(8,"ion-icon",284),n(),e(9,"div",285)(10,"h4"),o(11,"Informaci\xF3n del Local"),n(),e(12,"p"),o(13,"Datos del establecimiento"),n()()(),e(14,"div",286)(15,"div",287)(16,"span",288),o(17,"Local:"),n(),e(18,"span",289),o(19),n()(),e(20,"div",287)(21,"span",288),o(22,"Propietario:"),n(),e(23,"span",289),o(24),n()(),v(25,Ln,5,1,"div",290),n()(),e(26,"div",291)(27,"div",282)(28,"div",292),m(29,"ion-icon",193),n(),e(30,"div",285)(31,"h4"),o(32,"Per\xEDodo de Facturaci\xF3n"),n(),e(33,"p"),o(34,"Mes y a\xF1o que se est\xE1 cobrando"),n()()(),e(35,"div",286)(36,"div",293),o(37),n(),v(38,An,2,1,"div",294),n()(),e(39,"div",295)(40,"div",282)(41,"div",296),m(42,"ion-icon",196),n(),e(43,"div",285)(44,"h4"),o(45,"Fechas Importantes"),n(),e(46,"p"),o(47,"Registro y vencimientos"),n()()(),e(48,"div",286)(49,"div",297)(50,"span",195),m(51,"ion-icon",298),o(52," Fecha de Creaci\xF3n: "),n(),e(53,"span",194),o(54),I(55,"date"),n()(),e(56,"div",297)(57,"span",195),m(58,"ion-icon",299),o(59," Fecha de Vencimiento: "),n(),e(60,"span",194),o(61),I(62,"date"),n()(),v(63,Tn,7,4,"div",300),n()(),e(64,"div",301)(65,"div",282)(66,"div",302),m(67,"ion-icon",303),n(),e(68,"div",285)(69,"h4"),o(70,"Informaci\xF3n Financiera"),n(),e(71,"p"),o(72,"Detalles del monto"),n()()(),e(73,"div",286)(74,"div",304)(75,"span",305),o(76,"Monto Total:"),n(),e(77,"span",306),o(78),I(79,"number"),n()(),v(80,Nn,5,0,"div",307)(81,Vn,5,0,"div",307)(82,$n,5,0,"div",307),n()(),v(83,jn,12,1,"div",308),n()()),l&2){let i,t,a,r,d,g,p,s,P,C,k,V,$,j,F,w=_(2);c(2),u("color",w.getEstadoFacturaColor(((i=w.facturaSeleccionada())==null?null:i.estado)||"medium")),c(),S(" ",(t=w.facturaSeleccionada())==null?null:t.estado," "),c(16),S("#",((a=w.facturaSeleccionada())==null?null:a.local_numero)||"N/A",""),c(5),h(((r=w.facturaSeleccionada())==null?null:r.propietario_nombre)||"Sin propietario"),c(),u("ngIf",(d=w.facturaSeleccionada())==null?null:d.propietario_dni),c(12),S(" ",w.formatMesFromEndpoint(((g=w.facturaSeleccionada())==null?null:g.mes)||"")," "),c(),u("ngIf",(p=w.facturaSeleccionada())==null?null:p.anio),c(16),h(L(55,15,(s=w.facturaSeleccionada())==null?null:s.createdAt,"dd/MM/yyyy HH:mm")),c(7),h(L(62,18,(P=w.facturaSeleccionada())==null?null:P.fecha_vencimiento,"dd/MM/yyyy")),c(2),u("ngIf",(C=w.facturaSeleccionada())==null?null:C.fecha_pago),c(15),S("L. ",L(79,21,((k=w.facturaSeleccionada())==null?null:k.monto)||0,"1.2-2"),""),c(2),u("ngIf",((V=w.facturaSeleccionada())==null?null:V.estado)==="PAGADA"),c(),u("ngIf",(($=w.facturaSeleccionada())==null?null:$.estado)==="PENDIENTE"),c(),u("ngIf",((j=w.facturaSeleccionada())==null?null:j.estado)==="VENCIDA"),c(),u("ngIf",(F=w.facturaSeleccionada())==null?null:F.observaciones)}}function Bn(l,f){if(l&1){let i=E();e(0,"div",320)(1,"ion-button",321),x("click",function(){M(i);let a=_(2);return O(a.marcarComoPagada(a.facturaSeleccionada()))}),m(2,"ion-icon",322),o(3," Marcar como Pagada "),n()()}}function Rn(l,f){if(l&1){let i=E();e(0,"ion-button",323),x("click",function(){M(i);let a=_(2);return O(a.editarFactura(a.facturaSeleccionada()))}),m(1,"ion-icon",324),e(2,"span",275),o(3,"Editar"),n()()}}function Un(l,f){if(l&1){let i=E();e(0,"ion-button",325),x("click",function(){M(i);let a=_(2);return O(a.anularFactura(a.facturaSeleccionada()))}),m(1,"ion-icon",326),e(2,"span",275),o(3,"Anular"),n()()}}function Hn(l,f){if(l&1){let i=E();e(0,"div",259)(1,"div",260)(2,"button",261),x("click",function(){M(i);let a=_();return O(a.cerrarFacturaDetailModal())})("mouseenter",function(){M(i);let a=_();return O(a.isCloseHovered=!0)})("mouseleave",function(){M(i);let a=_();return O(a.isCloseHovered=!1)}),m(3,"ion-icon",262),n(),e(4,"div",178)(5,"div",263),m(6,"ion-icon",264),n(),e(7,"div",265)(8,"h2",179),o(9),n(),e(10,"p",266),o(11),n()(),e(12,"div",267)(13,"div",268),o(14),I(15,"number"),n(),e(16,"div",184),o(17,"Monto Total"),n()()()(),v(18,Yn,84,24,"div",269),e(19,"div",270),v(20,Bn,4,0,"div",271),e(21,"div",272)(22,"ion-button",273),x("click",function(){M(i);let a=_();return O(a.reimprimirFactura(a.facturaSeleccionada()))}),m(23,"ion-icon",274),e(24,"span",275),o(25,"Reimprimir"),n()(),v(26,Rn,4,0,"ion-button",276)(27,Un,4,0,"ion-button",277),n()()()}if(l&2){let i,t,a,r,d,g,p,s=_();c(2),Y("close-hovered",s.isCloseHovered),c(7),h(((i=s.facturaSeleccionada())==null?null:i.correlativo)||((i=s.facturaSeleccionada())==null?null:i.numero_factura)),c(2),h((t=s.facturaSeleccionada())==null?null:t.concepto),c(3),S("L. ",L(15,11,((a=s.facturaSeleccionada())==null?null:a.monto)||0,"1.2-2"),""),c(4),u("ngIf",s.facturaSeleccionada()),c(2),u("ngIf",((r=s.facturaSeleccionada())==null?null:r.estado)==="PENDIENTE"&&s.canEditFactura()),c(),Y("has-many-actions",((d=s.facturaSeleccionada())==null?null:d.estado)!=="ANULADA"&&s.canEditFactura()&&s.canAnularFactura()),c(5),u("ngIf",((g=s.facturaSeleccionada())==null?null:g.estado)!=="ANULADA"&&s.canEditFactura()),c(),u("ngIf",((p=s.facturaSeleccionada())==null?null:p.estado)!=="ANULADA"&&s.canAnularFactura())}}var da=(()=>{let f=class f{getNextDueDate(t){if(!t||t<1||t>12)return"";let a=new Date,r=a.getFullYear(),d=a.getDate(),g=t+1,p=r;g>12&&(g=1,p=r+1);let s=new Date(p,g,0).getDate();return d>s&&(d=s),`${p}-${String(g).padStart(2,"0")}-${String(d).padStart(2,"0")}`}constructor(){this.mercadoNombre="",this.isCloseHovered=!1,this.showFacturaDetailModal=y(!1),this.facturaSeleccionada=y(null),this.localesService=z(Ke),this.facturasService=z(We),this.authService=z(Bt),this.route=z(mt),this.router=z(pt),this.alertController=z(Tt),this.toastController=z(Vt),this.loadingController=z(Nt),this.printingService=z(Qe),this.bluetoothService=z(Xe),this.local=y(null),this.facturas=y([]),this.estadisticas=y(null),this.isLoading=y(!0),this.isLoadingFacturas=y(!1),this.isLoadingStats=y(!1),this.localId=y(""),this.searchTerm=y(""),this.currentPage=y(1),this.totalPages=y(1),this.isInfiniteDisabled=y(!1),this.error=y(null),this.mercadoId=y(""),this.estadisticasFacturas=T(()=>{let t=this.estadisticas();return t?{total:t.estadisticas_facturas.total_facturas,pagadas:t.estadisticas_facturas.facturas_pagadas,pendientes:t.estadisticas_facturas.facturas_pendientes,vencidas:t.estadisticas_facturas.facturas_vencidas,anuladas:t.estadisticas_facturas.facturas_anuladas}:{total:0,pagadas:0,pendientes:0,vencidas:0,anuladas:0}}),this.showInvoiceModal=y(!1),this.selectedMonth=y(0),this.isCreatingInvoice=y(!1),this.filtroEstado=y(""),this.filtroMes=y(""),this.filtroEstadisticaActivo=y(null),this.filtroAnio=y(""),this.canEditLocal=T(()=>this.canEdit()),this.hasMoreFacturas=T(()=>this.currentPage()<this.totalPages()),this.filteredFacturas=T(()=>{let t=this.facturas(),a=this.searchTerm().toLowerCase().trim(),r=t;if(a&&(r=r.filter(d=>{var g,p,s,P,C,k;return((g=d.numero_factura)==null?void 0:g.toLowerCase().includes(a))||((p=d.correlativo)==null?void 0:p.toLowerCase().includes(a))||((s=d.concepto)==null?void 0:s.toLowerCase().includes(a))||((P=d.mes)==null?void 0:P.toLowerCase().includes(a))||((C=d.anio)==null?void 0:C.toString().includes(a))||((k=d.propietario_nombre)==null?void 0:k.toLowerCase().includes(a))})),this.filtroEstado()&&(r=r.filter(d=>d.estado===this.filtroEstado())),this.filtroMes()){let d=parseInt(this.filtroMes());r=r.filter(g=>{var s,P,C;if((s=g.mes)!=null&&s.includes("-"))return parseInt(g.mes.split("-")[1])===d;let p=(C=(P=g.mes)==null?void 0:P.match(/MES_(\d+)/))==null?void 0:C[1];return p?parseInt(p)===d:!1})}if(this.filtroAnio()){let d=parseInt(this.filtroAnio());r=r.filter(g=>g.anio===d)}if(this.filtroEstadisticaActivo()){let d=this.filtroEstadisticaActivo(),g=new Date;switch(d){case"pagadas":r=r.filter(p=>p.estado==="PAGADA");break;case"pendientes":r=r.filter(p=>p.estado==="PENDIENTE");break;case"vencidas":r=r.filter(p=>p.estado==="PAGADA"?!1:new Date(p.fecha_vencimiento)<g);break;case"anuladas":r=r.filter(p=>p.estado==="ANULADA");break;case"total":break}}return r}),this.canEdit=T(()=>{let t=this.authService.user();return t&&[N.ADMIN,N.MARKET].includes(t.role)}),this.canDeleteFactura=T(()=>{let t=this.authService.user();return t&&t.role===N.ADMIN}),this.canCreateFactura=T(()=>{let t=this.authService.user();return t&&[N.ADMIN,N.MARKET,N.USER].includes(t.role)}),this.canEditFactura=T(()=>{let t=this.authService.user();return t&&t.role===N.ADMIN}),this.canAnularFactura=T(()=>{let t=this.authService.user();return t&&[N.ADMIN,N.MARKET].includes(t.role)}),Rt({eyeOutline:Me,createOutline:_e,refreshOutline:Ae,alertCircleOutline:Jt,storefrontOutline:je,personOutline:Se,callOutline:ee,businessOutline:Xt,locationOutline:be,cashOutline:H,calendarOutline:te,analyticsOutline:Kt,documentTextOutline:Ce,checkmarkCircleOutline:ie,timeOutline:Be,closeCircleOutline:se,banOutline:Wt,trendingUpOutline:He,walletOutline:Je,pieChartOutline:ke,barChartOutline:Qt,receiptOutline:Le,addOutline:qt,filterOutline:Oe,documentOutline:fe,person:Ee,checkmarkCircle:oe,alertCircle:Gt,printOutline:Fe,trashOutline:Ue,add:Ut,closeOutline:ge,addCircleOutline:Ht,close:de,chatbubbleOutline:ae,storefront:$e,checkmarkOutline:re,receipt:ze,calendar:Zt,time:Ye,chatbubble:ne,print:De,create:pe,trash:Re,chevronDownOutline:le,chevronDownCircleOutline:ce,closeSharp:me,cardOutline:U,mailOutline:ve,helpCircleOutline:xe,searchOutline:Ne,statsChartOutline:Ve,downloadOutline:Pe,pauseOutline:ye,playOutline:Ie,documentAttachOutline:ue,informationCircleOutline:he,cardIcon:U,cashIcon:H,trophy:qe,trophyOutline:Ge,medal:we,ribbon:Te})}ngOnInit(){console.log("LocalDetailPage: ngOnInit ejecutado");let t=this.route.snapshot.paramMap.get("id");console.log("Local ID obtenido:",t),t&&(this.localId.set(t),this.loadLocal(t),this.loadFacturas(!0),this.cargarEstadisticasFacturas())}loadLocal(t){return b(this,null,function*(){try{this.isLoading.set(!0);let a=yield this.localesService.getLocalById(t).toPromise();a?(this.local.set(a),this.cargarEstadisticasFacturas()):(this.local.set(null),this.showToast("Local no encontrado","danger"))}catch(a){console.error("Error loading local:",a),this.local.set(null),this.showToast("Error al cargar los datos del local","danger")}finally{this.isLoading.set(!1)}})}loadFacturas(t=!1){return b(this,null,function*(){t&&(this.isLoadingFacturas.set(!0),this.currentPage.set(1));try{let a=t?1:this.currentPage(),r=yield this.facturasService.getFacturasByLocal(this.localId(),a,10).toPromise();r&&(t?this.facturas.set(r.data):this.facturas.update(d=>[...d,...r.data]),this.totalPages.set(r.pagination.total_pages),this.isInfiniteDisabled.set(this.currentPage()>=r.pagination.total_pages))}catch(a){console.error("Error loading facturas:",a),this.showToast("Error al cargar las facturas","danger")}finally{this.isLoadingFacturas.set(!1)}})}onRefresh(t){return b(this,null,function*(){yield Promise.all([this.loadLocal(this.localId()),this.loadFacturas(!0)]),t.target.complete()})}onLoadMore(t){return b(this,null,function*(){this.currentPage()<this.totalPages()&&(this.currentPage.update(a=>a+1),yield this.loadFacturas()),t.target.complete()})}refrescarLocal(){this.loadLocal(this.localId()),this.loadFacturas(!0)}editarLocal(){this.router.navigate(["/mercados",this.mercadoId(),"locales",this.localId(),"edit"])}cargarLocal(){this.loadLocal(this.localId())}toggleEstadoLocal(){return b(this,null,function*(){let t=this.local();if(!t)return;let a=t.estado_local===D.ACTIVO?D.INACTIVO:D.ACTIVO;try{yield this.localesService.updateLocal(t.id,{estado_local:a}).toPromise(),this.showToast(`Local ${a.toLowerCase()}`,"success"),this.loadLocal(this.localId())}catch{this.showToast("Error al cambiar estado del local","danger")}})}openInvoiceModal(){this.selectedMonth.set(new Date().getMonth()+1),this.isCreatingInvoice.set(!1),this.showInvoiceModal.set(!0)}closeInvoiceModal(){try{this.showInvoiceModal.set(!1),this.selectedMonth.set(0),this.isCreatingInvoice.set(!1)}catch(t){console.warn("Error cerrando modal:",t)}}createInvoice(){return b(this,null,function*(){if(!(yield this.bluetoothService.isConnected())){yield(yield this.alertController.create({header:"Impresora no conectada",message:"Para crear una factura, primero debe conectar una impresora Bluetooth.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Configurar Impresora",handler:()=>{this.router.navigate(["/bluetooth-settings"])}}]})).present();return}if(!this.selectedMonth()||this.selectedMonth()===0){this.showToast("Debe seleccionar un mes","warning");return}this.isCreatingInvoice.set(!0);try{let a=this.local(),r=this.authService.user();if(!a||!r){this.showToast("Error: Informaci\xF3n insuficiente","danger"),this.isCreatingInvoice.set(!1);return}let d=new Date().getFullYear(),g=this.getMonthName(this.selectedMonth()),p=`${d}-${String(this.selectedMonth()).padStart(2,"0")}`,s=this.selectedMonth()+1,P=d;s>12&&(s=1,P=d+1);let C=new Date().getDate(),k=new Date(P,s,0).getDate();C>k&&(C=k);let V=new Date(P,s-1,C),$=typeof a.monto_mensual=="string"?parseFloat(a.monto_mensual):a.monto_mensual||0,j={concepto:`Cuota mensual ${g} ${d}`,mes:p,anio:d,monto:$,estado:R.PENDIENTE,fecha_vencimiento:V.toISOString(),observaciones:`Factura generada para ${g} ${d}`,localId:a.id,createdByUserId:r.id},F=yield this.facturasService.createFactura(j).toPromise(),w=null;F&&typeof F=="object"&&("data"in F&&F.data&&typeof F.data=="object"&&"id"in F.data?w=F.data:"id"in F&&(w=F)),w?(this.closeInvoiceModal(),this.loadFacturas(!0),this.cargarEstadisticasFacturas(),this.imprimirFactura(w)):(console.error("Respuesta inesperada al crear factura:",F),this.showToast("No se pudo crear la factura. Respuesta inesperada.","danger"))}catch(a){a.status===409?this.showToast("Ya existe una factura para este mes","danger"):this.showToast("Error al crear la factura","danger")}finally{this.isCreatingInvoice.set(!1)}})}imprimirFactura(t){return b(this,null,function*(){var r,d,g,p,s,P,C,k,V;let a=yield this.loadingController.create({message:"Preparando impresi\xF3n...",spinner:"crescent"});yield a.present();try{let $={numero_factura:t.correlativo||t.numero_factura||t.id,fecha:t.createdAt?new Date(t.createdAt):new Date,fecha_vencimiento:t.fecha_vencimiento?new Date(t.fecha_vencimiento):void 0,concepto:t.concepto,monto:t.monto,mes:t.mes,anio:t.anio,nombre_local:((r=t.local)==null?void 0:r.nombre_local)||`Local ${(d=t.local)==null?void 0:d.numero_local}`,numero_local:(g=t.local)==null?void 0:g.numero_local,nombre_mercado:t.mercado_nombre||((s=(p=t.local)==null?void 0:p.mercado)==null?void 0:s.nombre_mercado),direccion_mercado:(C=(P=t.local)==null?void 0:P.mercado)==null?void 0:C.direccion,propietario_nombre:t.propietario_nombre||((k=t.local)==null?void 0:k.propietario),propietario_dni:t.propietario_dni||((V=t.local)==null?void 0:V.dni_propietario)},j=this.printingService.formatDetailedInvoice($);a.message="Enviando a la impresora...",yield this.bluetoothService.print(j),yield a.dismiss(),this.showToast("Factura enviada a la impresora correctamente.","success")}catch{yield a.dismiss(),yield(yield this.alertController.create({header:"Error de Impresi\xF3n",message:"No se pudo imprimir la factura. Verifique la conexi\xF3n de la impresora Bluetooth.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Reintentar",handler:()=>{this.imprimirFactura(t)}},{text:"Configurar Impresora",handler:()=>{this.router.navigate(["/bluetooth-settings"])}}]})).present()}})}crearFactura(){return b(this,null,function*(){let t=new Date,a=[],r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,d=`${this.getMonthName(t.getMonth()+1)} ${t.getFullYear()} (Mes Actual)`;for(let s=3;s>=1;s--){let P=new Date(t.getFullYear(),t.getMonth()-s,1),C=`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}`,k=`${this.getMonthName(P.getMonth()+1)} ${P.getFullYear()}`;a.push({text:k,value:C,type:"past"})}for(let s=1;s<=11;s++){let P=new Date(t.getFullYear(),t.getMonth()+s,1),C=`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}`,k=`${this.getMonthName(P.getMonth()+1)} ${P.getFullYear()}`;a.push({text:k,value:C,type:"future"})}let g=[{name:"mes",type:"radio",label:d,value:r,checked:!0},...a.map(s=>({name:"mes",type:"radio",label:s.text+(s.type==="past"?" (Anterior)":""),value:s.value,checked:!1}))];yield(yield this.alertController.create({header:"Crear Nueva Factura",message:"Seleccione el mes para el cual desea generar la factura:",inputs:g,cssClass:"month-selector-alert",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Siguiente",handler:s=>b(this,null,function*(){return s?(yield this.mostrarFormularioObservaciones(s),!0):(this.showToast("Debe seleccionar un mes","warning"),!1)})}]})).present()})}mostrarFormularioObservaciones(t){return b(this,null,function*(){if(yield this.validarFacturaExistente(t)){let[r,d]=t.split("-"),g=this.getMonthName(parseInt(d));yield(yield this.alertController.create({header:"Factura Ya Existente",message:`
          <div class="text-center">
            <ion-icon name="information-circle-outline" color="primary" style="font-size: 48px; margin-bottom: 16px;"></ion-icon>
            <p>Ya existe una factura para <strong>${g} ${r}</strong>.</p>
            <p>\xBFDesea continuar de todos modos o elegir otro mes?</p>
          </div>
        `,cssClass:"error-alert",buttons:[{text:"Elegir Otro Mes",cssClass:"primary",handler:()=>{this.crearFactura()}},{text:"Ver Factura Existente",cssClass:"secondary",handler:()=>{this.buscarYMostrarFacturaExistente(g,r)}},{text:"Continuar Anyway",role:"destructive",cssClass:"danger",handler:()=>{this.continuarConFormularioObservaciones(t,!0)}}]})).present();return}this.continuarConFormularioObservaciones(t,!1)})}continuarConFormularioObservaciones(t,a=!1){return b(this,null,function*(){let[r,d]=t.split("-"),g=this.getMonthName(parseInt(d));yield(yield this.alertController.create({header:"Crear Factura",message:`Generar factura para <strong>${g} ${r}</strong>${a?" (Se intentar\xE1 crear aunque exista una similar)":""}`,inputs:[{name:"observaciones",type:"textarea",placeholder:"Observaciones adicionales (opcional)",attributes:{rows:3}}],buttons:[{text:"Atr\xE1s",handler:()=>{this.crearFactura()}},{text:"Crear Factura",handler:s=>(this.procesarCreacionFactura(t,s.observaciones||""),!0)}]})).present()})}procesarCreacionFactura(t,a=""){return b(this,null,function*(){var d;let r=yield this.loadingController.create({message:"Creando factura...",spinner:"crescent"});yield r.present();try{let g=this.local(),p=this.authService.user();if(!g||!p){yield r.dismiss(),this.showToast("Error: Informaci\xF3n insuficiente para crear la factura","danger");return}let[s,P]=t.split("-"),C=this.getMonthName(parseInt(P)),k=parseInt(P)===12?1:parseInt(P)+1,V=parseInt(P)===12?parseInt(s)+1:parseInt(s),$=new Date(V,k-1,15),j=typeof g.monto_mensual=="string"?parseFloat(g.monto_mensual):g.monto_mensual||0,F={concepto:`Cuota mensual ${C} ${s}`,mes:t,anio:parseInt(s),monto:j,estado:R.PENDIENTE,fecha_vencimiento:$.toISOString(),observaciones:a||"Factura generada autom\xE1ticamente",localId:g.id,createdByUserId:p.id},w=yield this.facturasService.createFactura(F).toPromise();if(yield r.dismiss(),w&&w.data){this.showToast("Factura creada exitosamente","success"),this.loadFacturas(!0),this.cargarEstadisticasFacturas();try{let A=w.data,Ze={id:A.numero_factura||A.id,date:A.createdAt?new Date(A.createdAt):new Date,customerName:A.propietario_nombre||g.propietario||"N/A",items:[{quantity:1,description:A.concepto,price:A.monto}],subtotal:A.monto,tax:0,total:A.monto},tn=this.printingService.formatInvoiceForPrinting(Ze),G=yield this.loadingController.create({message:"Imprimiendo factura...",spinner:"dots"});yield G.present(),yield this.bluetoothService.print(tn),yield G.dismiss(),this.showToast("Factura enviada a la impresora","success")}catch{this.showToast("Error al imprimir la factura","danger")}}}catch(g){if(yield r.dismiss(),g.status===409){let[p,s]=t.split("-"),P=this.getMonthName(parseInt(s));yield this.mostrarErrorFacturaDuplicada(P,p,g)}else if(g.status===400){let p=((d=g.error)==null?void 0:d.message)||"Datos inv\xE1lidos para crear la factura";this.showToast(p,"danger")}else g.status===403?this.showToast("No tiene permisos para crear facturas","danger"):g.status===500?this.showToast("Error interno del servidor. Intente nuevamente","danger"):g.status===0||!g.status?this.showToast("Error de conexi\xF3n. Verifique su red","danger"):this.showToast("Error al crear la factura. Intente nuevamente","danger")}})}mostrarErrorFacturaDuplicada(t,a,r){return b(this,null,function*(){var p;let d=((p=r.error)==null?void 0:p.message)||`Ya existe una factura para ${t} ${a}`;yield(yield this.alertController.create({header:"Factura Duplicada",message:`
        <div class="text-center">
          <ion-icon name="warning-outline" color="warning" style="font-size: 48px; margin-bottom: 16px;"></ion-icon>
          <p><strong>${d}</strong></p>
          <p>\xBFQu\xE9 desea hacer?</p>
        </div>
      `,cssClass:"error-alert",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Ver Factura Existente",cssClass:"primary",handler:()=>{this.buscarYMostrarFacturaExistente(t,a)}},{text:"Elegir Otro Mes",cssClass:"tertiary",handler:()=>{setTimeout(()=>this.crearFactura(),300)}}]})).present()})}buscarYMostrarFacturaExistente(t,a){return b(this,null,function*(){try{let d=this.facturas().find(g=>g.mes.includes(t)&&g.anio.toString()===a);d?this.verDetalleFactura(d):(yield this.loadFacturas(!0),this.showToast(`Busque la factura de ${t} ${a} en la lista`,"medium"))}catch(r){console.error("Error finding existing factura:",r),this.showToast("No se pudo encontrar la factura existente","warning")}})}validarFacturaExistente(t){return b(this,null,function*(){let[a,r]=t.split("-"),d=this.getMonthName(parseInt(r));return!!this.facturas().find(s=>s.mes.includes(d)&&s.anio.toString()===a)})}getMonthName(t){return["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t-1]||"Mes desconocido"}filtrarPorEstadistica(t){this.filtroEstadisticaActivo()===t?this.filtroEstadisticaActivo.set(null):(this.filtroEstadisticaActivo.set(t),this.filtroEstado.set(""),this.searchTerm.set(""))}cargarEstadisticasFacturas(){return b(this,null,function*(){var t;this.isLoadingStats.set(!0);try{let a=this.localId();if(console.log("Cargando estad\xEDsticas para local:",a),!a)return;let r=yield this.localesService.getLocalStats(a).toPromise();console.log("Estad\xEDsticas recibidas:",r),this.estadisticas.set(r||null),(t=r==null?void 0:r.mercado)!=null&&t.nombre&&(this.mercadoNombre=r.mercado.nombre)}catch(a){console.error("Error loading estadisticas:",a),this.estadisticas.set(null)}finally{this.isLoadingStats.set(!1)}})}recargarEstadisticas(){return b(this,null,function*(){console.log("Forzando recarga de estad\xEDsticas..."),yield this.cargarEstadisticasFacturas()})}verDetalleFactura(t){this.facturaSeleccionada.set(t),this.showFacturaDetailModal.set(!0)}cerrarFacturaDetailModal(){try{this.showFacturaDetailModal.set(!1),this.facturaSeleccionada.set(null)}catch(t){console.warn("Error cerrando modal de detalle:",t)}}marcarComoPagada(t){return b(this,null,function*(){yield(yield this.alertController.create({header:"Confirmar Pago",message:`\xBFConfirmar el pago de la factura ${t.correlativo}?`,inputs:[{name:"fechaPago",type:"date",value:new Date().toISOString().split("T")[0],placeholder:"Fecha de pago"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Confirmar Pago",handler:r=>b(this,null,function*(){let d=yield this.loadingController.create({message:"Procesando pago..."});yield d.present();try{yield this.facturasService.payFactura(t.id,r.fechaPago).toPromise(),yield d.dismiss(),this.showToast("Factura marcada como pagada exitosamente","success"),this.loadFacturas(!0),this.cargarEstadisticasFacturas(),this.cerrarFacturaDetailModal()}catch(g){yield d.dismiss(),console.error("Error al marcar como pagada:",g),this.showToast("Error al procesar el pago","danger")}})}]})).present()})}editarFactura(t){this.router.navigate(["/facturas/editar",t.id])}anularFactura(t){return b(this,null,function*(){yield(yield this.alertController.create({header:"Anular Factura",message:`\xBFEst\xE1 seguro de que desea anular la factura ${t.correlativo}?`,subHeader:"La factura cambiar\xE1 su estado a ANULADA pero se mantendr\xE1 en el sistema para auditor\xEDa",inputs:[{name:"razon_anulacion",type:"textarea",placeholder:"Motivo de la anulaci\xF3n (requerido)",attributes:{maxlength:255,rows:3,required:!0}}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Anular Factura",role:"destructive",handler:r=>b(this,null,function*(){var g;if(!r.razon_anulacion||r.razon_anulacion.trim()==="")return this.showToast("Debe ingresar el motivo de la anulaci\xF3n","warning"),!1;let d=yield this.loadingController.create({message:"Anulando factura..."});yield d.present();try{let p={razon_anulacion:r.razon_anulacion.trim()},s=yield this.facturasService.anularFacturaPatch(t.id,p).toPromise();if(yield d.dismiss(),s!=null&&s.data){let P=s.data;this.showToast(`Factura ${P.correlativo} anulada correctamente`,"success"),this.loadFacturas(!0),this.cargarEstadisticasFacturas(),this.cerrarFacturaDetailModal()}else this.showToast("Factura anulada, pero no se recibi\xF3 confirmaci\xF3n completa","warning");return!0}catch(p){yield d.dismiss(),console.error("Error al anular factura:",p);let s="Error al anular la factura";if(p&&typeof p=="object"&&"error"in p){let P=p;(g=P.error)!=null&&g.message?s=P.error.message:P.message&&(s=P.message)}return this.showToast(s,"danger"),!1}})}]})).present()})}eliminarFactura(t){return b(this,null,function*(){yield(yield this.alertController.create({header:"\u26A0\uFE0F Eliminar Factura Permanentemente",message:`\xBFEst\xE1 seguro de que desea ELIMINAR DEFINITIVAMENTE la factura ${t.correlativo}?`,subHeader:"\u{1F6A8} ADVERTENCIA: Esta acci\xF3n NO se puede deshacer. La factura ser\xE1 eliminada permanentemente del sistema.",inputs:[{name:"confirmacion",type:"text",placeholder:'Escriba "ELIMINAR" para confirmar',attributes:{maxlength:20}},{name:"observaciones",type:"textarea",placeholder:"Motivo de la eliminaci\xF3n (obligatorio)",attributes:{maxlength:500,rows:3}}],buttons:[{text:"Cancelar",role:"cancel"},{text:"\u{1F5D1}\uFE0F Eliminar Permanentemente",role:"destructive",handler:r=>b(this,null,function*(){var g,p;if(((g=r.confirmacion)==null?void 0:g.toUpperCase())!=="ELIMINAR")return this.showToast('Debe escribir "ELIMINAR" para confirmar',"warning"),!1;if(!((p=r.observaciones)!=null&&p.trim()))return this.showToast("Debe especificar el motivo de la eliminaci\xF3n","warning"),!1;let d=yield this.loadingController.create({message:"Eliminando factura permanentemente..."});yield d.present();try{return yield this.facturasService.deleteFactura(t.id).toPromise(),yield d.dismiss(),this.showToast("Factura eliminada permanentemente","success"),this.loadFacturas(!0),this.cargarEstadisticasFacturas(),this.cerrarFacturaDetailModal(),!0}catch(s){return yield d.dismiss(),console.error("Error al eliminar factura:",s),this.showToast("Error al eliminar la factura","danger"),!1}})}]})).present()})}aplicarFiltros(){}limpiarFiltros(){this.filtroEstado.set(""),this.filtroMes.set(""),this.filtroAnio.set(""),this.searchTerm.set("")}getAvailableYears(){let t=new Date().getFullYear(),a=2025,r=Math.max(t+1,a+1),d=[];for(let g=r;g>=a;g--)d.push(g);return d}hasActiveFilters(){return!!(this.filtroEstado()||this.filtroMes()||this.filtroAnio()||this.searchTerm().trim())}onEstadoChange(t){this.filtroEstado.set(t.detail.value||"")}onMesChange(t){this.filtroMes.set(t.detail.value||"")}onAnioChange(t){this.filtroAnio.set(t.detail.value||"")}onSearchTermChange(t){this.searchTerm.set(t)}cargarMasFacturas(t){this.onLoadMore(t)}getEstadoColor(t){switch(t==null?void 0:t.toUpperCase()){case"ACTIVO":return"success";case"INACTIVO":return"danger";case"SUSPENDIDO":return"warning";default:return"medium"}}getEstadoFacturaColor(t){switch(t==null?void 0:t.toUpperCase()){case"PAGADA":return"success";case"PENDIENTE":return"warning";case"VENCIDA":return"danger";case"ANULADA":return"medium";default:return"medium"}}getLocalStatusColor(t){switch(t){case D.OCUPADO:return"success";case D.LIBRE:return"warning";case D.ACTIVO:return"primary";case D.INACTIVO:return"danger";case D.SUSPENDIDO:return"danger";case D.PENDIENTE:return"medium";default:return"medium"}}getFacturaStatusColor(t){switch(t){case R.PAGADA:return"success";case R.PENDIENTE:return"warning";case R.VENCIDA:return"danger";case R.ANULADA:return"medium";default:return"medium"}}getLocalStatusText(t){switch(t){case D.OCUPADO:return"Ocupado";case D.LIBRE:return"Disponible";case D.ACTIVO:return"Activo";case D.INACTIVO:return"Inactivo";case D.SUSPENDIDO:return"Suspendido";case D.PENDIENTE:return"Pendiente";default:return"Sin estado"}}getTipoLocalText(t){switch(t){case q.CARNICERIA:return"Carnicer\xEDa";case q.OTROS:return"Otros";default:return"No especificado"}}formatDate(t){return new Date(t).toLocaleDateString("es-HN",{day:"2-digit",month:"2-digit",year:"numeric"})}formatCurrency(t){return`L ${t.toLocaleString("es-HN",{minimumFractionDigits:2})}`}trackByFacturaId(t,a){return a.id}showToast(t,a){return b(this,null,function*(){yield(yield this.toastController.create({message:t,duration:3e3,color:a,position:"top"})).present()})}verDetalleCompleto(){return b(this,null,function*(){yield(yield this.alertController.create({header:"Informaci\xF3n Completa del Local",message:this.buildLocalInfoMessage(),buttons:["Cerrar"],cssClass:"local-info-alert"})).present()})}buildLocalInfoMessage(){let t=this.local();return t?`
      <div class="local-info-content">
        <p><strong>ID:</strong> ${t.id}</p>
        <p><strong>Nombre:</strong> ${t.nombre_local||"No especificado"}</p>
        <p><strong>N\xFAmero:</strong> ${t.numero_local}</p>
        <p><strong>Permiso de Operaci\xF3n:</strong> ${t.permiso_operacion||"No especificado"}</p>
        <p><strong>Tipo:</strong> ${t.tipo_local}</p>
        <p><strong>Direcci\xF3n:</strong> ${t.direccion_local||"No especificada"}</p>
        <p><strong>Estado:</strong> ${t.estado_local}</p>
        <p><strong>Monto Mensual:</strong> L ${t.monto_mensual}</p>
        <p><strong>Propietario:</strong> ${t.propietario||"No especificado"}</p>
        <p><strong>DNI Propietario:</strong> ${t.dni_propietario||"No especificado"}</p>
        <p><strong>Tel\xE9fono:</strong> ${t.telefono||"No especificado"}</p>
        <p><strong>Email:</strong> ${t.email||"No especificado"}</p>
        <p><strong>Coordenadas:</strong> ${t.latitud}, ${t.longitud}</p>
        <p><strong>Fecha de Creaci\xF3n:</strong> ${this.formatDate(t.createdAt)}</p>
        <p><strong>\xDAltima Actualizaci\xF3n:</strong> ${this.formatDate(t.updatedAt)}</p>
      </div>
    `:"No hay informaci\xF3n disponible"}getCurrentFormattedDate(){let t=new Date,a=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),d=t.getFullYear();return`${a}/${r}/${d}`}getCurrentYear(){return new Date().getFullYear()}getCurrentFormattedMonth(){return String(new Date().getMonth()+1).padStart(2,"0")}getFormattedSelectedMonth(){return String(this.selectedMonth()).padStart(2,"0")}formatMesFromEndpoint(t){if(!t)return"Mes no especificado";if(t.includes("-")){let[r,d]=t.split("-"),g=parseInt(d);return`${this.getMonthName(g)} ${r}`}let a=parseInt(t);return a>=1&&a<=12?`${this.getMonthName(a)} ${this.getCurrentYear()}`:t}extractMonthNumber(t){if(!t)return 0;if(t.includes("-")){let[,a]=t.split("-");return parseInt(a)||0}return parseInt(t)||0}extractYearFromMes(t){if(!t)return this.getCurrentYear();if(t.includes("-")){let[a]=t.split("-");return parseInt(a)||this.getCurrentYear()}return this.getCurrentYear()}reimprimirFactura(t){return b(this,null,function*(){if(!(yield this.bluetoothService.isConnected())){yield(yield this.alertController.create({header:"Impresora no conectada",message:"Para reimprimir la factura, primero debe conectar una impresora Bluetooth.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Configurar Impresora",handler:()=>{this.router.navigate(["/bluetooth-settings"])}}]})).present();return}yield(yield this.alertController.create({header:"Reimprimir Factura",message:`\xBFDesea reimprimir la factura ${t.correlativo||t.numero_factura}?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Reimprimir",handler:()=>b(this,null,function*(){yield this.imprimirFactura(t)})}]})).present()})}getFacturaActions(t){let a=[];return a.push({icon:"eye-outline",label:"Ver",color:"primary",action:()=>this.verDetalleFactura(t)}),t.estado==="PENDIENTE"&&this.canEditFactura()&&a.push({icon:"checkmark-circle-outline",label:"Pagar",color:"success",action:()=>this.marcarComoPagada(t)}),t.estado!=="ANULADA"&&a.push({icon:"print-outline",label:"Imprimir",color:"secondary",action:()=>this.reimprimirFactura(t)}),t.estado!=="ANULADA"&&this.canEditFactura()&&a.push({icon:"create-outline",label:"Editar",color:"warning",action:()=>this.editarFactura(t)}),t.estado!=="ANULADA"&&this.canAnularFactura()&&a.push({icon:"trash-outline",label:"Anular",color:"danger",action:()=>this.anularFactura(t)}),a}ngOnDestroy(){try{this.showInvoiceModal()&&this.closeInvoiceModal(),this.showFacturaDetailModal()&&this.cerrarFacturaDetailModal()}catch(t){console.warn("Error en ngOnDestroy:",t)}}};f.\u0275fac=function(a){return new(a||f)},f.\u0275cmp=J({type:f,selectors:[["app-local-detail"]],decls:22,vars:12,consts:[["crearText",""],["color","primary"],["slot","start"],[3,"defaultHref"],["slot","end"],[3,"click"],["name","eye-outline"],[3,"click",4,"ngIf"],["name","refresh-outline"],[1,"local-detail-content"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","content-container",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"invoice-modal",3,"didDismiss","isOpen"],[1,"factura-detail-modal-responsive",3,"didDismiss","isOpen","breakpoints","initialBreakpoint"],["name","create-outline"],[1,"loading-container"],["name","circular","color","primary"],[1,"error-container"],["name","alert-circle-outline","color","danger"],["fill","outline",3,"click"],[1,"content-container"],[1,"local-info-card","m-2","shadow-md","border-0","bg-white"],[1,"pb-2"],[1,"iten-local","flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],[1,"w-8","h-8","bg-gradient-to-br","from-blue-500","to-blue-600","rounded-lg","flex","items-center","justify-center"],["name","storefront-outline",1,"text-white","text-sm"],[1,"text-lg","font-bold","text-gray-800","leading-tight"],[1,"text-xs","px-2","py-1","mt-1",3,"color"],["class","local-actions",4,"ngIf"],[1,"pt-0","px-4","pb-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3","text-sm"],[1,"flex","items-center","gap-2","p-2","bg-gray-50","rounded-lg"],["name","person-outline",1,"text-emerald-500","text-base","flex-shrink-0"],[1,"min-w-0","flex-1"],[1,"text-xs","text-gray-500","font-medium","mb-0"],[1,"text-gray-800","font-medium","text-xs","truncate","leading-tight"],["name","call-outline",1,"text-blue-500","text-base","flex-shrink-0"],[1,"text-gray-800","font-medium","text-xs","leading-tight"],["name","business-outline",1,"text-purple-500","text-base","flex-shrink-0"],[1,"flex","items-center","gap-2","p-2","bg-gray-50","rounded-lg","col-span-2","md:col-span-1"],["name","location-outline",1,"text-orange-500","text-base","flex-shrink-0"],[1,"flex","items-center","gap-2","p-2","bg-green-50","rounded-lg","border","border-green-100"],["name","cash-outline",1,"text-green-600","text-base","flex-shrink-0"],[1,"text-xs","text-green-600","font-medium","mb-0"],[1,"text-green-700","font-bold","text-sm","leading-tight"],["name","calendar-outline",1,"text-indigo-500","text-base","flex-shrink-0"],[1,"stats-card","mt-4","mx-2","shadow-lg","border-0","bg-white"],[1,"pb-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","bg-gradient-to-br","from-indigo-500","to-purple-600","rounded-xl","flex","items-center","justify-center","shadow-md"],["name","analytics-outline",1,"text-white","text-lg"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-sm","text-gray-500","mt-1"],["fill","clear","size","small",1,"text-xs",3,"click"],["name","refresh-outline","slot","icon-only"],["name","lines-small","color","primary",4,"ngIf"],[1,"pt-0","px-4","pb-6"],["class","text-center py-8",4,"ngIf"],[4,"ngIf"],[1,"facturas-card","mt-4","mx-2","shadow-lg","border-0","bg-white"],[1,"w-10","h-10","bg-gradient-to-br","from-cyan-500","to-blue-600","rounded-xl","flex","items-center","justify-center","shadow-md"],["name","receipt-outline",1,"text-white","text-lg"],[1,"text-xl","font-bold","text-gray-800","leading-tight"],["fill","solid","size","default","class","px-4 py-2 font-semibold","color","primary",3,"click",4,"ngIf"],[1,"px-4","pb-6"],[1,"filters-section","mb-6"],[1,"mb-4"],["placeholder","Buscar facturas...","debounce","300","show-clear-button","focus",1,"custom-searchbar",3,"ionInput","value"],[1,"filters-row","grid","grid-cols-2","md:grid-cols-4","gap-3","mb-4"],["placeholder","Estado","interface","popover",1,"filter-select","bg-gray-50","rounded-lg",3,"ionChange","value"],["value",""],["value","PENDIENTE"],["value","PAGADA"],["value","VENCIDA"],["value","ANULADA"],["placeholder","Mes","interface","popover",1,"filter-select","bg-gray-50","rounded-lg",3,"ionChange","value"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["placeholder","A\xF1o","interface","popover",1,"filter-select","bg-gray-50","rounded-lg",3,"ionChange","value"],[3,"value",4,"ngFor","ngForOf"],["fill","outline",1,"h-full","rounded-lg","border-gray-300",3,"click"],["name","filter-outline","slot","start"],[1,"facturas-list"],["class","facturas-loading flex flex-col items-center justify-center py-12",4,"ngIf"],["class","no-facturas flex flex-col items-center justify-center py-16 text-center",4,"ngIf"],["class","facturas-grid-container",4,"ngIf"],["threshold","100px",3,"ionInfinite",4,"ngIf"],[1,"local-actions"],["fill","clear","size","small",1,"w-8","h-8",3,"click"],[1,"text-gray-600","text-sm",3,"name"],["name","lines-small","color","primary"],[1,"text-center","py-8"],["name","analytics-outline",1,"text-gray-400","text-4xl","mb-2"],[1,"text-gray-500","text-sm"],["fill","outline","size","small",1,"mt-2",3,"click"],[1,"mb-6"],[1,"text-lg","font-semibold","text-gray-700","mb-4","flex","items-center","gap-2"],["name","document-text-outline",1,"text-blue-500"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-5","gap-4"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","p-4","rounded-xl","border","border-blue-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],[1,"flex","items-center","justify-between","mb-2"],["name","document-text-outline",1,"text-blue-600","text-xl"],[1,"text-2xl","font-bold","text-blue-700"],[1,"text-sm","font-medium","text-blue-600"],[1,"bg-gradient-to-br","from-green-50","to-green-100","p-4","rounded-xl","border","border-green-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],["name","checkmark-circle-outline",1,"text-green-600","text-xl"],[1,"text-2xl","font-bold","text-green-700"],[1,"text-sm","font-medium","text-green-600"],[1,"bg-gradient-to-br","from-orange-50","to-orange-100","p-4","rounded-xl","border","border-orange-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],["name","time-outline",1,"text-orange-600","text-xl"],[1,"text-2xl","font-bold","text-orange-700"],[1,"text-sm","font-medium","text-orange-600"],[1,"bg-gradient-to-br","from-red-50","to-red-100","p-4","rounded-xl","border","border-red-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],["name","close-circle-outline",1,"text-red-600","text-xl"],[1,"text-2xl","font-bold","text-red-700"],[1,"text-sm","font-medium","text-red-600"],[1,"bg-gradient-to-br","from-gray-50","to-gray-100","p-4","rounded-xl","border","border-gray-200","cursor-pointer","transition-all","duration-200","hover:shadow-lg",3,"click"],["name","ban-outline",1,"text-gray-600","text-xl"],[1,"text-2xl","font-bold","text-gray-700"],[1,"text-sm","font-medium","text-gray-600"],["name","trending-up-outline",1,"text-green-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"bg-gradient-to-br","from-emerald-50","to-emerald-100","p-4","rounded-xl","border","border-emerald-200"],["name","cash-outline",1,"text-emerald-600","text-xl"],[1,"text-xl","font-bold","text-emerald-700"],[1,"text-sm","font-medium","text-emerald-600"],[1,"bg-gradient-to-br","from-amber-50","to-amber-100","p-4","rounded-xl","border","border-amber-200"],["name","wallet-outline",1,"text-amber-600","text-xl"],[1,"text-xl","font-bold","text-amber-700"],[1,"text-sm","font-medium","text-amber-600"],[1,"bg-gradient-to-br","from-indigo-50","to-indigo-100","p-4","rounded-xl","border","border-indigo-200"],["name","pie-chart-outline",1,"text-indigo-600","text-xl"],[1,"text-xl","font-bold","text-indigo-700"],[1,"text-sm","font-medium","text-indigo-600"],[1,"bg-gradient-to-br","from-cyan-50","to-cyan-100","p-4","rounded-xl","border","border-cyan-200"],["name","calendar-outline",1,"text-cyan-600","text-xl"],[1,"text-xl","font-bold","text-cyan-700"],[1,"text-sm","font-medium","text-cyan-600"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","p-4","rounded-xl","border","border-purple-200"],["name","bar-chart-outline",1,"text-purple-600","text-xl"],[1,"text-xl","font-bold","text-purple-700"],[1,"text-sm","font-medium","text-purple-600"],[1,"bg-gradient-to-br","from-slate-50","to-slate-100","p-4","rounded-xl","border","border-slate-200"],["name","receipt-outline",1,"text-slate-600","text-xl"],[1,"text-xl","font-bold","text-slate-700"],[1,"text-sm","font-medium","text-slate-600"],["fill","solid","size","default","color","primary",1,"px-4","py-2","font-semibold",3,"click"],["name","add-outline","slot","start"],[3,"value"],[1,"facturas-loading","flex","flex-col","items-center","justify-center","py-12"],["name","lines-small","color","primary",1,"mb-3"],[1,"no-facturas","flex","flex-col","items-center","justify-center","py-16","text-center"],[1,"w-16","h-16","bg-gray-100","rounded-full","flex","items-center","justify-center","mb-4"],["name","document-outline",1,"text-gray-400","text-2xl"],[1,"text-lg","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","mb-6","max-w-sm"],["fill","solid","color","primary","class","px-6",3,"click",4,"ngIf"],["fill","solid","color","primary",1,"px-6",3,"click"],[1,"facturas-grid-container"],[1,"facturas-grid"],["class","factura-item-modern",4,"ngFor","ngForOf","ngForTrackBy"],[1,"factura-item-modern"],[1,"modern-invoice-card",3,"click"],[1,"invoice-header"],[1,"header-content"],[1,"invoice-number"],[1,"status-badge",3,"color"],[1,"invoice-body"],[1,"amount-section"],[1,"amount"],[1,"amount-label"],[1,"owner-info"],[1,"owner-icon"],["name","person"],[1,"owner-details"],[1,"owner-name"],[1,"local-number"],[1,"date-info"],[1,"date-item"],["name","calendar-outline"],[1,"date-value"],[1,"date-label"],["name","time-outline"],["class","payment-status",4,"ngIf"],[1,"action-buttons-compact"],["fill","clear","size","small","color","primary","title","Ver detalles de la factura",1,"action-btn",3,"click"],["name","eye-outline","slot","icon-only"],["fill","clear","size","small","color","success","class","action-btn","title","Marcar como pagada",3,"click",4,"ngIf"],["fill","clear","size","small","color","secondary","class","action-btn","title","Reimprimir factura",3,"click",4,"ngIf"],["fill","clear","size","small","color","warning","class","action-btn","title","Editar factura",3,"click",4,"ngIf"],["fill","clear","size","small","color","danger","class","action-btn","title","Anular factura",3,"click",4,"ngIf"],["fill","clear","size","small","color","danger","class","action-btn delete-btn","title","Eliminar factura permanentemente",3,"click",4,"ngIf"],[1,"payment-status"],["class","paid-status",4,"ngIf"],["class","due-status",4,"ngIf"],[1,"paid-status"],["name","checkmark-circle"],[1,"due-status"],["name","alert-circle"],["fill","clear","size","small","color","success","title","Marcar como pagada",1,"action-btn",3,"click"],["name","checkmark-circle-outline","slot","icon-only"],["fill","clear","size","small","color","secondary","title","Reimprimir factura",1,"action-btn",3,"click"],["name","print-outline","slot","icon-only"],["fill","clear","size","small","color","warning","title","Editar factura",1,"action-btn",3,"click"],["name","create-outline","slot","icon-only"],["fill","clear","size","small","color","danger","title","Anular factura",1,"action-btn",3,"click"],["name","close-circle-outline","slot","icon-only"],["fill","clear","size","small","color","danger","title","Eliminar factura permanentemente",1,"action-btn","delete-btn",3,"click"],["name","trash-outline","slot","icon-only"],["threshold","100px",3,"ionInfinite"],["loading-spinner","bubbles","loading-text","Cargando m\xE1s facturas..."],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary",3,"click"],["name","add"],[1,"fixed","inset-0","bg-black","bg-opacity-40","flex","items-center","justify-center","p-3","z-50"],[1,"bg-white","rounded-2xl","shadow-lg","w-full","max-w-md","mx-auto","overflow-hidden"],[1,"relative","bg-gradient-to-r","from-cyan-500","to-blue-400","p-6","pb-4","flex","flex-col","items-center"],["src","assets/logos/logo4.png","alt","Logo",1,"w-16","h-16","rounded-full","bg-white","shadow","mb-2",2,"object-fit","contain"],[1,"text-center","text-white"],[1,"text-lg","font-bold","mb-1"],[1,"text-xs","font-semibold","tracking-wide"],[1,"text-2xl","font-bold","tracking-tight"],[1,"absolute","top-3","right-3","w-8","h-8","flex","items-center","justify-center","transition-all","duration-200","z-10",2,"background","transparent","border","none","box-shadow","none",3,"click","mouseenter","mouseleave"],[1,"text-2xl","font-bold","leading-none","transition-colors","duration-200",3,"ngStyle"],[1,"p-5","pt-3","space-y-4"],[1,"block","text-cyan-700","font-semibold","mb-1","text-sm","flex","items-center"],["name","calendar-outline",1,"mr-1","text-cyan-500"],["placeholder","Seleccionar mes","interface","popover",1,"w-full","rounded-lg","border","border-cyan-200","bg-gray-50",3,"ngModelChange","ngModel"],["class","bg-gray-50 rounded-xl p-4 border border-gray-200",4,"ngIf"],[1,"flex","gap-3","pt-2"],["type","button",1,"flex-1","py-3","bg-gray-500","hover:bg-gray-600","text-white","font-bold","text-base","flex","items-center","justify-center","gap-2","shadow",2,"border-radius","1rem","padding","5px",3,"click"],["name","close-outline",1,"text-lg"],["type","button",1,"flex-1","text-white","font-bold","text-base","flex","items-center","justify-center","gap-2","shadow","disabled:opacity-60","border-0",2,"background","#5ccedf","border-radius","1rem","padding","5px",3,"click","disabled"],[4,"ngIf","ngIfElse"],[1,"bg-gray-50","rounded-xl","p-4","border","border-gray-200"],[1,"flex","items-center","mb-2"],["name","document-outline",1,"mr-2","text-cyan-600","text-lg"],[1,"text-lg","font-bold","text-cyan-800"],[1,"grid","grid-cols-2","gap-x-2","gap-y-1","text-sm"],[1,"font-medium","text-gray-600"],[1,"text-gray-900"],[1,"font-medium","text-gray-600","col-span-2"],[1,"col-span-2","text-gray-900"],["name","circular",1,"w-5","h-5","text-white"],["name","add-circle-outline",1,"text-lg"],[1,"modal-container"],[1,"modal-header"],["aria-label","Cerrar modal",1,"close-button",3,"click","mouseenter","mouseleave"],["name","close",1,"close-icon"],[1,"invoice-icon"],["name","receipt-outline",1,"icon"],[1,"invoice-info"],[1,"invoice-concept"],[1,"amount-display"],[1,"amount-value"],["class","modal-content",4,"ngIf"],[1,"actions-section"],["class","primary-action",4,"ngIf"],[1,"secondary-actions"],["fill","outline","color","primary","size","default","title","Reimprimir factura",1,"action-button",3,"click"],["name","print-outline","slot","start"],[1,"button-text"],["fill","outline","color","warning","size","default","class","action-button","title","Editar informaci\xF3n de la factura",3,"click",4,"ngIf"],["fill","outline","color","danger","size","default","class","action-button danger-button","title","Anular factura (cambiar estado a ANULADA)",3,"click",4,"ngIf"],[1,"modal-content"],[1,"status-section"],[1,"details-grid"],[1,"detail-card","local-info-card"],[1,"card-header"],[1,"card-icon","local-icon"],["name","storefront-outline"],[1,"card-title"],[1,"card-content"],[1,"info-row"],[1,"info-label"],[1,"info-value"],["class","info-row",4,"ngIf"],[1,"detail-card","period-card"],[1,"card-icon","period-icon"],[1,"period-display"],["class","period-year",4,"ngIf"],[1,"detail-card","dates-card"],[1,"card-icon","dates-icon"],[1,"date-row"],["name","document-outline"],["name","alert-circle-outline"],["class","date-row",4,"ngIf"],[1,"detail-card","financial-card"],[1,"card-icon","financial-icon"],["name","cash-outline"],[1,"financial-row","main-amount"],[1,"financial-label"],[1,"financial-value","primary"],["class","financial-row",4,"ngIf"],["class","detail-card observations-card",4,"ngIf"],[1,"period-year"],["name","checkmark-circle-outline"],[1,"date-value","paid"],[1,"financial-row"],[1,"financial-value","success"],[1,"financial-value","warning"],[1,"financial-value","danger"],[1,"detail-card","observations-card"],[1,"card-icon","observations-icon"],["name","chatbubble-outline"],[1,"observations-text"],[1,"primary-action"],["expand","block","color","success","size","large","title","Cambiar estado de la factura a PAGADA",1,"primary-button",3,"click"],["name","checkmark-circle-outline","slot","start"],["fill","outline","color","warning","size","default","title","Editar informaci\xF3n de la factura",1,"action-button",3,"click"],["name","create-outline","slot","start"],["fill","outline","color","danger","size","default","title","Anular factura (cambiar estado a ANULADA)",1,"action-button","danger-button",3,"click"],["name","trash-outline","slot","start"]],template:function(a,r){if(a&1&&(e(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",2),m(3,"ion-back-button",3),n(),e(4,"ion-title"),o(5),n(),e(6,"ion-buttons",4)(7,"ion-button",5),x("click",function(){return r.verDetalleCompleto()}),m(8,"ion-icon",6),o(9," Ver "),n(),v(10,an,2,0,"ion-button",7),e(11,"ion-button",5),x("click",function(){return r.refrescarLocal()}),m(12,"ion-icon",8),n()()()(),e(13,"ion-content",9),v(14,on,4,0,"div",10)(15,rn,8,1,"div",11)(16,Sn,144,31,"div",12)(17,kn,3,0,"ion-fab",13),e(18,"ion-modal",14),x("didDismiss",function(){return r.closeInvoiceModal()}),v(19,zn,53,10,"ng-template"),n(),e(20,"ion-modal",15),x("didDismiss",function(){return r.cerrarFacturaDetailModal()}),v(21,Hn,28,14,"ng-template"),n()()),a&2){let d;c(3),u("defaultHref","/mercados/"+r.mercadoId()),c(2),h((d=r.local())!=null&&d.numero_local?`Local ${(d=r.local())==null?null:d.numero_local}`:"Detalle Local"),c(5),u("ngIf",r.canEditLocal()),c(4),u("ngIf",r.isLoading()),c(),u("ngIf",r.error()),c(),u("ngIf",!r.isLoading()&&!r.error()&&r.local()),c(),u("ngIf",r.canCreateFactura()),c(),u("isOpen",r.showInvoiceModal()),c(2),u("isOpen",r.showFacturaDetailModal())("breakpoints",nt(11,en))("initialBreakpoint",.75)}},dependencies:[gt,it,rt,ct,dt,st,lt,ft,_t,ut,yt,kt,Lt,At,Ct,xt,ht,vt,wt,bt,Mt,Ot,zt,$t,Et,St,jt,It,Dt,Yt,Ft,Pt],styles:[`.local-detail-content[_ngcontent-%COMP%]{--background: #f8f9fa}.local-detail-content[_ngcontent-%COMP%]   .text-readable[_ngcontent-%COMP%]{color:#2d3748!important;font-weight:500}.local-detail-content[_ngcontent-%COMP%]   .text-secondary-readable[_ngcontent-%COMP%]{color:#4a5568!important;font-weight:400}.local-detail-content[_ngcontent-%COMP%]   .text-muted-readable[_ngcontent-%COMP%]{color:#718096!important;font-weight:400}.local-detail-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:50vh;color:var(--ion-color-medium)}.local-detail-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.local-detail-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.local-detail-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:50vh;padding:24px;text-align:center}.local-detail-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.local-detail-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:8px 0;color:var(--ion-color-danger)}.local-detail-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 24px;color:var(--ion-color-medium)}.local-detail-content[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{padding:16px;max-width:1200px;margin:0 auto}.local-info-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:12px;box-shadow:0 2px 12px #00000014}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]   .local-title[_ngcontent-%COMP%]{flex:1}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]   .local-title[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px;font-size:24px;font-weight:600;color:var(--ion-color-primary)}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]   .local-title[_ngcontent-%COMP%]   .estado-badge[_ngcontent-%COMP%]{border-radius:20px;padding:4px 12px;font-size:12px;font-weight:500;text-transform:uppercase}.local-info-card[_ngcontent-%COMP%]   .card-header-flex[_ngcontent-%COMP%]   .local-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.local-info-card[_ngcontent-%COMP%]   .local-details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-top:16px}.local-info-card[_ngcontent-%COMP%]   .local-details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:600;color:var(--ion-color-medium);text-transform:uppercase;letter-spacing:.5px}.local-info-card[_ngcontent-%COMP%]   .local-details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:var(--ion-text-color)}.local-info-card[_ngcontent-%COMP%]   .local-details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--ion-color-success)}.mercado-info-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:12px;box-shadow:0 2px 12px #00000014}.mercado-info-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:20px;font-weight:600;color:var(--ion-color-primary)}.mercado-info-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-top:16px}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:600;color:var(--ion-color-medium);text-transform:uppercase;letter-spacing:.5px}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:var(--ion-text-color)}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item.location-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item.location-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 20px;--padding-start: 16px;--padding-end: 16px;height:36px;font-weight:500}.mercado-info-card[_ngcontent-%COMP%]   .mercado-details[_ngcontent-%COMP%]   .detail-item.location-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:4px}.stats-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:16px;box-shadow:0 4px 16px #0000001a;overflow:hidden}.stats-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid #e2e8f0}.stats-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#1e293b;margin:0}.stats-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:14px}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{background:#fff}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#334155;margin:0 0 16px;padding-bottom:8px;border-bottom:2px solid #e2e8f0}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:20px}@media (min-width: 768px){.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 768px){.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{gap:16px}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .flex.items-center[_ngcontent-%COMP%]{align-items:center}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .flex.items-center.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:20px;line-height:1.2}@media (min-width: 768px){.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:22px}}.stats-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;line-height:1.3}.stats-card[_ngcontent-%COMP%]   .loading-stats[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:40px;color:var(--ion-color-medium)}.stats-card[_ngcontent-%COMP%]   .loading-stats[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-right:12px}.facturas-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:16px;box-shadow:0 4px 16px #0000001a;overflow:hidden}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid #e2e8f0}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#1e293b;margin:0}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:14px}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 10px;--padding-start: 16px;--padding-end: 16px;--padding-top: 8px;--padding-bottom: 8px;font-weight:600;text-transform:none}.facturas-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{background:#fff}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{margin-bottom:24px}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .custom-searchbar[_ngcontent-%COMP%]{--background: #f8fafc;--border-radius: 12px;--box-shadow: none;--border: 1px solid #e2e8f0}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .custom-searchbar.searchbar-has-focus[_ngcontent-%COMP%]{--border: 1px solid var(--ion-color-primary)}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{--background: #f8fafc;--border-radius: 8px;--padding-start: 12px;--padding-end: 12px;border:1px solid #e2e8f0}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus-within{border-color:var(--ion-color-primary)}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 8px;--border-width: 1px;--border-style: solid;--border-color: #d1d5db;--color: #374151}.facturas-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--background: #f3f4f6}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .facturas-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 24px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .facturas-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: var(--ion-color-primary);margin-bottom:12px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .facturas-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#64748b}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]{padding:64px 24px;text-align:center}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   .w-16[_ngcontent-%COMP%]{width:64px;height:64px;background:#f1f5f9;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 16px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   .w-16[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:#9ca3af}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:600;color:#374151}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:#6b7280;max-width:320px;margin:0 auto 24px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 12px;--padding-start: 24px;--padding-end: 24px;--padding-top: 12px;--padding-bottom: 12px;font-weight:600;text-transform:none}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .no-facturas[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .space-y-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:12px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;transition:all .2s ease}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: 12px;--padding-start: 16px;--padding-end: 16px;--padding-top: 16px;--padding-bottom: 16px;--inner-padding-end: 0;--min-height: auto}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--background: #f8fafc}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]{width:100%}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:12px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]{flex:1}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:#1f2937;line-height:1.3}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:13px;color:#6b7280}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;color:#9ca3af}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-amounts[_ngcontent-%COMP%]{text-align:right;flex-shrink:0}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-amounts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:700;color:#059669;line-height:1.2}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-main[_ngcontent-%COMP%]   .factura-amounts[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;--padding-top: 4px;--padding-bottom: 4px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;border-radius:6px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:12px;border-top:1px solid #f3f4f6}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .vencimiento[_ngcontent-%COMP%], .facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .pago[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .vencimiento[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .pago[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .vencimiento[_ngcontent-%COMP%]{color:#6b7280}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .vencimiento[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#9ca3af}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .pago[_ngcontent-%COMP%]{color:#059669}.facturas-card[_ngcontent-%COMP%]   .facturas-list[_ngcontent-%COMP%]   .factura-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .factura-content[_ngcontent-%COMP%]   .factura-details[_ngcontent-%COMP%]   .pago[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#10b981}.facturas-grid-container[_ngcontent-%COMP%]{padding:0;margin:0}.facturas-grid[_ngcontent-%COMP%]{display:grid;gap:.75rem;padding:0;margin:0;grid-template-columns:repeat(2,1fr)}@media (min-width: 768px){.facturas-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1rem}}@media (min-width: 1024px){.facturas-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:1rem}}@media (min-width: 1440px){.facturas-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:1.25rem}}@media (min-width: 1024px){.facturas-grid.desktop-five-columns[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:.875rem}}@media (min-width: 1440px){.facturas-grid.desktop-five-columns[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:1rem}}.factura-item-modern[_ngcontent-%COMP%]{margin:0;background:transparent}.factura-item-modern[_ngcontent-%COMP%]   .modern-invoice-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;box-shadow:0 2px 8px #00000014;border:1px solid #f1f5f9;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;overflow:hidden;height:100%;display:flex;flex-direction:column}.factura-item-modern[_ngcontent-%COMP%]   .modern-invoice-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026;border-color:#3b82f6}.factura-item-modern[_ngcontent-%COMP%]   .modern-invoice-card[_ngcontent-%COMP%]:active{transform:translateY(-2px)}.invoice-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5ccedf,#4fb3c7);color:#fff;padding:.5rem;position:relative}.invoice-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.375rem}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{flex:1;min-width:0}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.75rem;font-weight:700;line-height:1.1;color:#fff}@media (min-width: 768px){.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.875rem}}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.125rem 0 0;font-size:.625rem;opacity:.9;line-height:1.1;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-clamp:2;overflow:hidden}@media (min-width: 768px){.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}}.invoice-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .2);--color: white;--border-radius: .375rem;--padding-start: .375rem;--padding-end: .375rem;--padding-top: .125rem;--padding-bottom: .125rem;font-size:.55rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}@media (min-width: 768px){.invoice-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.6rem}}.invoice-body[_ngcontent-%COMP%]{padding:.5rem;flex:1;display:flex;flex-direction:column;gap:.5rem}@media (min-width: 768px){.invoice-body[_ngcontent-%COMP%]{padding:.75rem;gap:.75rem}}.amount-section[_ngcontent-%COMP%]{text-align:center;padding:.5rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:.5rem;border:1px solid #e2e8f0}.amount-section[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;color:#1e293b;line-height:1;margin-bottom:.125rem}@media (min-width: 768px){.amount-section[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.125rem}}.amount-section[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.55rem;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.05em}@media (min-width: 768px){.amount-section[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.65rem}}.owner-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.375rem;background:#eff6ff;border-radius:.375rem;border:1px solid #dbeafe}.owner-info[_ngcontent-%COMP%]   .owner-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;background:#3b82f6;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.owner-info[_ngcontent-%COMP%]   .owner-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:.75rem}.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]{flex:1;min-width:0}.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]   .owner-name[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#1e293b;line-height:1.1;margin-bottom:.125rem;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;line-clamp:1;overflow:hidden}@media (min-width: 768px){.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]   .owner-name[_ngcontent-%COMP%]{font-size:.75rem}}.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]   .local-number[_ngcontent-%COMP%]{font-size:.65rem;color:#64748b;font-weight:500}@media (min-width: 768px){.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]   .local-number[_ngcontent-%COMP%]{font-size:.7rem}}.date-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.375rem;background:#fafafa;border-radius:.375rem;border:1px solid #e5e7eb}.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;flex-shrink:0}.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:.65rem;font-weight:600;color:#374151;line-height:1;margin-bottom:.125rem}@media (min-width: 768px){.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:.7rem}}.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.6rem;color:#9ca3af;font-weight:500}@media (min-width: 768px){.date-info[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.65rem}}.payment-status[_ngcontent-%COMP%]{padding:.5rem;border-radius:.5rem}.payment-status[_ngcontent-%COMP%]   .paid-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;color:#059669;background:#ecfdf5;padding:.375rem;border-radius:.375rem;border:1px solid #a7f3d0}.payment-status[_ngcontent-%COMP%]   .paid-status[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem;flex-shrink:0}.payment-status[_ngcontent-%COMP%]   .paid-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.65rem;font-weight:600}@media (min-width: 768px){.payment-status[_ngcontent-%COMP%]   .paid-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.payment-status[_ngcontent-%COMP%]   .due-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;color:#d97706;background:#fffbeb;padding:.375rem;border-radius:.375rem;border:1px solid #fed7aa}.payment-status[_ngcontent-%COMP%]   .due-status[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem;flex-shrink:0}.payment-status[_ngcontent-%COMP%]   .due-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.65rem;font-weight:600}@media (min-width: 768px){.payment-status[_ngcontent-%COMP%]   .due-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.action-buttons-compact[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.25rem;padding-top:.5rem;border-top:1px solid #f1f5f9;margin-top:auto}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--border-radius: .5rem;--padding-start: .5rem;--padding-end: .5rem;--padding-top: .5rem;--padding-bottom: .5rem;width:2rem;height:2rem;min-height:2rem;margin:0}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{--color: #dc2626}.action-buttons-compact[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{--background: #fef2f2}@media (max-width: 480px){.facturas-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.invoice-header[_ngcontent-%COMP%]{padding:.5rem}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8rem}.invoice-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.65rem}.invoice-body[_ngcontent-%COMP%]{padding:.5rem;gap:.5rem}.amount-section[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.125rem}}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end;margin-top:1rem;padding-top:.75rem;border-top:1px solid #f3f4f6}.action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;--padding-start: .75rem;--padding-end: .75rem;--padding-top: .5rem;--padding-bottom: .5rem;height:auto;min-height:2rem;font-size:.75rem;font-weight:600;letter-spacing:.025em;text-transform:none}.action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]{--backdrop-opacity: .4;--background: transparent;--border-radius: 1.5rem 1.5rem 0 0;--box-shadow: 0 -4px 16px rgba(0, 0, 0, .1);--height: auto;--max-height: 90vh;--min-height: 400px;--width: 100%;--max-width: 100%}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{background:#ffffff26;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:20px;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000004d,inset 0 1px #fff6;overflow:hidden;height:100%;max-height:85vh;display:flex;flex-direction:column;position:relative}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#ffffff1a,#ffffff0d,#0000000d);pointer-events:none;z-index:-1}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5ccedf,#4fb3c7,#3b9bb0);color:#fff;padding:.5rem 1.5rem;position:relative;min-height:50px;display:flex;flex-direction:column;justify-content:center;flex-shrink:0}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem 2rem;min-height:60px}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem 2rem;min-height:65px}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:.75rem;width:2rem;height:2rem;background:#fff3;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);z-index:10;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button.close-hovered[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:1rem;color:#fff;font-weight:700}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;top:1rem;right:1rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:1.25rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:3rem;height:3rem;top:1.5rem;right:1.5rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;text-align:left;gap:.75rem;padding-top:0;justify-content:space-between;width:100%}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:1.25rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .icon-info-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;min-width:0}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .icon-info-container[_ngcontent-%COMP%]{gap:.75rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .icon-info-container[_ngcontent-%COMP%]{gap:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);flex-shrink:0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.75rem;color:#fff}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:2.25rem;height:2.25rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]{flex:1;min-width:0;text-align:left}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;margin:0 0 .0625rem;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.1);line-height:1.1}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 .125rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{font-size:.6rem;margin:0;opacity:.9;color:#fff;font-weight:400;line-height:1.1}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{font-size:.65rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{font-size:.75rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{background:#ffffff26;border-radius:.375rem;padding:.25rem .5rem;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);min-width:80px;flex-shrink:0}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{padding:.375rem .75rem;border-radius:.5rem;min-width:100px}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.75rem;min-width:120px}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:800;color:#fff;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1);letter-spacing:-.025em;line-height:1}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.4rem;opacity:.9;color:#fff;margin-top:.0625rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px;line-height:1}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.5rem;margin-top:.125rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.625rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem 1.5rem 0;background:transparent;min-height:0}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:1.5rem 2rem 0}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:2rem 2rem 0}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:3px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;padding:.5rem 1rem;border-radius:2rem;text-transform:uppercase;letter-spacing:.5px}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1.25rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:1rem;padding:.75rem 1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{gap:1.25rem;margin-bottom:2rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{gap:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:.75rem;padding:1rem;border:1px solid #e2e8f0;transition:all .2s ease}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]:hover{border-color:#5ccedf;box-shadow:0 4px 12px #5ccedf1a}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{padding:1.25rem;border-radius:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{padding:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:.5rem;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.period-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.dates-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.observations-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:.75rem;font-size:1.25rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;font-size:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.875rem;font-weight:600;color:#1f2937}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.625rem;color:#6b7280}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-display[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#1f2937}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-display[_ngcontent-%COMP%]{font-size:1.25rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-display[_ngcontent-%COMP%]{font-size:1.5rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.375rem 0;border-bottom:1px solid #e5e7eb}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]{padding:.5rem 0}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#1f2937;text-align:right}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value.paid[_ngcontent-%COMP%]{color:#059669}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .observations-text[_ngcontent-%COMP%]{font-size:.75rem;color:#374151;line-height:1.5;font-weight:500}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .observations-text[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .observations-text[_ngcontent-%COMP%]{font-size:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{flex-shrink:0;background:#fffffff2;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-top:1px solid rgba(92,206,223,.3);padding:.75rem 1rem;margin:0;z-index:10;position:relative;width:100%;box-sizing:border-box}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:1.5rem 2rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:1.5rem 2rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]{margin-bottom:.75rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]{margin-bottom:1rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{font-weight:700;height:2.5rem;--border-radius: .75rem;font-size:.875rem}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{height:3rem;font-size:1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{height:3.5rem;font-size:1.125rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;flex-wrap:nowrap!important;gap:.5rem;justify-content:center;align-items:center;width:100%;overflow-x:auto}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{gap:1rem;overflow-x:visible}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{gap:1.25rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex:0 0 auto!important;min-width:36px;max-width:36px;width:36px;height:36px;--border-radius: 50%;font-weight:600;font-size:.9rem;padding:0;display:flex;align-items:center;justify-content:center;margin:0}@media (min-width: 480px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:40px;max-width:40px;width:40px;height:40px;font-size:1rem}}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:44px;max-width:44px;width:44px;height:44px;font-size:1.1rem}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:48px;max-width:48px;width:48px;height:48px;font-size:1.2rem}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0!important;font-size:inherit}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{flex:0 0 auto!important;min-width:36px;max-width:36px;width:36px}@media (min-width: 480px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{min-width:40px;max-width:40px;width:40px}}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{min-width:44px;max-width:44px;width:44px}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{min-width:48px;max-width:48px;width:48px}}@media (min-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--border-radius: 1rem;--max-width: 500px;--width: 90%;--max-height: 85vh}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{border-radius:1rem;max-height:85vh}}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--max-width: 600px;--width: 80%;--max-height: 80vh}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:80vh}}@media (min-width: 1280px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--max-width: 650px;--width: 70%}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_tooltip-fade-in{0%{opacity:0;transform:translate(-50%) translateY(4px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s cubic-bezier(.4,0,.2,1)}ion-badge[_ngcontent-%COMP%]{border-radius:1rem;padding:.5rem 1rem;font-weight:700;letter-spacing:.05em;text-transform:uppercase}ion-badge[color=success][_ngcontent-%COMP%]{--background: #10b981;--background-hover: #059669;--background-activated: #047857}ion-badge[color=primary][_ngcontent-%COMP%]{--background: #5ccedf;--background-hover: #4fb3c7;--background-activated: #3b9bb0}ion-button[_ngcontent-%COMP%]{--border-radius: .75rem;font-weight:600;letter-spacing:.025em}ion-button[title][_ngcontent-%COMP%]{position:relative}ion-button[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#000c;color:#fff;padding:.375rem .75rem;border-radius:.375rem;font-size:.75rem;white-space:nowrap;z-index:1000;pointer-events:none;opacity:0;animation:_ngcontent-%COMP%_tooltip-fade-in .2s ease-in-out .5s forwards}ion-button[title][_ngcontent-%COMP%]:hover:before{content:"";position:absolute;bottom:calc(100% - 6px);left:50%;transform:translate(-50%);border:6px solid transparent;border-top-color:#000c;z-index:1000;pointer-events:none;opacity:0;animation:_ngcontent-%COMP%_tooltip-fade-in .2s ease-in-out .5s forwards}.hover-scale[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.hover-scale[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.gradient-cyan[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5ccedf,#4fb3c7,#3b9bb0)}.gradient-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669,#047857)}.gradient-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706,#b45309)}.glass-effect[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.facturas-list[_ngcontent-%COMP%]   .space-y-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1rem}@media (max-width: 768px){.modern-invoice-card[_ngcontent-%COMP%]{margin:0 .5rem}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]{margin:.5rem;max-height:calc(100vh - 1rem);overflow-y:auto}}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#5ccedf #f1f5f9}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#5ccedf;border-radius:3px}.factura-detail-modal-modern[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4fb3c7}.content-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}ion-badge[color=success][_ngcontent-%COMP%]{--background: #28a745;--color: white}ion-badge[color=warning][_ngcontent-%COMP%]{--background: #ffc107;--color: #212529}ion-badge[color=danger][_ngcontent-%COMP%]{--background: #dc3545;--color: white}ion-badge[color=medium][_ngcontent-%COMP%]{--background: #6c757d;--color: white}ion-badge[color=primary][_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: white}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{max-width:400px;width:90%}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px;color:var(--ion-color-medium)}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-radio-group[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-radio-label[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin:4px 0;transition:all .2s ease}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-radio-label[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-light)}ion-alert.month-selector-alert[_ngcontent-%COMP%]   .alert-radio-label.alert-radio-checked[_ngcontent-%COMP%]{background-color:var(--ion-color-primary-tint);color:var(--ion-color-primary);font-weight:500}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{border-radius:16px}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{text-align:center}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:block;margin:0 auto 16px}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-button.secondary[_ngcontent-%COMP%]{color:var(--ion-color-medium)}ion-alert.error-alert[_ngcontent-%COMP%]   .alert-button[role=destructive][_ngcontent-%COMP%]{color:var(--ion-color-danger)}.invoice-modal[_ngcontent-%COMP%]{--backdrop-opacity: .5}.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--placeholder-color: #6b7280;--color: #111827}.invoice-modal[_ngcontent-%COMP%]{--backdrop-opacity: .75}.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--placeholder-color: #6b7280;--color: #1f2937;--background: transparent;font-weight:500;font-size:13px}.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]:focus-within{--color: #5ccedf}.invoice-modal[_ngcontent-%COMP%]   ion-item.month-selector-modern[_ngcontent-%COMP%]{--background: transparent;--border-color: transparent;--inner-padding-start: 0;--inner-padding-end: 0;--padding-start: 0;--padding-end: 0;--min-height: 32px}.invoice-modal[_ngcontent-%COMP%]   ion-item.month-selector-modern[_ngcontent-%COMP%]:hover{--background: rgba(92, 206, 223, .05)}.invoice-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.invoice-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.invoice-modal[_ngcontent-%COMP%]:focus-within{--backdrop-opacity: .8}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-15px) scale(.96)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .25s cubic-bezier(.25,.46,.45,.94)}@media (max-width: 640px){.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{font-size:12px}.invoice-modal[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]{animation-duration:.2s}.invoice-modal[_ngcontent-%COMP%]   .modal-slide-in[_ngcontent-%COMP%]{max-width:300px!important}}@supports (backdrop-filter: blur(4px)){.invoice-modal[_ngcontent-%COMP%]   .fixed.inset-0[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}}@media (prefers-contrast: high){.invoice-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--border-width: 2px;--color: #000}}@media (prefers-reduced-motion: reduce){.modal-slide-in[_ngcontent-%COMP%]{animation:none}.invoice-modal[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:none!important}}.btn-crear[_ngcontent-%COMP%]{border-radius:1rem;padding:.5rem 1rem;background-color:var(--ion-color-primary);color:#fff;font-weight:600;font-size:.875rem;box-shadow:0 4px 6px #0000001a;transition:background-color .2s ease,box-shadow .2s ease;cursor:pointer;margin:.5rem;border:none;outline:none}.btn-crear[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-primary-shade);box-shadow:0 6px 8px #00000026}.btn-cancelar[_ngcontent-%COMP%]{border-radius:1rem;padding:.5rem 1rem;background-color:var(--ion-color-medium);color:#fff;font-weight:600;font-size:.875rem;box-shadow:0 4px 6px #0000001a;transition:background-color .2s ease,box-shadow .2s ease;cursor:pointer;margin:.5rem;border:none;outline:none}.btn-cancelar[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-medium-shade);box-shadow:0 6px 8px #00000026}.iten-local[_ngcontent-%COMP%]{margin-left:20px;margin-top:10px}.modern-invoice-card[_ngcontent-%COMP%]   .font-medium[_ngcontent-%COMP%], .modern-invoice-card[_ngcontent-%COMP%]   .font-semibold[_ngcontent-%COMP%]{color:#1f2937!important;font-weight:600!important}.modern-invoice-card[_ngcontent-%COMP%]   .text-gray-800[_ngcontent-%COMP%]{color:#1f2937!important}.modern-invoice-card[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%]{color:#4b5563!important}.modern-invoice-card[_ngcontent-%COMP%]   .text-gray-500[_ngcontent-%COMP%]{color:#6b7280!important}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end;margin-top:1rem;padding-top:.75rem;border-top:1px solid #f3f4f6}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;--padding-start: .75rem;--padding-end: .75rem;--padding-top: .5rem;--padding-bottom: .5rem;height:auto;min-height:2rem;font-size:.75rem;font-weight:600;letter-spacing:.025em;text-transform:none}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.875rem}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=primary][_ngcontent-%COMP%]{--color: #3b82f6;--border-color: #3b82f6}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=primary][_ngcontent-%COMP%]:hover{--background: #eff6ff}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=success][_ngcontent-%COMP%]{--background: #10b981;--color: white;--border-color: #10b981}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=success][_ngcontent-%COMP%]:hover{--background: #059669}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=secondary][_ngcontent-%COMP%]{--color: #6b7280;--border-color: #6b7280}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=secondary][_ngcontent-%COMP%]:hover{--background: #f9fafb}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=warning][_ngcontent-%COMP%]{--color: #f59e0b;--border-color: #f59e0b}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=warning][_ngcontent-%COMP%]:hover{--background: #fffbeb}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]{--color: #ef4444;--border-color: #ef4444}.modern-invoice-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]:hover{--background: #fef2f2}.mt-4[_ngcontent-%COMP%]{margin-top:1rem!important}.mx-2[_ngcontent-%COMP%]{margin-left:.5rem!important;margin-right:.5rem!important}.mb-6[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-3[_ngcontent-%COMP%]{margin-bottom:.75rem!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.px-4[_ngcontent-%COMP%]{padding-left:1rem!important;padding-right:1rem!important}.pb-6[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-3[_ngcontent-%COMP%]{padding-bottom:.75rem!important}.py-12[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.py-16[_ngcontent-%COMP%]{padding-top:4rem!important;padding-bottom:4rem!important}.py-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.px-6[_ngcontent-%COMP%]{padding-left:1.5rem!important;padding-right:1.5rem!important}.flex[_ngcontent-%COMP%]{display:flex!important}.flex-col[_ngcontent-%COMP%]{flex-direction:column!important}.items-center[_ngcontent-%COMP%]{align-items:center!important}.justify-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-center[_ngcontent-%COMP%]{justify-content:center!important}.gap-3[_ngcontent-%COMP%]{gap:.75rem!important}.gap-4[_ngcontent-%COMP%]{gap:1rem!important}.w-10[_ngcontent-%COMP%]{width:2.5rem!important}.h-10[_ngcontent-%COMP%]{height:2.5rem!important}.w-16[_ngcontent-%COMP%]{width:4rem!important}.h-16[_ngcontent-%COMP%]{height:4rem!important}.w-full[_ngcontent-%COMP%]{width:100%!important}.h-full[_ngcontent-%COMP%]{height:100%!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.bg-gray-50[_ngcontent-%COMP%]{background-color:#f9fafb!important}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem!important}.rounded-xl[_ngcontent-%COMP%]{border-radius:.75rem!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d!important}.shadow-md[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000000d!important}.border-0[_ngcontent-%COMP%]{border:none!important}.border[_ngcontent-%COMP%]{border:1px solid #e5e7eb!important}.border-gray-200[_ngcontent-%COMP%]{border-color:#e5e7eb!important}.border-gray-300[_ngcontent-%COMP%]{border-color:#d1d5db!important}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem!important}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem!important}.text-sm[_ngcontent-%COMP%]{font-size:.875rem!important}.text-xs[_ngcontent-%COMP%]{font-size:.75rem!important}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem!important}.font-bold[_ngcontent-%COMP%]{font-weight:700!important}.font-semibold[_ngcontent-%COMP%]{font-weight:600!important}.text-gray-800[_ngcontent-%COMP%]{color:#1f2937!important}.text-gray-700[_ngcontent-%COMP%]{color:#374151!important}.text-gray-600[_ngcontent-%COMP%]{color:#4b5563!important}.text-gray-500[_ngcontent-%COMP%]{color:#6b7280!important}.text-gray-400[_ngcontent-%COMP%]{color:#9ca3af!important}.text-white[_ngcontent-%COMP%]{color:#fff!important}.text-green-600[_ngcontent-%COMP%]{color:#dc2626!important}.leading-tight[_ngcontent-%COMP%]{line-height:1.25!important}.text-center[_ngcontent-%COMP%]{text-align:center!important}.text-right[_ngcontent-%COMP%]{text-align:right!important}.max-w-sm[_ngcontent-%COMP%]{max-width:24rem!important}.space-y-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.75rem!important}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden!important}.transition-colors[_ngcontent-%COMP%]{transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out!important}.hover\\:bg-gray-50[_ngcontent-%COMP%]:hover{background-color:#f9fafb!important}.grid[_ngcontent-%COMP%]{display:grid!important}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))!important}@media (min-width: 768px){.md\\:grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))!important}.md\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))!important}}@media (min-width: 1024px){.lg\\:grid-cols-5[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))!important}}.flex-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]{--background: rgba(0, 0, 0, .6);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{background:#fffffff2;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:24px;border:1px solid rgba(255,255,255,.2);box-shadow:0 20px 40px #00000026,0 10px 20px #0000001a,inset 0 1px #fff6;overflow:hidden;position:relative;max-height:85vh;margin:20px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5ccedf,#4fb3c7);padding:24px;position:relative}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='7' cy='7' r='7'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:36px;height:36px;border-radius:18px;background:#fff3;border:1px solid rgba(255,255,255,.3);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;z-index:10}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button.close-hovered[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1);box-shadow:0 4px 12px #00000026}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;transition:color .3s ease}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;position:relative;z-index:5}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:#fff3;border-radius:16px;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff;font-size:28px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]{flex:1}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{color:#ffffffe6;font-size:14px;margin:4px 0 0;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{text-align:right;background:#ffffff26;padding:12px 16px;border-radius:12px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{color:#fffc;font-size:12px;margin:2px 0 0;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-height:calc(85vh - 240px);overflow-y:auto;padding:24px 24px 0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000000d;border-radius:3px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:3px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0000004d}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{margin-bottom:24px;text-align:center}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:14px;font-weight:600;padding:8px 16px;border-radius:20px;text-transform:uppercase;letter-spacing:.5px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{display:grid;gap:20px;margin-bottom:32px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{background:#ffffffb3;border-radius:16px;padding:20px;border:1px solid rgba(0,0,0,.05);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);transition:all .3s ease}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]:hover{background:#ffffffe6;transform:translateY(-2px);box-shadow:0 8px 24px #0000001a}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.local-icon[_ngcontent-%COMP%], .factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.period-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.dates-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.financial-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon.observations-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{flex:1}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#2d3748}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;font-size:12px;color:#718096}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(0,0,0,.05)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:14px;color:#718096;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:14px;color:#2d3748;font-weight:600}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-display[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#4a5568;text-align:center;padding:12px;background:#667eea1a;border-radius:8px;margin-bottom:8px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .period-year[_ngcontent-%COMP%]{font-size:14px;color:#718096;text-align:center;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(0,0,0,.05)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:14px;color:#718096;font-weight:500;display:flex;align-items:center;gap:6px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-size:14px;color:#2d3748;font-weight:600}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .date-row[_ngcontent-%COMP%]   .date-value.paid[_ngcontent-%COMP%]{color:#38a169}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid rgba(0,0,0,.05)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row.main-amount[_ngcontent-%COMP%]{background:#43e97b1a;padding:12px;border-radius:8px;margin-bottom:8px;border-bottom:none}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-label[_ngcontent-%COMP%]{font-size:14px;color:#718096;font-weight:500}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value.primary[_ngcontent-%COMP%]{color:#2d3748;font-size:16px;font-weight:700}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value.success[_ngcontent-%COMP%]{color:#38a169}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value.warning[_ngcontent-%COMP%]{color:#d69e2e}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .financial-row[_ngcontent-%COMP%]   .financial-value.danger[_ngcontent-%COMP%]{color:#e53e3e}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .observations-text[_ngcontent-%COMP%]{font-size:14px;color:#4a5568;line-height:1.6;background:#4facfe1a;padding:12px;border-radius:8px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:20px 24px 24px;border-top:1px solid rgba(0,0,0,.1);background:#fffffff2;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);position:sticky;bottom:0;margin-top:auto;box-shadow:0 -4px 12px #0000001a}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]{margin-bottom:16px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);--color: white;font-weight:600;font-size:16px;height:48px;border-radius:12px;--box-shadow: 0 4px 12px rgba(72, 187, 120, .3)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]:hover{--box-shadow: 0 6px 16px rgba(72, 187, 120, .4)}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions.has-many-actions[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(110px,1fr))}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{height:44px;border-radius:10px;font-weight:500;font-size:14px;--border-width: 1.5px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:inline}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{--color: #e53e3e;--border-color: #e53e3e}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]:hover{--background: #e53e3e;--color: white}@media (max-width: 768px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{margin:10px;max-height:90vh;display:flex;flex-direction:column}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px;flex-shrink:0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:12px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]{width:48px;height:48px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:20px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{padding:8px 12px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:18px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:20px 20px 0;max-height:calc(90vh - 220px);flex:1;overflow-y:auto}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:16px 20px 20px;flex-shrink:0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@media (min-width: 1024px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--max-width: 800px;--width: 90%;--max-height: 85vh}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-width:800px;width:90%;margin:0 auto;max-height:85vh;border-radius:24px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:120px;padding:1.5rem 2rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-size:1.5rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .invoice-info[_ngcontent-%COMP%]   .invoice-concept[_ngcontent-%COMP%]{font-size:.9rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.75rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.8rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:1.5rem 2rem 0}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:#fffffffa}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{height:3rem;font-size:1rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex:1;min-width:56px;max-width:60px;width:56px;height:56px;--border-radius: 50%;font-size:1.4rem;padding:0;display:flex;align-items:center;justify-content:center}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0!important;font-size:inherit}}@media (min-width: 1440px){.factura-detail-modal-responsive[_ngcontent-%COMP%]{--max-width: 900px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-width:900px}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:2rem}}@media (max-width: 767px){.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:block!important;white-space:nowrap!important;text-align:center!important;width:100%!important;padding:0!important;margin:0!important;overflow-x:auto!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%], .factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button.danger-button[_ngcontent-%COMP%]{display:inline-block!important;width:36px!important;height:36px!important;min-width:36px!important;max-width:36px!important;margin:0 8px!important;vertical-align:middle!important}.factura-detail-modal-responsive[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:inline-block!important;width:36px!important;height:36px!important;min-width:36px!important;max-width:36px!important;margin:0 8px!important;vertical-align:middle!important;float:none!important}}`]});let l=f;return l})();export{da as LocalDetailPage};
