<ion-content class="modern-login-content">
  <div class="login-container">
    <div class="login-wrapper">
      
      <!-- Logo y título modernos -->
      <div class="header-section">
        <div class="logo-container">
          <img src="assets/logos/logo4.png" alt="AMDC Logo" class="main-logo">
        </div>
        <h1 class="welcome-title">Bienvenido</h1>
        <p class="welcome-subtitle">Iniciar Sesión en AMDC</p>
      </div>

      <!-- Formulario de login con glass effect -->
      <div class="login-card-glass">
        <div class="card-header-glass">
          <h2 class="card-title">Acceso al Sistema</h2>
          <div class="title-divider"></div>
        </div>

        <div class="card-content-glass">
          <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
            
            <!-- Campo de usuario/email con glass -->
            <div class="input-group-glass">
              <div class="input-wrapper-glass" [class.error]="hasError('identifier')">
                <div class="input-icon">
                  <ion-icon name="person-outline"></ion-icon>
                </div>
                <div class="input-content">
                  <label class="input-label">Usuario o Correo</label>
                  <ion-input 
                    formControlName="identifier"
                    type="text"
                    placeholder="Ingrese su usuario o correo"
                    autocomplete="username"
                    class="glass-input"
                    fill="outline">
                  </ion-input>
                </div>
              </div>
              <div *ngIf="hasError('identifier')" class="error-message-glass">
                <ion-icon name="alert-circle-outline"></ion-icon>
                <span>{{ getErrorMessage('identifier') }}</span>
              </div>
            </div>

            <!-- Campo de contraseña con glass -->
            <div class="input-group-glass">
              <div class="input-wrapper-glass" [class.error]="hasError('contrasena')">
                <div class="input-icon">
                  <ion-icon name="lock-closed-outline"></ion-icon>
                </div>
                <div class="input-content">
                  <label class="input-label">Contraseña</label>
                  <ion-input 
                    formControlName="contrasena"
                    [type]="showPassword() ? 'text' : 'password'"
                    placeholder="Ingrese su contraseña"
                    autocomplete="current-password"
                    class="glass-input"
                    fill="outline">
                  </ion-input>
                </div>
                <button 
                  type="button"
                  class="password-toggle"
                  (click)="togglePasswordVisibility()">
                  <ion-icon 
                    [name]="showPassword() ? 'eye-off-outline' : 'eye-outline'">
                  </ion-icon>
                </button>
              </div>
              <div *ngIf="hasError('contrasena')" class="error-message-glass">
                <ion-icon name="alert-circle-outline"></ion-icon>
                <span>{{ getErrorMessage('contrasena') }}</span>
              </div>
            </div>

            <!-- Recordar sesión -->
            <div class="remember-section">
              <label class="checkbox-wrapper-glass">
                <ion-checkbox 
                  [checked]="rememberMe()"
                  (ionChange)="toggleRememberMe()"
                  class="glass-checkbox">
                </ion-checkbox>
                <span class="checkbox-label">Recordar sesión</span>
              </label>
            </div>

            <!-- Botón de login -->
            <button 
              type="submit"
              class="login-btn-glass"
              [disabled]="!loginForm.valid || isLoading()">
              
              <div *ngIf="!isLoading()" class="btn-content">
                <ion-icon name="log-in-outline"></ion-icon>
                <span>Iniciar Sesión</span>
              </div>
              
              <div *ngIf="isLoading()" class="btn-loading">
                <ion-spinner name="crescent"></ion-spinner>
                <span>Autenticando...</span>
              </div>
            </button>
          </form>
        </div>
      </div>

      <!-- Footer con información adicional -->
      <div class="footer-section">
        <div class="help-text">
          <ion-icon name="help-circle-outline"></ion-icon>
          <span>¿Problemas para acceder?</span>
        </div>
        <p class="contact-text">Contacte al administrador del sistema</p>
      </div>
    </div>
  </div>
</ion-content>
