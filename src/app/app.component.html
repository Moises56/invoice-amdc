<ion-app>
  <!-- Menú lateral -->
  <ion-menu contentId="main-content" type="overlay" *ngIf="isAuthenticated()">
    <ion-header>
      <ion-toolbar class="municipal-toolbar">
        <ion-title class="text-white font-semibold ml-3">
          AMDC
        </ion-title>
      </ion-toolbar>
    </ion-header>
    
    <ion-content>
      <!-- Información del usuario -->
      <div class="user-info p-4 bg-gray-50 border-b border-gray-200">
        <div class="flex items-center">
          <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center mr-3">
            <ion-icon name="person-outline" class="text-white text-xl"></ion-icon>
          </div>
          <div class="flex-1">
            <h3 class="font-semibold text-gray-800 text-sm">{{ userName() }}</h3>
            <p class="text-xs text-gray-500">{{ userRole() }}</p>
          </div>
        </div>
      </div>

      <!-- Menú de navegación -->
      <ion-list class="py-2">
        <ion-menu-toggle *ngFor="let item of visibleMenuItems()" autoHide="false">
          <ion-item 
            button="true" 
            (click)="navigateTo(item.url)"
            class="menu-item">
            <ion-icon [name]="item.icon" slot="start" color="medium"></ion-icon>
            <ion-label class="font-medium">{{ item.title }}</ion-label>
          </ion-item>
        </ion-menu-toggle>
      </ion-list>

      <!-- Acciones de usuario -->
      <div class="mt-auto p-4 border-t border-gray-200">
        <ion-item button="true" (click)="goToProfile()" class="menu-item mb-2">
          <ion-icon name="person-outline" slot="start" color="medium"></ion-icon>
          <ion-label class="font-medium">Mi Perfil</ion-label>
        </ion-item>
        
        <ion-item button="true" (click)="logout()" class="menu-item">
          <ion-icon name="log-out-outline" slot="start" color="danger"></ion-icon>
          <ion-label class="font-medium text-red-600">Cerrar Sesión</ion-label>
        </ion-item>
      </div>
    </ion-content>
  </ion-menu>

  <!-- Contenido principal -->
  <ion-router-outlet id="main-content"></ion-router-outlet>
</ion-app>
